(function(){var e={2348:function(e,t,s){var a={"./af":5096,"./af.js":5096,"./ar":8880,"./ar-dz":9016,"./ar-dz.js":9016,"./ar-kw":8400,"./ar-kw.js":8400,"./ar-ly":8152,"./ar-ly.js":8152,"./ar-ma":1200,"./ar-ma.js":1200,"./ar-ps":8048,"./ar-ps.js":8048,"./ar-sa":4896,"./ar-sa.js":4896,"./ar-tn":620,"./ar-tn.js":620,"./ar.js":8880,"./az":9864,"./az.js":9864,"./be":3352,"./be.js":3352,"./bg":3952,"./bg.js":3952,"./bm":6300,"./bm.js":6300,"./bn":1132,"./bn-bd":9820,"./bn-bd.js":9820,"./bn.js":1132,"./bo":88,"./bo.js":88,"./br":3424,"./br.js":3424,"./bs":6100,"./bs.js":6100,"./ca":8976,"./ca.js":8976,"./cs":3016,"./cs.js":3016,"./cv":1052,"./cv.js":1052,"./cy":6104,"./cy.js":6104,"./da":8120,"./da.js":8120,"./de":2868,"./de-at":548,"./de-at.js":548,"./de-ch":7044,"./de-ch.js":7044,"./de.js":2868,"./dv":9744,"./dv.js":9744,"./el":516,"./el.js":516,"./en-au":6164,"./en-au.js":6164,"./en-ca":5420,"./en-ca.js":5420,"./en-gb":7636,"./en-gb.js":7636,"./en-ie":2788,"./en-ie.js":2788,"./en-il":876,"./en-il.js":876,"./en-in":5700,"./en-in.js":5700,"./en-nz":4456,"./en-nz.js":4456,"./en-sg":9356,"./en-sg.js":9356,"./eo":5916,"./eo.js":5916,"./es":6368,"./es-do":5296,"./es-do.js":5296,"./es-mx":2472,"./es-mx.js":2472,"./es-us":3472,"./es-us.js":3472,"./es.js":6368,"./et":8236,"./et.js":8236,"./eu":8520,"./eu.js":8520,"./fa":6332,"./fa.js":6332,"./fi":8612,"./fi.js":8612,"./fil":8872,"./fil.js":8872,"./fo":9588,"./fo.js":9588,"./fr":7288,"./fr-ca":8696,"./fr-ca.js":8696,"./fr-ch":5156,"./fr-ch.js":5156,"./fr.js":7288,"./fy":9028,"./fy.js":9028,"./ga":7236,"./ga.js":7236,"./gd":7552,"./gd.js":7552,"./gl":7688,"./gl.js":7688,"./gom-deva":3568,"./gom-deva.js":3568,"./gom-latn":3532,"./gom-latn.js":3532,"./gu":6304,"./gu.js":6304,"./he":8836,"./he.js":8836,"./hi":6120,"./hi.js":6120,"./hr":404,"./hr.js":404,"./hu":9251,"./hu.js":9251,"./hy-am":1744,"./hy-am.js":1744,"./id":8680,"./id.js":8680,"./is":6052,"./is.js":6052,"./it":4360,"./it-ch":2540,"./it-ch.js":2540,"./it.js":4360,"./ja":8432,"./ja.js":8432,"./jv":2184,"./jv.js":2184,"./ka":7256,"./ka.js":7256,"./kk":520,"./kk.js":520,"./km":5828,"./km.js":5828,"./kn":8908,"./kn.js":8908,"./ko":7176,"./ko.js":7176,"./ku":3260,"./ku-kmr":1104,"./ku-kmr.js":1104,"./ku.js":3260,"./ky":704,"./ky.js":704,"./lb":6928,"./lb.js":6928,"./lo":7536,"./lo.js":7536,"./lt":8384,"./lt.js":8384,"./lv":4248,"./lv.js":4248,"./me":1264,"./me.js":1264,"./mi":36,"./mi.js":36,"./mk":3136,"./mk.js":3136,"./ml":5004,"./ml.js":5004,"./mn":2448,"./mn.js":2448,"./mr":5016,"./mr.js":5016,"./ms":7308,"./ms-my":3884,"./ms-my.js":3884,"./ms.js":7308,"./mt":932,"./mt.js":932,"./my":8980,"./my.js":8980,"./nb":6912,"./nb.js":6912,"./ne":7403,"./ne.js":7403,"./nl":2004,"./nl-be":9980,"./nl-be.js":9980,"./nl.js":2004,"./nn":1112,"./nn.js":1112,"./oc-lnc":947,"./oc-lnc.js":947,"./pa-in":9112,"./pa-in.js":9112,"./pl":8068,"./pl.js":8068,"./pt":2428,"./pt-br":7872,"./pt-br.js":7872,"./pt.js":2428,"./ro":5416,"./ro.js":5416,"./ru":8552,"./ru.js":8552,"./sd":4512,"./sd.js":4512,"./se":5492,"./se.js":5492,"./si":5336,"./si.js":5336,"./sk":7676,"./sk.js":7676,"./sl":6008,"./sl.js":6008,"./sq":5827,"./sq.js":5827,"./sr":6024,"./sr-cyrl":5360,"./sr-cyrl.js":5360,"./sr.js":6024,"./ss":4888,"./ss.js":4888,"./sv":2668,"./sv.js":2668,"./sw":936,"./sw.js":936,"./ta":5496,"./ta.js":5496,"./te":1572,"./te.js":1572,"./tet":7760,"./tet.js":7760,"./tg":5616,"./tg.js":5616,"./th":6820,"./th.js":6820,"./tk":4748,"./tk.js":4748,"./tl-ph":4056,"./tl-ph.js":4056,"./tlh":9632,"./tlh.js":9632,"./tr":6884,"./tr.js":6884,"./tzl":5968,"./tzl.js":5968,"./tzm":7468,"./tzm-latn":5604,"./tzm-latn.js":5604,"./tzm.js":7468,"./ug-cn":2416,"./ug-cn.js":2416,"./uk":8248,"./uk.js":8248,"./ur":6560,"./ur.js":6560,"./uz":7320,"./uz-latn":8512,"./uz-latn.js":8512,"./uz.js":7320,"./vi":6484,"./vi.js":6484,"./x-pseudo":1836,"./x-pseudo.js":1836,"./yo":6043,"./yo.js":6043,"./zh-cn":1504,"./zh-cn.js":1504,"./zh-hk":6635,"./zh-hk.js":6635,"./zh-mo":8949,"./zh-mo.js":8949,"./zh-tw":6020,"./zh-tw.js":6020};function i(e){var t=r(e);return s(t)}function r(e){if(!s.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}i.keys=function(){return Object.keys(a)},i.resolve=r,e.exports=i,i.id=2348},2268:function(e,t,s){"use strict";var a=s(7764),i=s(2500),r=s(4108);function n(e,t,s,a,i,n){const o=(0,r.E1)("messenger");return(0,r.Wz)(),(0,r.Az)((0,r.mk)(n.main),null,{default:(0,r.Ql)((()=>[(0,r.K2)(o)])),_:1})}const o={class:"ui-container"},l=(0,r.QD)("div",{class:"ui-text-head--2 ui-text--bold page-title"},"Чат",-1),d={class:"ui-container-fluid --full"},c={class:"ui-grid-gap ui-grid-container _indent-large lc-chat-container"},h={class:"ui-col-sm-3 hidden-sm"},u={class:"wrapper"},m={class:"ui-col-sm-9"},p={class:"wrapper"};function g(e,t,s,a,i,n){const g=(0,r.E1)("sidebar"),_=(0,r.E1)("thread"),v=(0,r.E1)("empty-screen");return(0,r.Wz)(),(0,r.An)("div",o,[l,(0,r.QD)("div",d,[(0,r.QD)("div",c,[(0,r.QD)("div",h,[(0,r.QD)("div",u,[(0,r.K2)(g)])]),(0,r.QD)("div",m,[(0,r.QD)("div",p,[((0,r.Wz)(),(0,r.Az)(r.KA,null,[n.thread?((0,r.Wz)(),(0,r.Az)(_,{key:n.thread.id,thread:n.thread},null,8,["thread"])):((0,r.Wz)(),(0,r.Az)(v,{key:1}))],1024))])])])])])}var _=s(9096);const v={class:"lc-chat__item-text"},f={class:"lc-chat__item-head"},b={class:"lc-chat__item-name cursor-pointer"},y={class:"lc-chat__item-date"},w={class:"lc-chat__item-body"},j=["innerHTML"],D={key:0,class:"lc-chat__item-notify"};function k(e,t,s,a,i,n){const o=(0,r.E1)("avatar");return s.thread?((0,r.Wz)(),(0,r.An)("a",{key:0,class:(0,_.WN)("lc-chat__item "+(s.active?"lc-chat__item--active":"")+" cursor-pointer"),onClick:t[0]||(t[0]=e=>n.setAsActive(e))},[(0,r.K2)(o,{"is-private":s.thread.isPrivate,recipient:s.thread.recipient},null,8,["is-private","recipient"]),(0,r.QD)("div",v,[(0,r.QD)("div",f,[(0,r.QD)("div",b,(0,_.WA)(s.thread.name),1),(0,r.QD)("div",y,(0,_.WA)(n.last_message.time),1)]),(0,r.QD)("div",w,[(0,r.QD)("div",{class:"lc-chat__item-description",innerHTML:n.body},null,8,j),s.thread.unread_count?((0,r.Wz)(),(0,r.An)("span",D,(0,_.WA)(s.thread.unread_count),1)):(0,r.g1)("",!0)])])],2)):(0,r.g1)("",!0)}s(3248);class Q{constructor(e){this._participant=e}is(e){return e.providerID===this.providerID&&e.alias===this.alias}get providerID(){return this._participant.provider_id??null}get alias(){return this._participant.provider_alias??null}get participant(){return this._participant}get hasPicture(){return this._participant?.base?.picture}get picture(){return this.hasPicture?this._participant.base.picture:null}static make(e){return e?e instanceof Q?e:Q.new(e):Q.nullObject()}static new(e){return new Proxy(new Q(e),{get(e,t){return t in e?e[t]:e._participant&&t in e._participant?e._participant[t]:null}})}static nullObject(){return new Proxy({},{get(e,t){return null}})}}const x=(e,t,s=!0)=>e.isAfter(t)?s?1:-1:t.isAfter(e)?s?-1:1:0,z=e=>"/threads/"+e,A=e=>z(e)+"/messages",T=()=>"/heartbeat";var P=s(2964);P.c.interceptors.response.use((e=>e),(e=>{const t=e.response?e.response.status:null;return window&&window.oc&&window.oc.flashMsg({text:t,class:"error"}),Promise.reject(e)}));var M=P.c.create({baseURL:"/api/messenger/"});class W{constructor(e){this._message=e,this._error="",this._failed=!1,this._sending=!1,this._visible=!1,this._was_visible=!1}get id(){return this._message?.id}get wasVisible(){return this._was_visible}set wasVisible(e){this._was_visible=e}set visible(e){this._visible=e}get visible(){return this._visible}is(e){return e.id&&this.id&&e.id==this.id||this.temporary_id&&e.temporary_id&&this.temporary_id==e.temporary_id}async send(e=!1){if(!e)try{if(this.isNew&&!this.sending)return this.sending=!0,await M.post(A(this.thread_id),{message:this.body,temporary_id:this.temporary_id}).catch((e=>{this.isFailed=!0})).finally((()=>{this.sending=!1}))}catch(t){this.sending=!1,this.isFailed=!0}}get thread_id(){return this._message.thread_id}get temporary_id(){return this._message.temporary_id}get isFailed(){return this._failed}set isFailed(e){this._failed=e}get sending(){return this._sending}set sending(e){this._sending=e}get isNew(){return this._message.is_new}get message(){return this._message}get owner(){return this._message.owner?Q.make(this._message.owner):Q.nullObject()}get body(){return this._message?.body??""}get time(){return this.updated_at.format("HH:mm")}get created_at(){return this.isNew?moment(new Date(Number(this.temporary_id)).toISOString()):this.message.created_at?moment(this.message.created_at):moment()}get updated_at(){return this.isNew?moment(new Date(Number(this.temporary_id)).toISOString()):this.message.updated_at?moment(this.message.updated_at):moment()}static make(e){return e?e instanceof W?e:W.new(e):W.nullObject()}static new(e){return new Proxy(new W(e),{get(e,t){return t in e?e[t]:e._message&&t in e._message?e._message[t]:null}})}static nullObject(){return new Proxy({},{get(e,t){return null}})}}class C{constructor(e="list"){this._mode=e,this.list_query="",this.create_query=""}get mode(){return this._mode}toCreateMode(){return this._mode="create",this}toListMode(){return this._mode="list",this}}class q{constructor(e={}){this._thread={},this._threads=[],this.sidebar=new C,this.thread_meta=[],this._settings={},this._heartbeat={},this.heartbeat(),this._heartbeat_interval=setInterval(this.heartbeat.bind(this),5e4)}async syncSettings(){await M.get("/settings").then((e=>{this._settings=e.data;const t=this.settings.owner?.base;localStorage.setItem("user",JSON.stringify({profile:t}))}))}hasThread(e){return this._threads.find((t=>t.is(e)))}get provider(){return Q.make(this._heartbeat.provider)}clean(){clearInterval(this._heartbeat_interval),this.heartbeat(!0)}heartbeat(e=!1){M.post(T(),{away:e}).then((e=>this._heartbeat=e.data))}get settings(){return this._settings}get thread(){return this.hasCurrentThread()?this._thread:null}get threads(){return this._threads.sort(((e,t)=>x(e.updated_at,t.updated_at,!1)))}set thread(e){this._thread=e}get latestRecipients(){return this.threads.filter((e=>e.isPrivate)).map((e=>Q.make(e.thread.resources.recipient)))}newMessage(e){return e?(this._threads.find((t=>t.id===e.thread_id))?.load(e,!0,!0),this):this}async newThread(e){this.deleteThread(this.thread).then((()=>{this.addThreadEntity(e,!0)}))}async newGroup(e){await M.post("/groups",e).then((e=>{this.addThreadEntity(e.data,!0)})).catch((e=>Promise.reject(e)))}async removeThread(e){await this.deleteThread({id:e},!1)}async deleteThread(e,t=!0){this._threads=this._threads.filter((t=>t.id!=e.id)),(t||this._thread.id==e.id)&&(this._thread={})}hasCurrentThread(){return this._thread.hasOwnProperty("thread")??!1}async addThreadEntity(e,t=!1){e&&(this._threads.push(S.make(e)),t&&(this.thread=this._threads.find((t=>t.id===e.id))))}get hasMoreThreads(){return!this.thread_meta.meta?.final_page}threadsFromRequest(e=null){e&&(this.thread_meta=e,this.thread_meta.data.forEach((e=>this.addThreadEntity(e))))}async loadNextThreadPage(){this._threads.length&&this.hasMoreThreads&&await this.loadThreads(this.thread_meta.meta?.next_page_id)}async loadThreads(e=!1){const t="/threads"+(e?"/page/"+e:"");await M.get(t).then((e=>this.threadsFromRequest(e.data))).catch((e=>console.log(e)))}markLastRead(e){const t=this._threads.find((t=>t.id==e.thread_id));t&&(t.last_read_at=e.last_read)}async loadThread(e){e&&await M.get("/threads/"+e).then((e=>this.addThreadEntity(e.data))).catch((e=>console.log(e)))}}let O=new q;class S{constructor(e){this.messenger=O,this.thread=e,this.messages_meta=null,this._messages=[],this._last_read_at=null,this._reading=!1}get last_read_at(){return this._last_read_at}set last_read_at(e){this._last_read_at=moment(e)}get unread_count(){return this.last_read_at?this._messages.filter((e=>!e.owner.is(this.messenger.provider)&&e.created_at.isAfter(this.last_read_at))).length+this.thread.unread_count:this.thread.unread_count}set unread_count(e){this.thread.unread_count=e}is(e){return this.id&&e.id&&this.id===e.id||this.tempID&&e.tempID&&e.tempID===this.tempID}get tempID(){return this.recipient.provider_alias+this.recipient.providerID}get next_page_message(){return this._messages[1]}get isFinalPage(){return this.messages_meta?.final_page??!1}get isNew(){return Boolean(this.thread.is_new)}get name(){return this.isPrivate?this.recipient.name:this.thread.name}get created_at(){return moment(this.thread.created_at)}get updated_at(){return moment(this.thread.updated_at)}set last_message(e){this.thread.resources.latest_message=e}get last_message(){return this.isNew?this.latest_message:this.hasMessages?this.messages()[this.length-1]:this.latest_message}get latest_message(){return W.make(this.hasLastMessage?this.thread.resources.latest_message:null)}get hasLastMessage(){return!!this.thread.resources?.latest_message}get hasMessages(){return!!this._messages.length}get length(){return this._messages.length}get id(){return this.thread?.id??this.tempID}set id(e){this.thread.id=e}get isAdmin(){return this.thread?.options?.admin}async read(){this._reading||(this._reading=!0,M.get(z(this.id)+"/mark-read").then((e=>{this.unread_count=0,this.last_read_at=moment()})).finally((()=>this._reading=!1)))}async leave(){this.isGroup&&!this.isAdmin&&await M.post(z(this.id)+"/leave").then((e=>{this.messenger.deleteThread(this)}))}async block(){this.isPrivate&&await M.get("/block/"+this.recipient.providerID).then((e=>this.delete())).catch((e=>console.log(e)))}get isPrivate(){return!this.isGroup}get isGroup(){return Boolean(this.thread.group)}get recipient(){return Q.make(this.isPrivate?this.thread?.resources?.recipient:{name:this.thread.name})}get hasNew(){return this._messages.find((e=>e.isNew))}async load(e=null,t=!1,s=!1){if(e){if(e=W.make(e),this.hasNew){const t=this._messages.find((t=>t.isNew&&t.temporary_id===e.temporary_id));t&&(this._messages=this._messages.filter((e=>!e.isNew&&e.temporary_id!==t.temporary_id)))}!this.length&&s&&(this.last_read_at=moment(e.created_at).subtract(1,"seconds")),this._messages.push(e),t&&(this.thread.updated_at=e.updated_at)}}async sendMessage(e){const t=new W({thread_id:this.id,is_new:!0,temporary_id:Date.now()+"",body:e,owner:this.messenger.provider});if(this.isNew){const e={message:t.body,recipient_alias:"profile",recipient_id:this.recipient.providerID};M.post("/privates",e).then((e=>this.messenger.newThread(e.data)))}this.messenger.hasThread(this)||this.messenger.addThreadEntity(this,!0),this.messenger.sidebar.list_query="",t.send(this.isNew),await this.load(t,!0)}async delete(){await M.delete("threads/"+this.id).then((e=>this.messenger.deleteThread(this))).catch((e=>console.log(e)))}async loadMessages(e,t){return e=e||A(this.id),await M.get(e).then((e=>{t&&(this._messages=[]),this.extract(e)}))}async loadNextPage(){this.length&&this.next_page_message&&!this.isFinalPage&&this.messages_meta?.next_page_id&&await this.loadMessages(A(this.id)+"/page/"+this.messages_meta.next_page_id)}async extract(e){let t=e.data.data;if(this.messages_meta=e.data.meta,t)return await Promise.all(t.map((e=>this.load(e))))}sort(){return this._messages.sort(((e,t)=>x(e.created_at,t.created_at))),this}messages(){return this.sort()._messages}static make(e){return e?e instanceof S?e:S.new(e):S.nullObject()}static new(e){return new Proxy(new S(e),{get(e,t){switch(!0){case t in e:return e[t];case t in e.thread:return e.thread[t];default:return null}}})}static nullObject(){return new Proxy({},{get(e,t){return null}})}}var N=s.p+"assets/img/svg-sprite.408d091f.svg";const E=N+"#user-stroked-24",L=N+"#users-stroked-32",K=["src"],I={key:1},Y={key:0,class:"lc-chat__item-img header-search__icon square-16"},B=(0,r.QD)("use",{"xlink:href":E},null,-1),F=[B],U={key:1,class:"lc-chat__item-img header-search__icon square-16"},V=(0,r.QD)("use",{"xlink:href":L},null,-1),H=[V];function G(e,t,s,a,i,n){return(0,r.Wz)(),(0,r.An)("div",null,[s.isPrivate&&s.recipient.hasPicture?((0,r.Wz)(),(0,r.An)("img",{key:0,class:"lc-chat__item-img",src:s.recipient.picture,alt:"avatar"},null,8,K)):((0,r.Wz)(),(0,r.An)("div",I,[s.isPrivate?((0,r.Wz)(),(0,r.An)("svg",Y,F)):((0,r.Wz)(),(0,r.An)("svg",U,H))]))])}var $={name:"avatar",props:{recipient:{type:Q},isPrivate:{type:Boolean,default:!1}}},R=s(4100);const J=(0,R.c)($,[["render",G]]);var X=J,Z={name:"ThreadPreview",components:{Avatar:X},props:{thread:{type:S,default:null},active:{type:Boolean,default:!1}},computed:{last_message(){return this.length?this.thread.last_message:this.thread.latest_message},length(){return this.thread._messages.length},body(){let e=this.last_message.body;return this.user?.profile.id===this.last_message?.owner?.providerID&&(e="Вы: "+e),e}},methods:{setAsActive(e){e.preventDefault(),this.messenger.thread=this.thread}}};const ee=(0,R.c)(Z,[["render",k]]);var te=ee,se=(s(1892),s(8708));const ae=N+"#info-stroked-24",ie={class:"ui-modal-container"},re={class:"ui-modal-content adult-modal__content"},ne=(0,r.QD)("div",{class:"adult-modal__limit ui-text--bold adult-modal__wrap ui-text-body--1"},[(0,r.mY)("     "),(0,r.QD)("svg",{class:"icon-info-confirm square-24"},[(0,r.QD)("use",{"xlink:href":ae})]),(0,r.mY)("     ")],-1),oe=(0,r.QD)("div",{class:"ui-text-head--2 ui-text--bold adult-modal__wrap"},[(0,r.mY)("Подтвердите "),(0,r.QD)("br"),(0,r.mY)(" действие")],-1),le=["innerHTML"];function de(e,t,s,a,i,n){return(0,r.Wz)(),(0,r.An)("div",{class:(0,_.WN)(["adult-modal","ui-modal",e.active?"active":""])},[(0,r.QD)("div",ie,[(0,r.QD)("div",re,[ne,oe,(0,r.QD)("div",{class:"adult-modal__wrap",innerHTML:e.question},null,8,le),(0,r.QD)("button",{onClick:t[0]||(t[0]=e=>n.submit()),class:"header__actions-auth-button ui-button ui-button-view--2 ui-button-size--32 ui-button--full"}," Да "),(0,r.QD)("button",{onClick:t[1]||(t[1]=e=>n.submit(!1)),class:"header__actions-auth-button ui-button ui-button-view--3 ui-button-size--32 ui-button--full"}," Нет ")])])],2)}var ce={name:"confirm",data:()=>({cancel:()=>{},apply:()=>{},active:!1,question:""}),methods:{confirm(e={question:"Подтвердите действие",apply:()=>{},cancel:()=>{}}){const[t,s,a]=Object.values(e);this.question=t||this.question,this.apply=s||this.apply,this.cancel=a||this.cancel,this.active=!0},submit(e=!0){return this.active=!1,(e?this.apply:this.cancel)()}}};const he=(0,R.c)(ce,[["render",de]]);var ue=he;const me=e=>((0,r.ED)("data-v-168cb877"),e=e(),(0,r.ii)(),e),pe={class:"loader-wrap"},ge=me((()=>(0,r.QD)("div",{class:"commerce__loading-wrap"},[(0,r.QD)("div",{class:"commerce__loading-icon"},[(0,r.QD)("div"),(0,r.QD)("div"),(0,r.QD)("div"),(0,r.QD)("div"),(0,r.QD)("div"),(0,r.QD)("div"),(0,r.QD)("div"),(0,r.QD)("div")])],-1))),_e=[ge];function ve(e,t,s,a,i,n){return(0,r.Wz)(),(0,r.An)("div",pe,_e)}var fe={name:"loader"};const be=(0,R.c)(fe,[["render",ve],["__scopeId","data-v-168cb877"]]);var ye=be;const we=N+"#refresh-stroked-24",je={class:"lc-chat__item-text"},De={class:"lc-chat__item-head"},ke={class:"lc-chat__item-name"},Qe={class:"lc-chat__item-date lc-chat__item-date--left"},xe=(0,r.QD)("use",{"xlink:href":we},null,-1),ze=[xe],Ae={class:"lc-chat__item-body"},Te=["innerHTML"],Pe={name:"Message",components:{Avatar:X},props:{message:{type:W,default:()=>W.nullObject()}},computed:{text(){return this.message.body?.replace(/\n/g,"<br>")},isSending(){return this.message.sending},isFailed(){return this.message.isFailed},mClass(){return["header-search__icon","square-16",this.isSending?"transform":"",this.isFailed?"failed":""].join(" ")}}};var Me=Object.assign(Pe,{setup(e){return(t,s)=>(0,r.wt)(((0,r.Wz)(),(0,r.An)("div",{key:e.message.id,class:"lc-chat__item"},[(0,r.K2)(X,{recipient:e.message.owner,"is-private":!0},null,8,["recipient"]),(0,r.QD)("div",je,[(0,r.QD)("div",De,[(0,r.QD)("div",ke,(0,_.WA)(e.message.owner.name),1),(0,r.QD)("div",Qe,(0,_.WA)(e.message.time),1),(0,r.wt)(((0,r.Wz)(),(0,r.An)("svg",{class:(0,_.WN)(t.mClass)},ze,2)),[[a.Ub,t.isSending||t.isFailed]])]),(0,r.QD)("div",Ae,[(0,r.QD)("div",{class:"lc-chat__item-content",innerHTML:t.text},null,8,Te)])])])),[[(0,i.KV)(se.YB),t=>e.message.visible=t]])}});const We=Me;var Ce=We,qe={data:()=>({scrollable_offset:0,loading_next_page:!1,infScrollDirection:"bottom",y:0}),computed:{scrollable(){throw new Error("To be implemented")},isTopDirection(){return"top"===this.infScrollDirection}},methods:{scrollend(e){let[,,t]=this.scrollableProps();this.y=t},async loadNext(e){this.loading_next_page||(this.loading_next_page=!0,this.rememberScrollPosition(),await e().finally((()=>{this.returnScroll(),this.loading_next_page=!1})))},rememberScrollPosition(){if(!this.isTopDirection)return;let[e,,t]=this.scrollableProps();this.scrollable_offset=e-t},returnScroll(){if(!this.isTopDirection)return;let[e]=this.scrollableProps();this.moveScrollableTo(e-this.scrollable_offset)},scrollableProps(){const e=this.scrollable;return[e.scrollHeight,e.clientHeight,e.scrollTop]},async scrollToBottom(e=!0){await this.scrollable.scrollTo({top:this.scrollable.scrollHeight,behavior:e?"smooth":"instant"})},moveScrollableTo(e){e&&(this.scrollable.scrollTop=e)}},activated(){this.moveScrollableTo(this.y)}};const Oe=N+"#more-16",Se=N+"#chevron-down-16",Ne={class:"lc-chat__detail"},Ee={class:"lc-chat__detail-header"},Le={class:"lc-chat__item"},Ke={class:"lc-chat__item-text"},Ie={class:"lc-chat__item-head"},Ye=["href"],Be={key:1,class:"lc-chat__item-name"},Fe=(0,r.QD)("button",{class:"lc-chat__item-action-init","data-tippy-init":""},[(0,r.QD)("svg",{class:"square-16"},[(0,r.QD)("use",{"xlink:href":Oe})])],-1),Ue={key:0,class:"ui-dropdown-wrap"},Ve={class:"ui-dropdown"},He={class:"ui-dropdown-container"},Ge=["onClick"],$e={class:"lc-chat__list"},Re={key:0,class:"lc-chat__detail-return-container"},Je=(0,r.QD)("svg",{width:"24",height:"24"},[(0,r.QD)("use",{"xlink:href":Se})],-1),Xe=[Je],Ze={class:"lc-chat__detail-footer"},et={class:"lc-chat__detail-response",action:""},tt={class:"lc-chat__detail-response-input textarea-adaptiveheight-container"},st={ref:"fake",class:"textarea-adaptiveheight-fake"},at=["rows"],it=["disabled"],rt={name:"Thread",components:{Avatar:X,Message:Ce},mixins:[qe],props:{thread:{type:S,default:null}},data:()=>({text:"",upBtn:!1,rows:1,separator:"\n",dropdown:!1,infScrollDirection:"top",loading:!1}),computed:{scrollable(){return this.$refs.screen},actions(){return[{condition:this.thread.isGroup&&!this.thread.isAdmin,label:"Покинуть",handler:this.leave},{condition:!this.thread.isNew&&this.thread.isPrivate,label:"В черный список",handler:this.block},{condition:!this.thread.isNew&&this.thread.isPrivate,label:"Удалить",handler:this.deleteConversation}]},showDropdown(){return this.actions.some((e=>e.condition))},messages(){return Object.groupBy(this.thread.messages(),(e=>e.updated_at.format("DD-MM-YY")))},textarea(){return this.text.split(this.separator).length}},watch:{textarea:function(e){this.rows=Math.min(e,4)}},methods:{read(e){e&&this.thread.read()},loadNextPage(){this.loadNext(this.thread.loadNextPage.bind(this.thread))},newLine(e){this.text+=e.shiftKey?this.separator:""},leave(){this.$refs.dialog.confirm({question:"Покинуть группу?",apply:this.thread.leave.bind(this.thread)})},block(){this.$refs.dialog.confirm({question:"Добавить в чёрный список? Все сообщения будут удалены.",apply:this.thread.block.bind(this.thread)})},deleteConversation(){this.$refs.dialog.confirm({question:"Удалить диалог?",apply:this.thread.delete.bind(this.thread)})},send(e){!e.shiftKey&&this.text&&this.thread.sendMessage(this.text).then((()=>{this.text="",this.scrollToBottom()})).catch((e=>{console.log(e)}))},loadMessages(){this.loading=!0,this.thread.loadMessages(!1,!0).then((()=>{})).catch((e=>console.log(e))).finally((()=>{this.loading=!1,this.scrollToBottom(!1)}))},scroll(e){let[t,s,a]=this.scrollableProps();this.upBtn=t-(a+s)>s-15*s/100}},activated(){this.$refs.textarea.focus()},mounted(){this.loadMessages()}};var nt=Object.assign(rt,{setup(e){return(t,s)=>((0,r.Wz)(),(0,r.An)(r.ae,null,[(0,r.K2)(ue,{ref:"dialog"},null,512),(0,r.QD)("div",Ne,[(0,r.QD)("div",Ee,[(0,r.QD)("div",Le,[(0,r.K2)(X,{"is-private":e.thread.isPrivate,recipient:e.thread.recipient},null,8,["is-private","recipient"]),(0,r.QD)("div",Ke,[(0,r.QD)("div",Ie,[e.thread.isPrivate?((0,r.Wz)(),(0,r.An)("a",{key:0,href:"/author-page/"+e.thread.recipient.providerID,target:"_blank",class:"lc-chat__item-name"},(0,_.WA)(e.thread.name),9,Ye)):((0,r.Wz)(),(0,r.An)("div",Be,(0,_.WA)(e.thread.name),1))])]),t.showDropdown?((0,r.Wz)(),(0,r.An)("div",{key:0,class:"lc-chat__item-action",onMouseover:s[0]||(s[0]=(0,a.Y7)((e=>t.dropdown=!0),["prevent"])),onMouseleave:s[1]||(s[1]=(0,a.Y7)((e=>t.dropdown=!1),["prevent"])),"data-tippy-continer":"","data-tippy-offset":"[0, 0]","data-tippy-placement":"bottom-end"},[Fe,t.dropdown?((0,r.Wz)(),(0,r.An)("div",Ue,[(0,r.QD)("div",Ve,[(0,r.QD)("div",He,[((0,r.Wz)(!0),(0,r.An)(r.ae,null,(0,r.mi)(t.actions,(e=>((0,r.Wz)(),(0,r.An)("div",null,[e.condition?((0,r.Wz)(),(0,r.An)("div",{key:0,onClick:(0,a.Y7)(e.handler,["prevent"]),class:"ui-dropdown-item"},[(0,r.QD)("span",null,(0,_.WA)(e.label),1)],8,Ge)):(0,r.g1)("",!0)])))),256))])])])):(0,r.g1)("",!0)],32)):(0,r.g1)("",!0)])]),(0,r.wt)(((0,r.Wz)(),(0,r.An)("div",{class:"lc-chat__detail-body scrollbar",ref:"screen",id:"screen",onScroll:s[3]||(s[3]=(...e)=>t.scroll&&t.scroll(...e)),onScrollend:s[4]||(s[4]=(...e)=>t.scrollend&&t.scrollend(...e))},[(0,r.QD)("div",$e,[(0,r.wt)((0,r.K2)(ye,null,null,512),[[a.Ub,t.loading]]),((0,r.Wz)(!0),(0,r.An)(r.ae,null,(0,r.mi)(t.messages,((e,a)=>((0,r.Wz)(),(0,r.An)("div",{class:"lc-chat__item-container",key:a},[(0,r.QD)("div",{class:"lc-chat__date",onClick:s[2]||(s[2]=(...e)=>t.scrollToBottom&&t.scrollToBottom(...e))},(0,_.WA)(t.momentize(a).format("DD MMMM")),1),((0,r.Wz)(!0),(0,r.An)(r.ae,null,(0,r.mi)(e,(e=>((0,r.Wz)(),(0,r.Az)(Ce,{key:e.id,message:e},null,8,["message"])))),128)),(0,r.wt)((0,r.QD)("div",null,null,512),[[(0,i.KV)(se.YB),[t.read,{immediate:!0}]]])])))),128))])],32)),[[(0,i.KV)(se.uK),[t.loadNextPage,{distance:0,direction:t.infScrollDirection,interval:400,canLoadMore:()=>!e.thread.isFinalPage}]]]),t.upBtn?((0,r.Wz)(),(0,r.An)("div",Re,[(0,r.QD)("button",{class:"lc-chat__detail-return",onClick:s[5]||(s[5]=(...e)=>t.scrollToBottom&&t.scrollToBottom(...e))},Xe)])):(0,r.g1)("",!0),(0,r.QD)("div",Ze,[(0,r.QD)("form",et,[(0,r.QD)("div",tt,[(0,r.QD)("div",st,null,512),(0,r.wt)((0,r.QD)("textarea",{class:"ui-input-textarea textarea-adaptiveheight",ref:"textarea","onUpdate:modelValue":s[6]||(s[6]=e=>t.text=e),rows:t.rows,onKeydown:s[7]||(s[7]=(0,a.jj)((0,a.Y7)(((...e)=>t.newLine&&t.newLine(...e)),["prevent"]),["enter"])),onKeyup:s[8]||(s[8]=(0,a.jj)((0,a.Y7)(((...e)=>t.send&&t.send(...e)),["prevent"]),["enter"])),placeholder:"Сообщение",autofocus:"",type:"text"},null,40,at),[[a.Og,t.text]])]),(0,r.QD)("button",{class:"ui-button ui-button-view--2 ui-button-size--32",disabled:!t.text,onClick:s[9]||(s[9]=(0,a.Y7)(((...e)=>t.send&&t.send(...e)),["prevent"]))}," Отправить ",8,it)])])])],64))}});const ot=nt;var lt=ot;const dt=N+"#message-stroked-24",ct={class:"lc-chat__empty"},ht=(0,r.QD)("svg",{class:"square-32"},[(0,r.QD)("use",{"xlink:href":dt})],-1),ut={class:"lc-chat__empty-text"},mt=(0,r.QD)("br",null,null,-1);function pt(e,t,s,i,n,o){return(0,r.Wz)(),(0,r.An)("div",ct,[ht,(0,r.QD)("div",ut,[(0,r.mY)("Выберите чат"),mt,(0,r.mY)("или "),(0,r.QD)("a",{href:"",onClick:t[0]||(t[0]=(0,a.Y7)((t=>e.messenger.sidebar.toCreateMode()),["prevent"]))},"создайте новый")])])}var gt={name:"EmptyScreen"};const _t=(0,R.c)(gt,[["render",pt]]);var vt=_t;function ft(e,t,s,a,i,n){return(0,r.Wz)(),(0,r.Az)(r.KA,null,[((0,r.Wz)(),(0,r.Az)((0,r.mk)(n.component),{onRefresh:t[0]||(t[0]=t=>e.refreshKey[n.mode]++),key:n.mode+e.refreshKey[n.mode]},null,32))],1024)}const bt=N+"#close-stroked-16",yt=N+"#users-stroked-32",wt={class:"lc-chat__header"},jt=(0,r.QD)("span",null,"Создание чата",-1),Dt=(0,r.QD)("svg",{width:"24",height:"24"},[(0,r.QD)("use",{"xlink:href":bt})],-1),kt=[Dt],Qt={class:"lc-chat__create"},xt={class:"lc-chat__create-item"},zt=(0,r.QD)("label",{class:"lc-chat__item-img-container header-search__icon",style:{"background-color":"transparent!important"}},[(0,r.QD)("svg",{class:"lc-chat__item-img square-16"},[(0,r.QD)("use",{"xlink:href":yt})])],-1),At={class:"lc-chat__create-item"},Tt={class:"lc-chat__body custom-scrollbar"},Pt={class:"lc-chat__list lc-chat__list--no-margin"},Mt={class:"lc-chat__item-text"},Wt={class:"lc-chat__item-head"},Ct={class:"lc-chat__item-name"},qt=["name","onUpdate:modelValue"],Ot=(0,r.QD)("div",{class:"ui-radio-checker"},null,-1),St={class:"lc-chat__footer"},Nt={class:"ui-grid-container ui-grid-gap"};function Et(e,t,s,i,n,o){const l=(0,r.E1)("avatar");return(0,r.Wz)(),(0,r.An)(r.ae,null,[(0,r.QD)("div",wt,[jt,(0,r.QD)("a",{class:"header-search__action",onClick:t[0]||(t[0]=t=>e.messenger.sidebar.toListMode())},kt)]),(0,r.QD)("div",Qt,[(0,r.QD)("div",xt,[zt,(0,r.wt)((0,r.QD)("input",{type:"text",class:"ui-input-bottom-line",placeholder:"Введите название чата","onUpdate:modelValue":t[1]||(t[1]=t=>e.chatname=t)},null,512),[[a.Og,e.chatname]])]),(0,r.QD)("div",At,[(0,r.wt)((0,r.QD)("input",{"onUpdate:modelValue":t[2]||(t[2]=t=>e.find=t),onKeydown:t[3]||(t[3]=(0,a.jj)((0,a.Y7)(((...e)=>o.search&&o.search(...e)),["prevent"]),["enter"])),type:"text",class:"ui-input-bottom-line",placeholder:"Найти"},null,544),[[a.Og,e.find]])])]),(0,r.QD)("div",Tt,[(0,r.QD)("div",Pt,[((0,r.Wz)(!0),(0,r.An)(r.ae,null,(0,r.mi)(o.collection,((e,t)=>((0,r.Wz)(),(0,r.An)("label",{class:"lc-chat__item ui-radio",key:t},[(0,r.K2)(l,{"is-private":!0,recipient:e},null,8,["recipient"]),(0,r.QD)("div",Mt,[(0,r.QD)("div",Wt,[(0,r.QD)("div",Ct,(0,_.WA)(e.name),1)])]),(0,r.wt)((0,r.QD)("input",{type:"checkbox",name:e.providerID,"onUpdate:modelValue":t=>e.selected=t,hidden:""},null,8,qt),[[a.cV,e.selected]]),Ot])))),128))])]),(0,r.QD)("div",St,[(0,r.QD)("div",Nt,[(0,r.QD)("button",{onClick:t[4]||(t[4]=(0,a.Y7)(((...e)=>o.submit&&o.submit(...e)),["prevent"])),class:"ui-button ui-button-view--2 ui-button-size--32 ui-col-sm-6 ui-button--full"},"Создать чат "),(0,r.QD)("button",{onClick:t[5]||(t[5]=(...e)=>o.cancel&&o.cancel(...e)),class:"ui-button ui-button-view--3 ui-button-size--32 ui-col-sm-6 ui-button--full"}," Отмена ")])])],64)}var Lt=s(2332);const Kt=class extends Q{constructor(...e){super(...e),(0,Lt.c)(this,"selected",!1)}};var It={name:"create",components:{Avatar:X},data:()=>({chatname:"",find:"",result:[]}),methods:{cancel(){this.$emit("refresh"),this.messenger.sidebar.toListMode()},search(){this.find.length<3||this.axios.get("/search/"+this.find).then((e=>{this.result=(e.data?.data??[]).map((e=>Kt.make(e)))}))},submit(e){if(!this.chatname)return;const t=this.collection.filter((e=>e.selected)).map((e=>({id:e.providerID,alias:e.alias}))),s=Object.assign({subject:this.chatname},t.length?t:{});this.messenger.newGroup(s).then((()=>{this.cancel()}))}},computed:{collection:{get(){return this.messenger.latestRecipients.filter((e=>e.name.toLowerCase().includes(this.find.toLowerCase()))).filter((e=>!this.result.find((t=>e.is(t))))).map((e=>Kt.make(e.participant))).concat(this.result.filter((e=>e.name.toLowerCase().includes(this.find.toLowerCase()))))},set(e){}}}};const Yt=(0,R.c)(It,[["render",Et]]);var Bt=Yt;const Ft=N+"#search-stroked-24",Ut=N+"#close-stroked-16",Vt=N+"#edit",Ht={class:"header-search__container"},Gt={class:"header-search__search"},$t=(0,r.QD)("svg",{class:"header-search__icon square-16"},[(0,r.QD)("use",{"xlink:href":Ft})],-1),Rt=(0,r.QD)("svg",{class:"header-search__button-clear square-16","data-button-input":"clear"},[(0,r.QD)("use",{"xlink:href":Ut})],-1),Jt=(0,r.QD)("svg",{width:"24",height:"24"},[(0,r.QD)("use",{"xlink:href":Vt})],-1),Xt=[Jt],Zt={name:"list",components:{ThreadPreview:te},mixins:[qe],data:()=>({qGroups:[],qProfiles:[],thread_meta:{},loading:!1}),computed:{scrollable(){return this.$refs.list},q:{get(){return this.messenger.sidebar.list_query},set(e){this.messenger.sidebar.list_query=e}},hasMoreThreads(){return this.messenger.hasMoreThreads},threads(){return this.messenger.threads},profiles(){return this.qProfiles.filter((e=>!this.user||e.recipient.providerID+""!==this.user.profile.id+"")).filter((e=>!this.threads.find((t=>t.is(e))))).filter((e=>!this.qGroups.find((t=>t.is(e)))))},groups(){return this.qGroups.filter((e=>!this.threads.find((t=>t.is(e)))))},list(){return this.threads.filter((e=>this.q?e.thread.name?.toLowerCase().includes(this.q.toLowerCase()):e)).concat(this.groups).concat(this.profiles)}},watch:{q:function(e){e.length>0||(this.qGroups=this.qProfiles=[])}},methods:{loadMoreThreads(){this.loadNext(this.messenger.loadNextThreadPage.bind(this.messenger))},search(){this.q.length<3||Promise.all([this.th(),this.pr()])},pr(){return this.axios.get("/search/"+this.q).then((e=>{this.qProfiles=e.data.data.map((e=>S.make({is_new:!0,group:!1,resources:{recipient:Q.make(e)}})))}))},th(){return this.axios.get("/threads/search/"+this.q).then((e=>{this.qGroups=e.data.data.map((e=>S.make(e)))}))}},mounted(){this.loading=!0,this.messenger.loadThreads().finally((()=>this.loading=!1))}};var es=Object.assign(Zt,{setup(e){return(e,t)=>((0,r.Wz)(),(0,r.An)(r.ae,null,[(0,r.QD)("div",Ht,[(0,r.QD)("div",Gt,[$t,(0,r.wt)((0,r.QD)("input",{"onUpdate:modelValue":t[0]||(t[0]=t=>e.q=t),onKeydown:t[1]||(t[1]=(0,a.jj)((0,a.Y7)(((...t)=>e.search&&e.search(...t)),["prevent"]),["enter"])),class:"header-search__input",type:"text",placeholder:"Поиск","data-search":"input"},null,544),[[a.Og,e.q]]),Rt]),(0,r.QD)("a",{class:"header-search__action",onClick:t[2]||(t[2]=t=>e.messenger.sidebar.toCreateMode())},Xt)]),(0,r.wt)(((0,r.Wz)(),(0,r.An)("div",{ref:"list",onScrollend:t[3]||(t[3]=(0,a.Y7)(((...t)=>e.scrollend&&e.scrollend(...t)),["prevent"])),class:"lc-chat__list scrollbar"},[(0,r.wt)((0,r.K2)(ye,null,null,512),[[a.Ub,e.loading]]),((0,r.Wz)(!0),(0,r.An)(r.ae,null,(0,r.mi)(e.list,(t=>((0,r.Wz)(),(0,r.Az)(te,{active:e.messenger.hasCurrentThread()&&t.id===e.messenger.thread.id,thread:t,key:t.id},null,8,["active","thread"])))),128))],32)),[[(0,i.KV)(se.uK),[e.loadMoreThreads,{distance:0,direction:e.infScrollDirection,interval:500,canLoadMore:()=>e.hasMoreThreads}]]])],64))}});const ts=es;var ss=ts,as={name:"Sidebar",components:{List:ss,Create:Bt},data:()=>({refreshKey:{list:1,create:1}}),computed:{mode(){return this.$messenger.value.sidebar.mode},list(){return"list"===this.mode},create(){return"create"===this.mode},component(){return this.list?ss:Bt}}};const is=(0,R.c)(as,[["render",ft]]);var rs=is,ns={name:"Messenger",components:{Sidebar:rs,EmptyScreen:vt,Thread:lt,ThreadPreview:te},data:()=>({channel:null}),computed:{thread(){return this.messenger.thread}},methods:{async connectChannel(){await this.messenger.syncSettings().then((()=>{this.user?window.Echo?this.channel=window.Echo.private("messenger.profile."+this.user.profile.id).listen(".new.message",(e=>this.messenger.newMessage(e))).listen(".new.thread",(e=>this.messenger.loadThread(e.thread.id))).listen(".thread.read",(e=>this.messenger.markLastRead(e))).listen(".thread.archived",(e=>this.messenger.removeThread(e.thread_id))):console.error("Echo not found."):console.error("Auth user not found.")}))}},mounted(){window.ms=this.messenger,this.connectChannel().then((e=>window.channel=this.channel))},unmounted(){this.channel&&window.Echo.leave(this.channel.name),this.messenger.clean()}};const os=(0,R.c)(ns,[["render",g]]);var ls=os,ds={name:"App",components:{Messenger:ls},data:()=>({}),computed:{main(){return(0,r.Mn)((()=>this.isProduction?s.e(164).then(s.bind(s,3784)):s.e(948).then(s.bind(s,948))))}},methods:{}};const cs=(0,R.c)(ds,[["render",n]]);var hs=cs,us=s(7192),ms=(0,us.eC)({state:{},getters:{},mutations:{},actions:{},modules:{}}),ps=s(1092),gs={computed:{mode(){return"production"},isProduction(){return"production"===this.mode},user(){return JSON.parse(localStorage.getItem("user"))},messenger(){return this.$messenger.value}},methods:{momentize(e){return moment(e,"DD-MM-YY")}}},_s=s(4648),vs=s.n(_s);vs().locale("ru"),window.moment=vs();const fs=gs.computed.isProduction(),bs=(0,a.W0)(hs);bs.use(ms).use(vs()).use({install:(e,t)=>{e.config.globalProperties.$messenger=(0,i.IL)(O)}}).use(ps.c,M).mixin(gs).mount(fs?"#app-chat":"#app-dev")}},t={};function s(a){var i=t[a];if(void 0!==i)return i.exports;var r=t[a]={id:a,loaded:!1,exports:{}};return e[a].call(r.exports,r,r.exports,s),r.loaded=!0,r.exports}s.m=e,function(){s.amdO={}}(),function(){var e=[];s.O=function(t,a,i,r){if(!a){var n=1/0;for(c=0;c<e.length;c++){a=e[c][0],i=e[c][1],r=e[c][2];for(var o=!0,l=0;l<a.length;l++)(!1&r||n>=r)&&Object.keys(s.O).every((function(e){return s.O[e](a[l])}))?a.splice(l--,1):(o=!1,r<n&&(n=r));if(o){e.splice(c--,1);var d=i();void 0!==d&&(t=d)}}return t}r=r||0;for(var c=e.length;c>0&&e[c-1][2]>r;c--)e[c]=e[c-1];e[c]=[a,i,r]}}(),function(){s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,{a:t}),t}}(),function(){s.d=function(e,t){for(var a in t)s.o(t,a)&&!s.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}}(),function(){s.f={},s.e=function(e){return Promise.all(Object.keys(s.f).reduce((function(t,a){return s.f[a](e,t),t}),[]))}}(),function(){s.u=function(e){return"assets/js/"+e+"."+{164:"e37d499d",948:"4dba3211"}[e]+".js"}}(),function(){s.miniCssF=function(e){return"assets/css/"+e+".952d6833.css"}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){s.hmd=function(e){return e=Object.create(e),e.children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:function(){throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e}}(),function(){s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="vue-chat:";s.l=function(a,i,r,n){if(e[a])e[a].push(i);else{var o,l;if(void 0!==r)for(var d=document.getElementsByTagName("script"),c=0;c<d.length;c++){var h=d[c];if(h.getAttribute("src")==a||h.getAttribute("data-webpack")==t+r){o=h;break}}o||(l=!0,o=document.createElement("script"),o.charset="utf-8",o.timeout=120,s.nc&&o.setAttribute("nonce",s.nc),o.setAttribute("data-webpack",t+r),o.src=a),e[a]=[i];var u=function(t,s){o.onerror=o.onload=null,clearTimeout(m);var i=e[a];if(delete e[a],o.parentNode&&o.parentNode.removeChild(o),i&&i.forEach((function(e){return e(s)})),t)return t(s)},m=setTimeout(u.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=u.bind(null,o.onerror),o.onload=u.bind(null,o.onload),l&&document.head.appendChild(o)}}}(),function(){s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){s.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),function(){s.p="themes/demo/partials/chat/"}(),function(){if("undefined"!==typeof document){var e=function(e,t,s,a,i){var r=document.createElement("link");r.rel="stylesheet",r.type="text/css";var n=function(s){if(r.onerror=r.onload=null,"load"===s.type)a();else{var n=s&&s.type,o=s&&s.target&&s.target.href||t,l=new Error("Loading CSS chunk "+e+" failed.\n("+n+": "+o+")");l.name="ChunkLoadError",l.code="CSS_CHUNK_LOAD_FAILED",l.type=n,l.request=o,r.parentNode&&r.parentNode.removeChild(r),i(l)}};return r.onerror=r.onload=n,r.href=t,s?s.parentNode.insertBefore(r,s.nextSibling):document.head.appendChild(r),r},t=function(e,t){for(var s=document.getElementsByTagName("link"),a=0;a<s.length;a++){var i=s[a],r=i.getAttribute("data-href")||i.getAttribute("href");if("stylesheet"===i.rel&&(r===e||r===t))return i}var n=document.getElementsByTagName("style");for(a=0;a<n.length;a++){i=n[a],r=i.getAttribute("data-href");if(r===e||r===t)return i}},a=function(a){return new Promise((function(i,r){var n=s.miniCssF(a),o=s.p+n;if(t(n,o))return i();e(a,o,null,i,r)}))},i={524:0};s.f.miniCss=function(e,t){var s={948:1};i[e]?t.push(i[e]):0!==i[e]&&s[e]&&t.push(i[e]=a(e).then((function(){i[e]=0}),(function(t){throw delete i[e],t})))}}}(),function(){var e={524:0};s.f.j=function(t,a){var i=s.o(e,t)?e[t]:void 0;if(0!==i)if(i)a.push(i[2]);else{var r=new Promise((function(s,a){i=e[t]=[s,a]}));a.push(i[2]=r);var n=s.p+s.u(t),o=new Error,l=function(a){if(s.o(e,t)&&(i=e[t],0!==i&&(e[t]=void 0),i)){var r=a&&("load"===a.type?"missing":a.type),n=a&&a.target&&a.target.src;o.message="Loading chunk "+t+" failed.\n("+r+": "+n+")",o.name="ChunkLoadError",o.type=r,o.request=n,i[1](o)}};s.l(n,l,"chunk-"+t,t)}},s.O.j=function(t){return 0===e[t]};var t=function(t,a){var i,r,n=a[0],o=a[1],l=a[2],d=0;if(n.some((function(t){return 0!==e[t]}))){for(i in o)s.o(o,i)&&(s.m[i]=o[i]);if(l)var c=l(s)}for(t&&t(a);d<n.length;d++)r=n[d],s.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return s.O(c)},a=self["webpackChunkvue_chat"]=self["webpackChunkvue_chat"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var a=s.O(void 0,[999],(function(){return s(2268)}));a=s.O(a)})();
//# sourceMappingURL=app.bdbe421e.js.map