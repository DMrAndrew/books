{"version":3,"file":"assets/js/948.0ba1f30c.js","mappings":"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","sources":["webpack://vue-chat/Pusher/webpack/universalModuleDefinition","webpack://vue-chat/Pusher/webpack/bootstrap","webpack://vue-chat/Pusher/node_modules/@stablelib/base64/base64.ts","webpack://vue-chat/Pusher/node_modules/@stablelib/utf8/utf8.ts","webpack://vue-chat/Pusher/src/core/pusher.js","webpack://vue-chat/Pusher/src/runtimes/web/dom/script_receiver_factory.ts","webpack://vue-chat/Pusher/src/core/auth/options.ts","webpack://vue-chat/Pusher/src/core/defaults.ts","webpack://vue-chat/Pusher/src/runtimes/web/dom/dependency_loader.ts","webpack://vue-chat/Pusher/src/runtimes/web/dom/dependencies.ts","webpack://vue-chat/Pusher/src/core/utils/url_store.ts","webpack://vue-chat/Pusher/src/core/errors.ts","webpack://vue-chat/Pusher/src/runtimes/isomorphic/auth/xhr_auth.ts","webpack://vue-chat/Pusher/src/core/base64.ts","webpack://vue-chat/Pusher/src/core/utils/timers/abstract_timer.ts","webpack://vue-chat/Pusher/src/core/utils/timers/index.ts","webpack://vue-chat/Pusher/src/core/util.ts","webpack://vue-chat/Pusher/src/core/utils/collections.ts","webpack://vue-chat/Pusher/src/core/logger.ts","webpack://vue-chat/Pusher/src/runtimes/web/auth/jsonp_auth.ts","webpack://vue-chat/Pusher/src/runtimes/web/dom/script_request.ts","webpack://vue-chat/Pusher/src/runtimes/web/dom/jsonp_request.ts","webpack://vue-chat/Pusher/src/runtimes/web/timeline/jsonp_timeline.ts","webpack://vue-chat/Pusher/src/core/transports/url_schemes.ts","webpack://vue-chat/Pusher/src/core/events/callback_registry.ts","webpack://vue-chat/Pusher/src/core/events/dispatcher.ts","webpack://vue-chat/Pusher/src/core/transports/transport_connection.ts","webpack://vue-chat/Pusher/src/core/transports/transport.ts","webpack://vue-chat/Pusher/src/runtimes/isomorphic/transports/transports.ts","webpack://vue-chat/Pusher/src/runtimes/web/transports/transports.ts","webpack://vue-chat/Pusher/src/runtimes/web/net_info.ts","webpack://vue-chat/Pusher/src/core/transports/assistant_to_the_transport_manager.ts","webpack://vue-chat/Pusher/src/core/connection/protocol/protocol.ts","webpack://vue-chat/Pusher/src/core/connection/connection.ts","webpack://vue-chat/Pusher/src/core/connection/handshake/index.ts","webpack://vue-chat/Pusher/src/core/timeline/timeline_sender.ts","webpack://vue-chat/Pusher/src/core/channels/channel.ts","webpack://vue-chat/Pusher/src/core/channels/private_channel.ts","webpack://vue-chat/Pusher/src/core/channels/members.ts","webpack://vue-chat/Pusher/src/core/channels/presence_channel.ts","webpack://vue-chat/Pusher/src/core/channels/encrypted_channel.ts","webpack://vue-chat/Pusher/src/core/connection/connection_manager.ts","webpack://vue-chat/Pusher/src/core/channels/channels.ts","webpack://vue-chat/Pusher/src/core/utils/factory.ts","webpack://vue-chat/Pusher/src/core/transports/transport_manager.ts","webpack://vue-chat/Pusher/src/core/strategies/sequential_strategy.ts","webpack://vue-chat/Pusher/src/core/strategies/best_connected_ever_strategy.ts","webpack://vue-chat/Pusher/src/core/strategies/cached_strategy.ts","webpack://vue-chat/Pusher/src/core/strategies/delayed_strategy.ts","webpack://vue-chat/Pusher/src/core/strategies/if_strategy.ts","webpack://vue-chat/Pusher/src/core/strategies/first_connected_strategy.ts","webpack://vue-chat/Pusher/src/runtimes/web/default_strategy.ts","webpack://vue-chat/Pusher/src/core/http/state.ts","webpack://vue-chat/Pusher/src/runtimes/web/transports/transport_connection_initializer.ts","webpack://vue-chat/Pusher/src/runtimes/web/http/http_xdomain_request.ts","webpack://vue-chat/Pusher/src/core/http/http_request.ts","webpack://vue-chat/Pusher/src/core/http/http_socket.ts","webpack://vue-chat/Pusher/src/core/http/http_streaming_socket.ts","webpack://vue-chat/Pusher/src/core/http/http_polling_socket.ts","webpack://vue-chat/Pusher/src/runtimes/isomorphic/http/http_xhr_request.ts","webpack://vue-chat/Pusher/src/runtimes/isomorphic/http/http.ts","webpack://vue-chat/Pusher/src/runtimes/web/http/http.ts","webpack://vue-chat/Pusher/src/core/timeline/level.ts","webpack://vue-chat/Pusher/src/runtimes/web/runtime.ts","webpack://vue-chat/Pusher/src/core/timeline/timeline.ts","webpack://vue-chat/Pusher/src/core/strategies/transport_strategy.ts","webpack://vue-chat/Pusher/src/core/strategies/strategy_builder.ts","webpack://vue-chat/Pusher/src/core/auth/user_authenticator.ts","webpack://vue-chat/Pusher/src/core/auth/channel_authorizer.ts","webpack://vue-chat/Pusher/src/core/auth/deprecated_channel_authorizer.ts","webpack://vue-chat/Pusher/src/core/config.ts","webpack://vue-chat/Pusher/src/core/watchlist.ts","webpack://vue-chat/Pusher/src/core/utils/flat_promise.ts","webpack://vue-chat/Pusher/src/core/user.ts","webpack://vue-chat/Pusher/src/core/pusher.ts","webpack://vue-chat/./src/components/app-templates/Development.vue","webpack://vue-chat/../../../node_modules/laravel-echo/dist/echo.js","webpack://vue-chat/../assets/js/echo.js","webpack://vue-chat/./src/components/app-templates/Development.vue?2f26","webpack://vue-chat/../../../node_modules/core-js/internals/a-callable.js","webpack://vue-chat/../../../node_modules/core-js/internals/a-possible-prototype.js","webpack://vue-chat/../../../node_modules/core-js/internals/an-instance.js","webpack://vue-chat/../../../node_modules/core-js/internals/an-object.js","webpack://vue-chat/../../../node_modules/core-js/internals/array-buffer-basic-detection.js","webpack://vue-chat/../../../node_modules/core-js/internals/array-buffer-view-core.js","webpack://vue-chat/../../../node_modules/core-js/internals/array-from-constructor-and-list.js","webpack://vue-chat/../../../node_modules/core-js/internals/array-includes.js","webpack://vue-chat/../../../node_modules/core-js/internals/array-set-length.js","webpack://vue-chat/../../../node_modules/core-js/internals/array-to-reversed.js","webpack://vue-chat/../../../node_modules/core-js/internals/array-with.js","webpack://vue-chat/../../../node_modules/core-js/internals/classof-raw.js","webpack://vue-chat/../../../node_modules/core-js/internals/classof.js","webpack://vue-chat/../../../node_modules/core-js/internals/copy-constructor-properties.js","webpack://vue-chat/../../../node_modules/core-js/internals/correct-prototype-getter.js","webpack://vue-chat/../../../node_modules/core-js/internals/create-non-enumerable-property.js","webpack://vue-chat/../../../node_modules/core-js/internals/create-property-descriptor.js","webpack://vue-chat/../../../node_modules/core-js/internals/define-built-in-accessor.js","webpack://vue-chat/../../../node_modules/core-js/internals/define-built-in.js","webpack://vue-chat/../../../node_modules/core-js/internals/define-global-property.js","webpack://vue-chat/../../../node_modules/core-js/internals/descriptors.js","webpack://vue-chat/../../../node_modules/core-js/internals/document-create-element.js","webpack://vue-chat/../../../node_modules/core-js/internals/does-not-exceed-safe-integer.js","webpack://vue-chat/../../../node_modules/core-js/internals/dom-exception-constants.js","webpack://vue-chat/../../../node_modules/core-js/internals/engine-user-agent.js","webpack://vue-chat/../../../node_modules/core-js/internals/engine-v8-version.js","webpack://vue-chat/../../../node_modules/core-js/internals/enum-bug-keys.js","webpack://vue-chat/../../../node_modules/core-js/internals/error-stack-clear.js","webpack://vue-chat/../../../node_modules/core-js/internals/export.js","webpack://vue-chat/../../../node_modules/core-js/internals/fails.js","webpack://vue-chat/../../../node_modules/core-js/internals/function-bind-native.js","webpack://vue-chat/../../../node_modules/core-js/internals/function-call.js","webpack://vue-chat/../../../node_modules/core-js/internals/function-name.js","webpack://vue-chat/../../../node_modules/core-js/internals/function-uncurry-this-accessor.js","webpack://vue-chat/../../../node_modules/core-js/internals/function-uncurry-this.js","webpack://vue-chat/../../../node_modules/core-js/internals/get-built-in.js","webpack://vue-chat/../../../node_modules/core-js/internals/get-method.js","webpack://vue-chat/../../../node_modules/core-js/internals/global.js","webpack://vue-chat/../../../node_modules/core-js/internals/has-own-property.js","webpack://vue-chat/../../../node_modules/core-js/internals/hidden-keys.js","webpack://vue-chat/../../../node_modules/core-js/internals/ie8-dom-define.js","webpack://vue-chat/../../../node_modules/core-js/internals/indexed-object.js","webpack://vue-chat/../../../node_modules/core-js/internals/inherit-if-required.js","webpack://vue-chat/../../../node_modules/core-js/internals/inspect-source.js","webpack://vue-chat/../../../node_modules/core-js/internals/internal-state.js","webpack://vue-chat/../../../node_modules/core-js/internals/is-array.js","webpack://vue-chat/../../../node_modules/core-js/internals/is-big-int-array.js","webpack://vue-chat/../../../node_modules/core-js/internals/is-callable.js","webpack://vue-chat/../../../node_modules/core-js/internals/is-forced.js","webpack://vue-chat/../../../node_modules/core-js/internals/is-null-or-undefined.js","webpack://vue-chat/../../../node_modules/core-js/internals/is-object.js","webpack://vue-chat/../../../node_modules/core-js/internals/is-possible-prototype.js","webpack://vue-chat/../../../node_modules/core-js/internals/is-pure.js","webpack://vue-chat/../../../node_modules/core-js/internals/is-symbol.js","webpack://vue-chat/../../../node_modules/core-js/internals/length-of-array-like.js","webpack://vue-chat/../../../node_modules/core-js/internals/make-built-in.js","webpack://vue-chat/../../../node_modules/core-js/internals/math-trunc.js","webpack://vue-chat/../../../node_modules/core-js/internals/normalize-string-argument.js","webpack://vue-chat/../../../node_modules/core-js/internals/object-define-property.js","webpack://vue-chat/../../../node_modules/core-js/internals/object-get-own-property-descriptor.js","webpack://vue-chat/../../../node_modules/core-js/internals/object-get-own-property-names.js","webpack://vue-chat/../../../node_modules/core-js/internals/object-get-own-property-symbols.js","webpack://vue-chat/../../../node_modules/core-js/internals/object-get-prototype-of.js","webpack://vue-chat/../../../node_modules/core-js/internals/object-is-prototype-of.js","webpack://vue-chat/../../../node_modules/core-js/internals/object-keys-internal.js","webpack://vue-chat/../../../node_modules/core-js/internals/object-property-is-enumerable.js","webpack://vue-chat/../../../node_modules/core-js/internals/object-set-prototype-of.js","webpack://vue-chat/../../../node_modules/core-js/internals/ordinary-to-primitive.js","webpack://vue-chat/../../../node_modules/core-js/internals/own-keys.js","webpack://vue-chat/../../../node_modules/core-js/internals/require-object-coercible.js","webpack://vue-chat/../../../node_modules/core-js/internals/shared-key.js","webpack://vue-chat/../../../node_modules/core-js/internals/shared-store.js","webpack://vue-chat/../../../node_modules/core-js/internals/shared.js","webpack://vue-chat/../../../node_modules/core-js/internals/symbol-constructor-detection.js","webpack://vue-chat/../../../node_modules/core-js/internals/to-absolute-index.js","webpack://vue-chat/../../../node_modules/core-js/internals/to-big-int.js","webpack://vue-chat/../../../node_modules/core-js/internals/to-indexed-object.js","webpack://vue-chat/../../../node_modules/core-js/internals/to-integer-or-infinity.js","webpack://vue-chat/../../../node_modules/core-js/internals/to-length.js","webpack://vue-chat/../../../node_modules/core-js/internals/to-object.js","webpack://vue-chat/../../../node_modules/core-js/internals/to-primitive.js","webpack://vue-chat/../../../node_modules/core-js/internals/to-property-key.js","webpack://vue-chat/../../../node_modules/core-js/internals/to-string-tag-support.js","webpack://vue-chat/../../../node_modules/core-js/internals/to-string.js","webpack://vue-chat/../../../node_modules/core-js/internals/try-to-string.js","webpack://vue-chat/../../../node_modules/core-js/internals/uid.js","webpack://vue-chat/../../../node_modules/core-js/internals/use-symbol-as-uid.js","webpack://vue-chat/../../../node_modules/core-js/internals/v8-prototype-define-bug.js","webpack://vue-chat/../../../node_modules/core-js/internals/weak-map-basic-detection.js","webpack://vue-chat/../../../node_modules/core-js/internals/well-known-symbol.js","webpack://vue-chat/../../../node_modules/core-js/modules/es.array.push.js","webpack://vue-chat/../../../node_modules/core-js/modules/es.typed-array.to-reversed.js","webpack://vue-chat/../../../node_modules/core-js/modules/es.typed-array.to-sorted.js","webpack://vue-chat/../../../node_modules/core-js/modules/es.typed-array.with.js","webpack://vue-chat/../../../node_modules/core-js/modules/web.dom-exception.stack.js"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Pusher\"] = factory();\n\telse\n\t\troot[\"Pusher\"] = factory();\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 2);\n","// Copyright (C) 2016 Dmitry Chestnykh\n// MIT License. See LICENSE file for details.\n\n/**\n * Package base64 implements Base64 encoding and decoding.\n */\n\n// Invalid character used in decoding to indicate\n// that the character to decode is out of range of\n// alphabet and cannot be decoded.\nconst INVALID_BYTE = 256;\n\n/**\n * Implements standard Base64 encoding.\n *\n * Operates in constant time.\n */\nexport class Coder {\n    // TODO(dchest): methods to encode chunk-by-chunk.\n\n    constructor(private _paddingCharacter = \"=\") { }\n\n    encodedLength(length: number): number {\n        if (!this._paddingCharacter) {\n            return (length * 8 + 5) / 6 | 0;\n        }\n        return (length + 2) / 3 * 4 | 0;\n    }\n\n    encode(data: Uint8Array): string {\n        let out = \"\";\n\n        let i = 0;\n        for (; i < data.length - 2; i += 3) {\n            let c = (data[i] << 16) | (data[i + 1] << 8) | (data[i + 2]);\n            out += this._encodeByte((c >>> 3 * 6) & 63);\n            out += this._encodeByte((c >>> 2 * 6) & 63);\n            out += this._encodeByte((c >>> 1 * 6) & 63);\n            out += this._encodeByte((c >>> 0 * 6) & 63);\n        }\n\n        const left = data.length - i;\n        if (left > 0) {\n            let c = (data[i] << 16) | (left === 2 ? data[i + 1] << 8 : 0);\n            out += this._encodeByte((c >>> 3 * 6) & 63);\n            out += this._encodeByte((c >>> 2 * 6) & 63);\n            if (left === 2) {\n                out += this._encodeByte((c >>> 1 * 6) & 63);\n            } else {\n                out += this._paddingCharacter || \"\";\n            }\n            out += this._paddingCharacter || \"\";\n        }\n\n        return out;\n    }\n\n    maxDecodedLength(length: number): number {\n        if (!this._paddingCharacter) {\n            return (length * 6 + 7) / 8 | 0;\n        }\n        return length / 4 * 3 | 0;\n    }\n\n    decodedLength(s: string): number {\n        return this.maxDecodedLength(s.length - this._getPaddingLength(s));\n    }\n\n    decode(s: string): Uint8Array {\n        if (s.length === 0) {\n            return new Uint8Array(0);\n        }\n        const paddingLength = this._getPaddingLength(s);\n        const length = s.length - paddingLength;\n        const out = new Uint8Array(this.maxDecodedLength(length));\n        let op = 0;\n        let i = 0;\n        let haveBad = 0;\n        let v0 = 0, v1 = 0, v2 = 0, v3 = 0;\n        for (; i < length - 4; i += 4) {\n            v0 = this._decodeChar(s.charCodeAt(i + 0));\n            v1 = this._decodeChar(s.charCodeAt(i + 1));\n            v2 = this._decodeChar(s.charCodeAt(i + 2));\n            v3 = this._decodeChar(s.charCodeAt(i + 3));\n            out[op++] = (v0 << 2) | (v1 >>> 4);\n            out[op++] = (v1 << 4) | (v2 >>> 2);\n            out[op++] = (v2 << 6) | v3;\n            haveBad |= v0 & INVALID_BYTE;\n            haveBad |= v1 & INVALID_BYTE;\n            haveBad |= v2 & INVALID_BYTE;\n            haveBad |= v3 & INVALID_BYTE;\n        }\n        if (i < length - 1) {\n            v0 = this._decodeChar(s.charCodeAt(i));\n            v1 = this._decodeChar(s.charCodeAt(i + 1));\n            out[op++] = (v0 << 2) | (v1 >>> 4);\n            haveBad |= v0 & INVALID_BYTE;\n            haveBad |= v1 & INVALID_BYTE;\n        }\n        if (i < length - 2) {\n            v2 = this._decodeChar(s.charCodeAt(i + 2));\n            out[op++] = (v1 << 4) | (v2 >>> 2);\n            haveBad |= v2 & INVALID_BYTE;\n        }\n        if (i < length - 3) {\n            v3 = this._decodeChar(s.charCodeAt(i + 3));\n            out[op++] = (v2 << 6) | v3;\n            haveBad |= v3 & INVALID_BYTE;\n        }\n        if (haveBad !== 0) {\n            throw new Error(\"Base64Coder: incorrect characters for decoding\");\n        }\n        return out;\n    }\n\n    // Standard encoding have the following encoded/decoded ranges,\n    // which we need to convert between.\n    //\n    // ABCDEFGHIJKLMNOPQRSTUVWXYZ abcdefghijklmnopqrstuvwxyz 0123456789  +   /\n    // Index:   0 - 25                    26 - 51              52 - 61   62  63\n    // ASCII:  65 - 90                    97 - 122             48 - 57   43  47\n    //\n\n    // Encode 6 bits in b into a new character.\n    protected _encodeByte(b: number): string {\n        // Encoding uses constant time operations as follows:\n        //\n        // 1. Define comparison of A with B using (A - B) >>> 8:\n        //          if A > B, then result is positive integer\n        //          if A <= B, then result is 0\n        //\n        // 2. Define selection of C or 0 using bitwise AND: X & C:\n        //          if X == 0, then result is 0\n        //          if X != 0, then result is C\n        //\n        // 3. Start with the smallest comparison (b >= 0), which is always\n        //    true, so set the result to the starting ASCII value (65).\n        //\n        // 4. Continue comparing b to higher ASCII values, and selecting\n        //    zero if comparison isn't true, otherwise selecting a value\n        //    to add to result, which:\n        //\n        //          a) undoes the previous addition\n        //          b) provides new value to add\n        //\n        let result = b;\n        // b >= 0\n        result += 65;\n        // b > 25\n        result += ((25 - b) >>> 8) & ((0 - 65) - 26 + 97);\n        // b > 51\n        result += ((51 - b) >>> 8) & ((26 - 97) - 52 + 48);\n        // b > 61\n        result += ((61 - b) >>> 8) & ((52 - 48) - 62 + 43);\n        // b > 62\n        result += ((62 - b) >>> 8) & ((62 - 43) - 63 + 47);\n\n        return String.fromCharCode(result);\n    }\n\n    // Decode a character code into a byte.\n    // Must return 256 if character is out of alphabet range.\n    protected _decodeChar(c: number): number {\n        // Decoding works similar to encoding: using the same comparison\n        // function, but now it works on ranges: result is always incremented\n        // by value, but this value becomes zero if the range is not\n        // satisfied.\n        //\n        // Decoding starts with invalid value, 256, which is then\n        // subtracted when the range is satisfied. If none of the ranges\n        // apply, the function returns 256, which is then checked by\n        // the caller to throw error.\n        let result = INVALID_BYTE; // start with invalid character\n\n        // c == 43 (c > 42 and c < 44)\n        result += (((42 - c) & (c - 44)) >>> 8) & (-INVALID_BYTE + c - 43 + 62);\n        // c == 47 (c > 46 and c < 48)\n        result += (((46 - c) & (c - 48)) >>> 8) & (-INVALID_BYTE + c - 47 + 63);\n        // c > 47 and c < 58\n        result += (((47 - c) & (c - 58)) >>> 8) & (-INVALID_BYTE + c - 48 + 52);\n        // c > 64 and c < 91\n        result += (((64 - c) & (c - 91)) >>> 8) & (-INVALID_BYTE + c - 65 + 0);\n        // c > 96 and c < 123\n        result += (((96 - c) & (c - 123)) >>> 8) & (-INVALID_BYTE + c - 97 + 26);\n\n        return result;\n    }\n\n    private _getPaddingLength(s: string): number {\n        let paddingLength = 0;\n        if (this._paddingCharacter) {\n            for (let i = s.length - 1; i >= 0; i--) {\n                if (s[i] !== this._paddingCharacter) {\n                    break;\n                }\n                paddingLength++;\n            }\n            if (s.length < 4 || paddingLength > 2) {\n                throw new Error(\"Base64Coder: incorrect padding\");\n            }\n        }\n        return paddingLength;\n    }\n\n}\n\nconst stdCoder = new Coder();\n\nexport function encode(data: Uint8Array): string {\n    return stdCoder.encode(data);\n}\n\nexport function decode(s: string): Uint8Array {\n    return stdCoder.decode(s);\n}\n\n/**\n * Implements URL-safe Base64 encoding.\n * (Same as Base64, but '+' is replaced with '-', and '/' with '_').\n *\n * Operates in constant time.\n */\nexport class URLSafeCoder extends Coder {\n    // URL-safe encoding have the following encoded/decoded ranges:\n    //\n    // ABCDEFGHIJKLMNOPQRSTUVWXYZ abcdefghijklmnopqrstuvwxyz 0123456789  -   _\n    // Index:   0 - 25                    26 - 51              52 - 61   62  63\n    // ASCII:  65 - 90                    97 - 122             48 - 57   45  95\n    //\n\n    protected _encodeByte(b: number): string {\n        let result = b;\n        // b >= 0\n        result += 65;\n        // b > 25\n        result += ((25 - b) >>> 8) & ((0 - 65) - 26 + 97);\n        // b > 51\n        result += ((51 - b) >>> 8) & ((26 - 97) - 52 + 48);\n        // b > 61\n        result += ((61 - b) >>> 8) & ((52 - 48) - 62 + 45);\n        // b > 62\n        result += ((62 - b) >>> 8) & ((62 - 45) - 63 + 95);\n\n        return String.fromCharCode(result);\n    }\n\n    protected _decodeChar(c: number): number {\n        let result = INVALID_BYTE;\n\n        // c == 45 (c > 44 and c < 46)\n        result += (((44 - c) & (c - 46)) >>> 8) & (-INVALID_BYTE + c - 45 + 62);\n        // c == 95 (c > 94 and c < 96)\n        result += (((94 - c) & (c - 96)) >>> 8) & (-INVALID_BYTE + c - 95 + 63);\n        // c > 47 and c < 58\n        result += (((47 - c) & (c - 58)) >>> 8) & (-INVALID_BYTE + c - 48 + 52);\n        // c > 64 and c < 91\n        result += (((64 - c) & (c - 91)) >>> 8) & (-INVALID_BYTE + c - 65 + 0);\n        // c > 96 and c < 123\n        result += (((96 - c) & (c - 123)) >>> 8) & (-INVALID_BYTE + c - 97 + 26);\n\n        return result;\n    }\n}\n\nconst urlSafeCoder = new URLSafeCoder();\n\nexport function encodeURLSafe(data: Uint8Array): string {\n    return urlSafeCoder.encode(data);\n}\n\nexport function decodeURLSafe(s: string): Uint8Array {\n    return urlSafeCoder.decode(s);\n}\n\n\nexport const encodedLength = (length: number) =>\n    stdCoder.encodedLength(length);\n\nexport const maxDecodedLength = (length: number) =>\n    stdCoder.maxDecodedLength(length);\n\nexport const decodedLength = (s: string) =>\n    stdCoder.decodedLength(s);\n","// Copyright (C) 2016 Dmitry Chestnykh\n// MIT License. See LICENSE file for details.\n\n/**\n * Package utf8 implements UTF-8 encoding and decoding.\n */\n\nconst INVALID_UTF16 = \"utf8: invalid string\";\nconst INVALID_UTF8 = \"utf8: invalid source encoding\";\n\n/**\n * Encodes the given string into UTF-8 byte array.\n * Throws if the source string has invalid UTF-16 encoding.\n */\nexport function encode(s: string): Uint8Array {\n    // Calculate result length and allocate output array.\n    // encodedLength() also validates string and throws errors,\n    // so we don't need repeat validation here.\n    const arr = new Uint8Array(encodedLength(s));\n\n    let pos = 0;\n    for (let i = 0; i < s.length; i++) {\n        let c = s.charCodeAt(i);\n        if (c < 0x80) {\n            arr[pos++] = c;\n        } else if (c < 0x800) {\n            arr[pos++] = 0xc0 | c >> 6;\n            arr[pos++] = 0x80 | c & 0x3f;\n        } else if (c < 0xd800) {\n            arr[pos++] = 0xe0 | c >> 12;\n            arr[pos++] = 0x80 | (c >> 6) & 0x3f;\n            arr[pos++] = 0x80 | c & 0x3f;\n        } else {\n            i++; // get one more character\n            c = (c & 0x3ff) << 10;\n            c |= s.charCodeAt(i) & 0x3ff;\n            c += 0x10000;\n\n            arr[pos++] = 0xf0 | c >> 18;\n            arr[pos++] = 0x80 | (c >> 12) & 0x3f;\n            arr[pos++] = 0x80 | (c >> 6) & 0x3f;\n            arr[pos++] = 0x80 | c & 0x3f;\n        }\n    }\n    return arr;\n}\n\n/**\n * Returns the number of bytes required to encode the given string into UTF-8.\n * Throws if the source string has invalid UTF-16 encoding.\n */\nexport function encodedLength(s: string): number {\n    let result = 0;\n    for (let i = 0; i < s.length; i++) {\n        const c = s.charCodeAt(i);\n        if (c < 0x80) {\n            result += 1;\n        } else if (c < 0x800) {\n            result += 2;\n        } else if (c < 0xd800) {\n            result += 3;\n        } else if (c <= 0xdfff) {\n            if (i >= s.length - 1) {\n                throw new Error(INVALID_UTF16);\n            }\n            i++; // \"eat\" next character\n            result += 4;\n        } else {\n            throw new Error(INVALID_UTF16);\n        }\n    }\n    return result;\n}\n\n/**\n * Decodes the given byte array from UTF-8 into a string.\n * Throws if encoding is invalid.\n */\nexport function decode(arr: Uint8Array): string {\n    const chars: string[] = [];\n    for (let i = 0; i < arr.length; i++) {\n        let b = arr[i];\n\n        if (b & 0x80) {\n            let min;\n            if (b < 0xe0) {\n                // Need 1 more byte.\n                if (i >= arr.length) {\n                    throw new Error(INVALID_UTF8);\n                }\n                const n1 = arr[++i];\n                if ((n1 & 0xc0) !== 0x80) {\n                    throw new Error(INVALID_UTF8);\n                }\n                b = (b & 0x1f) << 6 | (n1 & 0x3f);\n                min = 0x80;\n            } else if (b < 0xf0) {\n                // Need 2 more bytes.\n                if (i >= arr.length - 1) {\n                    throw new Error(INVALID_UTF8);\n                }\n                const n1 = arr[++i];\n                const n2 = arr[++i];\n                if ((n1 & 0xc0) !== 0x80 || (n2 & 0xc0) !== 0x80) {\n                    throw new Error(INVALID_UTF8);\n                }\n                b = (b & 0x0f) << 12 | (n1 & 0x3f) << 6 | (n2 & 0x3f);\n                min = 0x800;\n            } else if (b < 0xf8) {\n                // Need 3 more bytes.\n                if (i >= arr.length - 2) {\n                    throw new Error(INVALID_UTF8);\n                }\n                const n1 = arr[++i];\n                const n2 = arr[++i];\n                const n3 = arr[++i];\n                if ((n1 & 0xc0) !== 0x80 || (n2 & 0xc0) !== 0x80 || (n3 & 0xc0) !== 0x80) {\n                    throw new Error(INVALID_UTF8);\n                }\n                b = (b & 0x0f) << 18 | (n1 & 0x3f) << 12 | (n2 & 0x3f) << 6 | (n3 & 0x3f);\n                min = 0x10000;\n            } else {\n                throw new Error(INVALID_UTF8);\n            }\n\n            if (b < min || (b >= 0xd800 && b <= 0xdfff)) {\n                throw new Error(INVALID_UTF8);\n            }\n\n            if (b >= 0x10000) {\n                // Surrogate pair.\n                if (b > 0x10ffff) {\n                    throw new Error(INVALID_UTF8);\n                }\n                b -= 0x10000;\n                chars.push(String.fromCharCode(0xd800 | (b >> 10)));\n                b = 0xdc00 | (b & 0x3ff);\n            }\n        }\n\n        chars.push(String.fromCharCode(b));\n    }\n    return chars.join(\"\");\n}\n","// required so we don't have to do require('pusher').default etc.\nmodule.exports = require('./pusher').default;\n","import ScriptReceiver from './script_receiver';\n\n/** Builds receivers for JSONP and Script requests.\n *\n * Each receiver is an object with following fields:\n * - number - unique (for the factory instance), numerical id of the receiver\n * - id - a string ID that can be used in DOM attributes\n * - name - name of the function triggering the receiver\n * - callback - callback function\n *\n * Receivers are triggered only once, on the first callback call.\n *\n * Receivers can be called by their name or by accessing factory object\n * by the number key.\n *\n * @param {String} prefix the prefix used in ids\n * @param {String} name the name of the object\n */\nexport class ScriptReceiverFactory {\n  lastId: number;\n  prefix: string;\n  name: string;\n\n  constructor(prefix: string, name: string) {\n    this.lastId = 0;\n    this.prefix = prefix;\n    this.name = name;\n  }\n\n  create(callback: Function): ScriptReceiver {\n    this.lastId++;\n\n    var number = this.lastId;\n    var id = this.prefix + number;\n    var name = this.name + '[' + number + ']';\n\n    var called = false;\n    var callbackWrapper = function() {\n      if (!called) {\n        callback.apply(null, arguments);\n        called = true;\n      }\n    };\n\n    this[number] = callbackWrapper;\n    return { number: number, id: id, name: name, callback: callbackWrapper };\n  }\n\n  remove(receiver: ScriptReceiver) {\n    delete this[receiver.number];\n  }\n}\n\nexport var ScriptReceivers = new ScriptReceiverFactory(\n  '_pusher_script_',\n  'Pusher.ScriptReceivers'\n);\n","export enum AuthRequestType {\n  UserAuthentication = 'user-authentication',\n  ChannelAuthorization = 'channel-authorization'\n}\n\nexport interface ChannelAuthorizationData {\n  auth: string;\n  channel_data?: string;\n  shared_secret?: string;\n}\n\nexport type ChannelAuthorizationCallback = (\n  error: Error | null,\n  authData: ChannelAuthorizationData | null\n) => void;\n\nexport interface ChannelAuthorizationRequestParams {\n  socketId: string;\n  channelName: string;\n}\n\nexport interface ChannelAuthorizationHandler {\n  (\n    params: ChannelAuthorizationRequestParams,\n    callback: ChannelAuthorizationCallback\n  ): void;\n}\n\nexport interface UserAuthenticationData {\n  auth: string;\n  user_data: string;\n}\n\nexport type UserAuthenticationCallback = (\n  error: Error | null,\n  authData: UserAuthenticationData | null\n) => void;\n\nexport interface UserAuthenticationRequestParams {\n  socketId: string;\n}\n\nexport interface UserAuthenticationHandler {\n  (\n    params: UserAuthenticationRequestParams,\n    callback: UserAuthenticationCallback\n  ): void;\n}\n\nexport type AuthTransportCallback =\n  | ChannelAuthorizationCallback\n  | UserAuthenticationCallback;\n\nexport interface AuthOptionsT<AuthHandler> {\n  transport: 'ajax' | 'jsonp';\n  endpoint: string;\n  params?: any;\n  headers?: any;\n  paramsProvider?: () => any;\n  headersProvider?: () => any;\n  customHandler?: AuthHandler;\n}\n\nexport declare type UserAuthenticationOptions = AuthOptionsT<\n  UserAuthenticationHandler\n>;\nexport declare type ChannelAuthorizationOptions = AuthOptionsT<\n  ChannelAuthorizationHandler\n>;\n\nexport interface InternalAuthOptions {\n  transport: 'ajax' | 'jsonp';\n  endpoint: string;\n  params?: any;\n  headers?: any;\n  paramsProvider?: () => any;\n  headersProvider?: () => any;\n}\n","import {\n  ChannelAuthorizationOptions,\n  UserAuthenticationOptions\n} from './auth/options';\nimport { AuthTransport } from './config';\n\nexport interface DefaultConfig {\n  VERSION: string;\n  PROTOCOL: number;\n  wsPort: number;\n  wssPort: number;\n  wsPath: string;\n  httpHost: string;\n  httpPort: number;\n  httpsPort: number;\n  httpPath: string;\n  stats_host: string;\n  authEndpoint: string;\n  authTransport: AuthTransport;\n  activityTimeout: number;\n  pongTimeout: number;\n  unavailableTimeout: number;\n  cluster: string;\n  userAuthentication: UserAuthenticationOptions;\n  channelAuthorization: ChannelAuthorizationOptions;\n\n  cdn_http?: string;\n  cdn_https?: string;\n  dependency_suffix?: string;\n}\n\nvar Defaults: DefaultConfig = {\n  VERSION: VERSION,\n  PROTOCOL: 7,\n\n  wsPort: 80,\n  wssPort: 443,\n  wsPath: '',\n  // DEPRECATED: SockJS fallback parameters\n  httpHost: 'sockjs.pusher.com',\n  httpPort: 80,\n  httpsPort: 443,\n  httpPath: '/pusher',\n  // DEPRECATED: Stats\n  stats_host: 'stats.pusher.com',\n  // DEPRECATED: Other settings\n  authEndpoint: '/pusher/auth',\n  authTransport: 'ajax',\n  activityTimeout: 120000,\n  pongTimeout: 30000,\n  unavailableTimeout: 10000,\n  cluster: 'mt1',\n  userAuthentication: {\n    endpoint: '/pusher/user-auth',\n    transport: 'ajax'\n  },\n  channelAuthorization: {\n    endpoint: '/pusher/auth',\n    transport: 'ajax'\n  },\n\n  // CDN configuration\n  cdn_http: CDN_HTTP,\n  cdn_https: CDN_HTTPS,\n  dependency_suffix: DEPENDENCY_SUFFIX\n};\n\nexport default Defaults;\n","import {\n  ScriptReceivers,\n  ScriptReceiverFactory\n} from './script_receiver_factory';\nimport Runtime from 'runtime';\nimport ScriptRequest from './script_request';\n\n/** Handles loading dependency files.\n *\n * Dependency loaders don't remember whether a resource has been loaded or\n * not. It is caller's responsibility to make sure the resource is not loaded\n * twice. This is because it's impossible to detect resource loading status\n * without knowing its content.\n *\n * Options:\n * - cdn_http - url to HTTP CND\n * - cdn_https - url to HTTPS CDN\n * - version - version of pusher-js\n * - suffix - suffix appended to all names of dependency files\n *\n * @param {Object} options\n */\nexport default class DependencyLoader {\n  options: any;\n  receivers: ScriptReceiverFactory;\n  loading: any;\n\n  constructor(options: any) {\n    this.options = options;\n    this.receivers = options.receivers || ScriptReceivers;\n    this.loading = {};\n  }\n\n  /** Loads the dependency from CDN.\n   *\n   * @param  {String} name\n   * @param  {Function} callback\n   */\n  load(name: string, options: any, callback: Function) {\n    var self = this;\n\n    if (self.loading[name] && self.loading[name].length > 0) {\n      self.loading[name].push(callback);\n    } else {\n      self.loading[name] = [callback];\n\n      var request = Runtime.createScriptRequest(self.getPath(name, options));\n      var receiver = self.receivers.create(function(error) {\n        self.receivers.remove(receiver);\n\n        if (self.loading[name]) {\n          var callbacks = self.loading[name];\n          delete self.loading[name];\n\n          var successCallback = function(wasSuccessful) {\n            if (!wasSuccessful) {\n              request.cleanup();\n            }\n          };\n          for (var i = 0; i < callbacks.length; i++) {\n            callbacks[i](error, successCallback);\n          }\n        }\n      });\n      request.send(receiver);\n    }\n  }\n\n  /** Returns a root URL for pusher-js CDN.\n   *\n   * @returns {String}\n   */\n  getRoot(options: any): string {\n    var cdn;\n    var protocol = Runtime.getDocument().location.protocol;\n    if ((options && options.useTLS) || protocol === 'https:') {\n      cdn = this.options.cdn_https;\n    } else {\n      cdn = this.options.cdn_http;\n    }\n    // make sure there are no double slashes\n    return cdn.replace(/\\/*$/, '') + '/' + this.options.version;\n  }\n\n  /** Returns a full path to a dependency file.\n   *\n   * @param {String} name\n   * @returns {String}\n   */\n  getPath(name: string, options: any): string {\n    return this.getRoot(options) + '/' + name + this.options.suffix + '.js';\n  }\n}\n","import { ScriptReceiverFactory } from './script_receiver_factory';\nimport Defaults from 'core/defaults';\nimport DependencyLoader from './dependency_loader';\n\nexport var DependenciesReceivers = new ScriptReceiverFactory(\n  '_pusher_dependencies',\n  'Pusher.DependenciesReceivers'\n);\n\nexport var Dependencies = new DependencyLoader({\n  cdn_http: Defaults.cdn_http,\n  cdn_https: Defaults.cdn_https,\n  version: Defaults.VERSION,\n  suffix: Defaults.dependency_suffix,\n  receivers: DependenciesReceivers\n});\n","/**\n * A place to store help URLs for error messages etc\n */\n\nconst urlStore = {\n  baseUrl: 'https://pusher.com',\n  urls: {\n    authenticationEndpoint: {\n      path: '/docs/channels/server_api/authenticating_users'\n    },\n    authorizationEndpoint: {\n      path: '/docs/channels/server_api/authorizing-users/'\n    },\n    javascriptQuickStart: {\n      path: '/docs/javascript_quick_start'\n    },\n    triggeringClientEvents: {\n      path: '/docs/client_api_guide/client_events#trigger-events'\n    },\n    encryptedChannelSupport: {\n      fullUrl:\n        'https://github.com/pusher/pusher-js/tree/cc491015371a4bde5743d1c87a0fbac0feb53195#encrypted-channel-support'\n    }\n  }\n};\n\n/** Builds a consistent string with links to pusher documentation\n *\n * @param {string} key - relevant key in the url_store.urls object\n * @return {string} suffix string to append to log message\n */\nconst buildLogSuffix = function(key: string): string {\n  const urlPrefix = 'See:';\n  const urlObj = urlStore.urls[key];\n  if (!urlObj) return '';\n\n  let url;\n  if (urlObj.fullUrl) {\n    url = urlObj.fullUrl;\n  } else if (urlObj.path) {\n    url = urlStore.baseUrl + urlObj.path;\n  }\n\n  if (!url) return '';\n  return `${urlPrefix} ${url}`;\n};\n\nexport default { buildLogSuffix };\n","/** Error classes used throughout the library. */\n// https://github.com/Microsoft/TypeScript-wiki/blob/master/Breaking-Changes.md#extending-built-ins-like-error-array-and-map-may-no-longer-work\nexport class BadEventName extends Error {\n  constructor(msg?: string) {\n    super(msg);\n\n    Object.setPrototypeOf(this, new.target.prototype);\n  }\n}\n\nexport class BadChannelName extends Error {\n  constructor(msg?: string) {\n    super(msg);\n\n    Object.setPrototypeOf(this, new.target.prototype);\n  }\n}\n\nexport class RequestTimedOut extends Error {\n  constructor(msg?: string) {\n    super(msg);\n\n    Object.setPrototypeOf(this, new.target.prototype);\n  }\n}\nexport class TransportPriorityTooLow extends Error {\n  constructor(msg?: string) {\n    super(msg);\n\n    Object.setPrototypeOf(this, new.target.prototype);\n  }\n}\nexport class TransportClosed extends Error {\n  constructor(msg?: string) {\n    super(msg);\n\n    Object.setPrototypeOf(this, new.target.prototype);\n  }\n}\nexport class UnsupportedFeature extends Error {\n  constructor(msg?: string) {\n    super(msg);\n\n    Object.setPrototypeOf(this, new.target.prototype);\n  }\n}\nexport class UnsupportedTransport extends Error {\n  constructor(msg?: string) {\n    super(msg);\n\n    Object.setPrototypeOf(this, new.target.prototype);\n  }\n}\nexport class UnsupportedStrategy extends Error {\n  constructor(msg?: string) {\n    super(msg);\n\n    Object.setPrototypeOf(this, new.target.prototype);\n  }\n}\nexport class HTTPAuthError extends Error {\n  status: number;\n  constructor(status: number, msg?: string) {\n    super(msg);\n    this.status = status;\n\n    Object.setPrototypeOf(this, new.target.prototype);\n  }\n}\n","import TimelineSender from 'core/timeline/timeline_sender';\nimport * as Collections from 'core/utils/collections';\nimport Util from 'core/util';\nimport Runtime from 'runtime';\nimport { AuthTransport } from 'core/auth/auth_transports';\nimport AbstractRuntime from 'runtimes/interface';\nimport UrlStore from 'core/utils/url_store';\nimport {\n  AuthRequestType,\n  AuthTransportCallback,\n  InternalAuthOptions\n} from 'core/auth/options';\nimport { HTTPAuthError } from 'core/errors';\n\nconst ajax: AuthTransport = function(\n  context: AbstractRuntime,\n  query: string,\n  authOptions: InternalAuthOptions,\n  authRequestType: AuthRequestType,\n  callback: AuthTransportCallback\n) {\n  const xhr = Runtime.createXHR();\n  xhr.open('POST', authOptions.endpoint, true);\n\n  // add request headers\n  xhr.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');\n  for (var headerName in authOptions.headers) {\n    xhr.setRequestHeader(headerName, authOptions.headers[headerName]);\n  }\n  if (authOptions.headersProvider != null) {\n    let dynamicHeaders = authOptions.headersProvider();\n    for (var headerName in dynamicHeaders) {\n      xhr.setRequestHeader(headerName, dynamicHeaders[headerName]);\n    }\n  }\n\n  xhr.onreadystatechange = function() {\n    if (xhr.readyState === 4) {\n      if (xhr.status === 200) {\n        let data;\n        let parsed = false;\n\n        try {\n          data = JSON.parse(xhr.responseText);\n          parsed = true;\n        } catch (e) {\n          callback(\n            new HTTPAuthError(\n              200,\n              `JSON returned from ${authRequestType.toString()} endpoint was invalid, yet status code was 200. Data was: ${\n                xhr.responseText\n              }`\n            ),\n            null\n          );\n        }\n\n        if (parsed) {\n          // prevents double execution.\n          callback(null, data);\n        }\n      } else {\n        let suffix = '';\n        switch (authRequestType) {\n          case AuthRequestType.UserAuthentication:\n            suffix = UrlStore.buildLogSuffix('authenticationEndpoint');\n            break;\n          case AuthRequestType.ChannelAuthorization:\n            suffix = `Clients must be authorized to join private or presence channels. ${UrlStore.buildLogSuffix(\n              'authorizationEndpoint'\n            )}`;\n            break;\n        }\n        callback(\n          new HTTPAuthError(\n            xhr.status,\n            `Unable to retrieve auth string from ${authRequestType.toString()} endpoint - ` +\n              `received status: ${xhr.status} from ${authOptions.endpoint}. ${suffix}`\n          ),\n          null\n        );\n      }\n    }\n  };\n\n  xhr.send(query);\n  return xhr;\n};\n\nexport default ajax;\n","export default function encode(s: any): string {\n  return btoa(utob(s));\n}\n\nvar fromCharCode = String.fromCharCode;\n\nvar b64chars =\n  'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';\nvar b64tab = {};\n\nfor (var i = 0, l = b64chars.length; i < l; i++) {\n  b64tab[b64chars.charAt(i)] = i;\n}\n\nvar cb_utob = function(c) {\n  var cc = c.charCodeAt(0);\n  return cc < 0x80\n    ? c\n    : cc < 0x800\n    ? fromCharCode(0xc0 | (cc >>> 6)) + fromCharCode(0x80 | (cc & 0x3f))\n    : fromCharCode(0xe0 | ((cc >>> 12) & 0x0f)) +\n      fromCharCode(0x80 | ((cc >>> 6) & 0x3f)) +\n      fromCharCode(0x80 | (cc & 0x3f));\n};\n\nvar utob = function(u) {\n  return u.replace(/[^\\x00-\\x7F]/g, cb_utob);\n};\n\nvar cb_encode = function(ccc) {\n  var padlen = [0, 2, 1][ccc.length % 3];\n  var ord =\n    (ccc.charCodeAt(0) << 16) |\n    ((ccc.length > 1 ? ccc.charCodeAt(1) : 0) << 8) |\n    (ccc.length > 2 ? ccc.charCodeAt(2) : 0);\n  var chars = [\n    b64chars.charAt(ord >>> 18),\n    b64chars.charAt((ord >>> 12) & 63),\n    padlen >= 2 ? '=' : b64chars.charAt((ord >>> 6) & 63),\n    padlen >= 1 ? '=' : b64chars.charAt(ord & 63)\n  ];\n  return chars.join('');\n};\n\nvar btoa =\n  global.btoa ||\n  function(b) {\n    return b.replace(/[\\s\\S]{1,3}/g, cb_encode);\n  };\n","import TimedCallback from './timed_callback';\nimport { Delay, Scheduler, Canceller } from './scheduling';\n\nabstract class Timer {\n  protected clear: Canceller;\n  protected timer: number | void;\n\n  constructor(\n    set: Scheduler,\n    clear: Canceller,\n    delay: Delay,\n    callback: TimedCallback\n  ) {\n    this.clear = clear;\n    this.timer = set(() => {\n      if (this.timer) {\n        this.timer = callback(this.timer);\n      }\n    }, delay);\n  }\n\n  /** Returns whether the timer is still running.\n   *\n   * @return {Boolean}\n   */\n  isRunning(): boolean {\n    return this.timer !== null;\n  }\n\n  /** Aborts a timer when it's running. */\n  ensureAborted() {\n    if (this.timer) {\n      this.clear(this.timer);\n      this.timer = null;\n    }\n  }\n}\n\nexport default Timer;\n","import Timer from './abstract_timer';\nimport TimedCallback from './timed_callback';\nimport { Delay } from './scheduling';\n\n// We need to bind clear functions this way to avoid exceptions on IE8\nfunction clearTimeout(timer) {\n  global.clearTimeout(timer);\n}\nfunction clearInterval(timer) {\n  global.clearInterval(timer);\n}\n\n/** Cross-browser compatible one-off timer abstraction.\n *\n * @param {Number} delay\n * @param {Function} callback\n */\nexport class OneOffTimer extends Timer {\n  constructor(delay: Delay, callback: TimedCallback) {\n    super(setTimeout, clearTimeout, delay, function(timer) {\n      callback();\n      return null;\n    });\n  }\n}\n\n/** Cross-browser compatible periodic timer abstraction.\n *\n * @param {Number} delay\n * @param {Function} callback\n */\nexport class PeriodicTimer extends Timer {\n  constructor(delay: Delay, callback: TimedCallback) {\n    super(setInterval, clearInterval, delay, function(timer) {\n      callback();\n      return timer;\n    });\n  }\n}\n","import * as Collections from './utils/collections';\nimport TimedCallback from './utils/timers/timed_callback';\nimport { OneOffTimer, PeriodicTimer } from './utils/timers';\n\nvar Util = {\n  now(): number {\n    if (Date.now) {\n      return Date.now();\n    } else {\n      return new Date().valueOf();\n    }\n  },\n\n  defer(callback: TimedCallback): OneOffTimer {\n    return new OneOffTimer(0, callback);\n  },\n\n  /** Builds a function that will proxy a method call to its first argument.\n   *\n   * Allows partial application of arguments, so additional arguments are\n   * prepended to the argument list.\n   *\n   * @param  {String} name method name\n   * @return {Function} proxy function\n   */\n  method(name: string, ...args: any[]): Function {\n    var boundArguments = Array.prototype.slice.call(arguments, 1);\n    return function(object) {\n      return object[name].apply(object, boundArguments.concat(arguments));\n    };\n  }\n};\n\nexport default Util;\n","import base64encode from '../base64';\nimport Util from '../util';\n\n/** Merges multiple objects into the target argument.\n *\n * For properties that are plain Objects, performs a deep-merge. For the\n * rest it just copies the value of the property.\n *\n * To extend prototypes use it as following:\n *   Pusher.Util.extend(Target.prototype, Base.prototype)\n *\n * You can also use it to merge objects without altering them:\n *   Pusher.Util.extend({}, object1, object2)\n *\n * @param  {Object} target\n * @return {Object} the target argument\n */\nexport function extend<T>(target: any, ...sources: any[]): T {\n  for (var i = 0; i < sources.length; i++) {\n    var extensions = sources[i];\n    for (var property in extensions) {\n      if (\n        extensions[property] &&\n        extensions[property].constructor &&\n        extensions[property].constructor === Object\n      ) {\n        target[property] = extend(target[property] || {}, extensions[property]);\n      } else {\n        target[property] = extensions[property];\n      }\n    }\n  }\n  return target;\n}\n\nexport function stringify(): string {\n  var m = ['Pusher'];\n  for (var i = 0; i < arguments.length; i++) {\n    if (typeof arguments[i] === 'string') {\n      m.push(arguments[i]);\n    } else {\n      m.push(safeJSONStringify(arguments[i]));\n    }\n  }\n  return m.join(' : ');\n}\n\nexport function arrayIndexOf(array: any[], item: any): number {\n  // MSIE doesn't have array.indexOf\n  var nativeIndexOf = Array.prototype.indexOf;\n  if (array === null) {\n    return -1;\n  }\n  if (nativeIndexOf && array.indexOf === nativeIndexOf) {\n    return array.indexOf(item);\n  }\n  for (var i = 0, l = array.length; i < l; i++) {\n    if (array[i] === item) {\n      return i;\n    }\n  }\n  return -1;\n}\n\n/** Applies a function f to all properties of an object.\n *\n * Function f gets 3 arguments passed:\n * - element from the object\n * - key of the element\n * - reference to the object\n *\n * @param {Object} object\n * @param {Function} f\n */\nexport function objectApply(object: any, f: Function) {\n  for (var key in object) {\n    if (Object.prototype.hasOwnProperty.call(object, key)) {\n      f(object[key], key, object);\n    }\n  }\n}\n\n/** Return a list of objects own proerty keys\n *\n * @param {Object} object\n * @returns {Array}\n */\nexport function keys(object: any): string[] {\n  var keys = [];\n  objectApply(object, function(_, key) {\n    keys.push(key);\n  });\n  return keys;\n}\n\n/** Return a list of object's own property values\n *\n * @param {Object} object\n * @returns {Array}\n */\nexport function values(object: any): any[] {\n  var values = [];\n  objectApply(object, function(value) {\n    values.push(value);\n  });\n  return values;\n}\n\n/** Applies a function f to all elements of an array.\n *\n * Function f gets 3 arguments passed:\n * - element from the array\n * - index of the element\n * - reference to the array\n *\n * @param {Array} array\n * @param {Function} f\n */\nexport function apply(array: any[], f: Function, context?: any) {\n  for (var i = 0; i < array.length; i++) {\n    f.call(context || global, array[i], i, array);\n  }\n}\n\n/** Maps all elements of the array and returns the result.\n *\n * Function f gets 4 arguments passed:\n * - element from the array\n * - index of the element\n * - reference to the source array\n * - reference to the destination array\n *\n * @param {Array} array\n * @param {Function} f\n */\nexport function map(array: any[], f: Function): any[] {\n  var result = [];\n  for (var i = 0; i < array.length; i++) {\n    result.push(f(array[i], i, array, result));\n  }\n  return result;\n}\n\n/** Maps all elements of the object and returns the result.\n *\n * Function f gets 4 arguments passed:\n * - element from the object\n * - key of the element\n * - reference to the source object\n * - reference to the destination object\n *\n * @param {Object} object\n * @param {Function} f\n */\nexport function mapObject(object: any, f: Function): any {\n  var result = {};\n  objectApply(object, function(value, key) {\n    result[key] = f(value);\n  });\n  return result;\n}\n\n/** Filters elements of the array using a test function.\n *\n * Function test gets 4 arguments passed:\n * - element from the array\n * - index of the element\n * - reference to the source array\n * - reference to the destination array\n *\n * @param {Array} array\n * @param {Function} f\n */\nexport function filter(array: any[], test: Function): any[] {\n  test =\n    test ||\n    function(value) {\n      return !!value;\n    };\n\n  var result = [];\n  for (var i = 0; i < array.length; i++) {\n    if (test(array[i], i, array, result)) {\n      result.push(array[i]);\n    }\n  }\n  return result;\n}\n\n/** Filters properties of the object using a test function.\n *\n * Function test gets 4 arguments passed:\n * - element from the object\n * - key of the element\n * - reference to the source object\n * - reference to the destination object\n *\n * @param {Object} object\n * @param {Function} f\n */\nexport function filterObject(object: Object, test: Function) {\n  var result = {};\n  objectApply(object, function(value, key) {\n    if ((test && test(value, key, object, result)) || Boolean(value)) {\n      result[key] = value;\n    }\n  });\n  return result;\n}\n\n/** Flattens an object into a two-dimensional array.\n *\n * @param  {Object} object\n * @return {Array} resulting array of [key, value] pairs\n */\nexport function flatten(object: Object): any[] {\n  var result = [];\n  objectApply(object, function(value, key) {\n    result.push([key, value]);\n  });\n  return result;\n}\n\n/** Checks whether any element of the array passes the test.\n *\n * Function test gets 3 arguments passed:\n * - element from the array\n * - index of the element\n * - reference to the source array\n *\n * @param {Array} array\n * @param {Function} f\n */\nexport function any(array: any[], test: Function): boolean {\n  for (var i = 0; i < array.length; i++) {\n    if (test(array[i], i, array)) {\n      return true;\n    }\n  }\n  return false;\n}\n\n/** Checks whether all elements of the array pass the test.\n *\n * Function test gets 3 arguments passed:\n * - element from the array\n * - index of the element\n * - reference to the source array\n *\n * @param {Array} array\n * @param {Function} f\n */\nexport function all(array: any[], test: Function): boolean {\n  for (var i = 0; i < array.length; i++) {\n    if (!test(array[i], i, array)) {\n      return false;\n    }\n  }\n  return true;\n}\n\nexport function encodeParamsObject(data): string {\n  return mapObject(data, function(value) {\n    if (typeof value === 'object') {\n      value = safeJSONStringify(value);\n    }\n    return encodeURIComponent(base64encode(value.toString()));\n  });\n}\n\nexport function buildQueryString(data: any): string {\n  var params = filterObject(data, function(value) {\n    return value !== undefined;\n  });\n\n  var query = map(\n    flatten(encodeParamsObject(params)),\n    Util.method('join', '=')\n  ).join('&');\n\n  return query;\n}\n\n/**\n * See https://github.com/douglascrockford/JSON-js/blob/master/cycle.js\n *\n * Remove circular references from an object. Required for JSON.stringify in\n * React Native, which tends to blow up a lot.\n *\n * @param  {any} object\n * @return {any}        Decycled object\n */\nexport function decycleObject(object: any): any {\n  var objects = [],\n    paths = [];\n\n  return (function derez(value, path) {\n    var i, name, nu;\n\n    switch (typeof value) {\n      case 'object':\n        if (!value) {\n          return null;\n        }\n        for (i = 0; i < objects.length; i += 1) {\n          if (objects[i] === value) {\n            return { $ref: paths[i] };\n          }\n        }\n\n        objects.push(value);\n        paths.push(path);\n\n        if (Object.prototype.toString.apply(value) === '[object Array]') {\n          nu = [];\n          for (i = 0; i < value.length; i += 1) {\n            nu[i] = derez(value[i], path + '[' + i + ']');\n          }\n        } else {\n          nu = {};\n          for (name in value) {\n            if (Object.prototype.hasOwnProperty.call(value, name)) {\n              nu[name] = derez(\n                value[name],\n                path + '[' + JSON.stringify(name) + ']'\n              );\n            }\n          }\n        }\n        return nu;\n      case 'number':\n      case 'string':\n      case 'boolean':\n        return value;\n    }\n  })(object, '$');\n}\n\n/**\n * Provides a cross-browser and cross-platform way to safely stringify objects\n * into JSON. This is particularly necessary for ReactNative, where circular JSON\n * structures throw an exception.\n *\n * @param  {any}    source The object to stringify\n * @return {string}        The serialized output.\n */\nexport function safeJSONStringify(source: any): string {\n  try {\n    return JSON.stringify(source);\n  } catch (e) {\n    return JSON.stringify(decycleObject(source));\n  }\n}\n","import { stringify } from './utils/collections';\nimport Pusher from './pusher';\n\nclass Logger {\n  debug(...args: any[]) {\n    this.log(this.globalLog, args);\n  }\n\n  warn(...args: any[]) {\n    this.log(this.globalLogWarn, args);\n  }\n\n  error(...args: any[]) {\n    this.log(this.globalLogError, args);\n  }\n\n  private globalLog = (message: string) => {\n    if (global.console && global.console.log) {\n      global.console.log(message);\n    }\n  };\n\n  private globalLogWarn(message: string) {\n    if (global.console && global.console.warn) {\n      global.console.warn(message);\n    } else {\n      this.globalLog(message);\n    }\n  }\n\n  private globalLogError(message: string) {\n    if (global.console && global.console.error) {\n      global.console.error(message);\n    } else {\n      this.globalLogWarn(message);\n    }\n  }\n\n  private log(\n    defaultLoggingFunction: (message: string) => void,\n    ...args: any[]\n  ) {\n    var message = stringify.apply(this, arguments);\n    if (Pusher.log) {\n      Pusher.log(message);\n    } else if (Pusher.logToConsole) {\n      const log = defaultLoggingFunction.bind(this);\n      log(message);\n    }\n  }\n}\n\nexport default new Logger();\n","import Browser from '../browser';\nimport Logger from 'core/logger';\nimport JSONPRequest from '../dom/jsonp_request';\nimport { ScriptReceivers } from '../dom/script_receiver_factory';\nimport { AuthTransport } from 'core/auth/auth_transports';\nimport {\n  AuthRequestType,\n  AuthTransportCallback,\n  InternalAuthOptions\n} from 'core/auth/options';\n\nvar jsonp: AuthTransport = function(\n  context: Browser,\n  query: string,\n  authOptions: InternalAuthOptions,\n  authRequestType: AuthRequestType,\n  callback: AuthTransportCallback\n) {\n  if (\n    authOptions.headers !== undefined ||\n    authOptions.headersProvider != null\n  ) {\n    Logger.warn(\n      `To send headers with the ${authRequestType.toString()} request, you must use AJAX, rather than JSONP.`\n    );\n  }\n\n  var callbackName = context.nextAuthCallbackID.toString();\n  context.nextAuthCallbackID++;\n\n  var document = context.getDocument();\n  var script = document.createElement('script');\n  // Hacked wrapper.\n  context.auth_callbacks[callbackName] = function(data) {\n    callback(null, data);\n  };\n\n  var callback_name = \"Pusher.auth_callbacks['\" + callbackName + \"']\";\n  script.src =\n    authOptions.endpoint +\n    '?callback=' +\n    encodeURIComponent(callback_name) +\n    '&' +\n    query;\n\n  var head =\n    document.getElementsByTagName('head')[0] || document.documentElement;\n  head.insertBefore(script, head.firstChild);\n};\n\nexport default jsonp;\n","import ScriptReceiver from './script_receiver';\n\n/** Sends a generic HTTP GET request using a script tag.\n *\n * By constructing URL in a specific way, it can be used for loading\n * JavaScript resources or JSONP requests. It can notify about errors, but\n * only in certain environments. Please take care of monitoring the state of\n * the request yourself.\n *\n * @param {String} src\n */\nexport default class ScriptRequest {\n  src: string;\n  script: any;\n  errorScript: any;\n\n  constructor(src: string) {\n    this.src = src;\n  }\n\n  send(receiver: ScriptReceiver) {\n    var self = this;\n    var errorString = 'Error loading ' + self.src;\n\n    self.script = document.createElement('script');\n    self.script.id = receiver.id;\n    self.script.src = self.src;\n    self.script.type = 'text/javascript';\n    self.script.charset = 'UTF-8';\n\n    if (self.script.addEventListener) {\n      self.script.onerror = function() {\n        receiver.callback(errorString);\n      };\n      self.script.onload = function() {\n        receiver.callback(null);\n      };\n    } else {\n      self.script.onreadystatechange = function() {\n        if (\n          self.script.readyState === 'loaded' ||\n          self.script.readyState === 'complete'\n        ) {\n          receiver.callback(null);\n        }\n      };\n    }\n\n    // Opera<11.6 hack for missing onerror callback\n    if (\n      self.script.async === undefined &&\n      (<any>document).attachEvent &&\n      /opera/i.test(navigator.userAgent)\n    ) {\n      self.errorScript = document.createElement('script');\n      self.errorScript.id = receiver.id + '_error';\n      self.errorScript.text = receiver.name + \"('\" + errorString + \"');\";\n      self.script.async = self.errorScript.async = false;\n    } else {\n      self.script.async = true;\n    }\n\n    var head = document.getElementsByTagName('head')[0];\n    head.insertBefore(self.script, head.firstChild);\n    if (self.errorScript) {\n      head.insertBefore(self.errorScript, self.script.nextSibling);\n    }\n  }\n\n  /** Cleans up the DOM remains of the script request. */\n  cleanup() {\n    if (this.script) {\n      this.script.onload = this.script.onerror = null;\n      this.script.onreadystatechange = null;\n    }\n    if (this.script && this.script.parentNode) {\n      this.script.parentNode.removeChild(this.script);\n    }\n    if (this.errorScript && this.errorScript.parentNode) {\n      this.errorScript.parentNode.removeChild(this.errorScript);\n    }\n    this.script = null;\n    this.errorScript = null;\n  }\n}\n","import ScriptReceiver from './script_receiver';\nimport ScriptRequest from './script_request';\nimport * as Collections from 'core/utils/collections';\nimport Util from 'core/util';\nimport Runtime from '../runtime';\n\n/** Sends data via JSONP.\n *\n * Data is a key-value map. Its values are JSON-encoded and then passed\n * through base64. Finally, keys and encoded values are appended to the query\n * string.\n *\n * The class itself does not guarantee raising errors on failures, as it's not\n * possible to support such feature on all browsers. Instead, JSONP endpoint\n * should call back in a way that's easy to distinguish from browser calls,\n * for example by passing a second argument to the receiver.\n *\n * @param {String} url\n * @param {Object} data key-value map of data to be submitted\n */\nexport default class JSONPRequest {\n  url: string;\n  data: any;\n  request: ScriptRequest;\n\n  constructor(url: string, data: any) {\n    this.url = url;\n    this.data = data;\n  }\n\n  /** Sends the actual JSONP request.\n   *\n   * @param {ScriptReceiver} receiver\n   */\n  send(receiver: ScriptReceiver) {\n    if (this.request) {\n      return;\n    }\n\n    var query = Collections.buildQueryString(this.data);\n    var url = this.url + '/' + receiver.number + '?' + query;\n    this.request = Runtime.createScriptRequest(url);\n    this.request.send(receiver);\n  }\n\n  /** Cleans up the DOM remains of the JSONP request. */\n  cleanup() {\n    if (this.request) {\n      this.request.cleanup();\n    }\n  }\n}\n","import TimelineSender from 'core/timeline/timeline_sender';\nimport TimelineTransport from 'core/timeline/timeline_transport';\nimport Browser from 'runtime';\nimport { AuthTransport } from 'core/auth/auth_transports';\nimport { ScriptReceivers } from '../dom/script_receiver_factory';\n\nvar getAgent = function(sender: TimelineSender, useTLS: boolean) {\n  return function(data: any, callback: Function) {\n    var scheme = 'http' + (useTLS ? 's' : '') + '://';\n    var url =\n      scheme + (sender.host || sender.options.host) + sender.options.path;\n    var request = Browser.createJSONPRequest(url, data);\n\n    var receiver = Browser.ScriptReceivers.create(function(error, result) {\n      ScriptReceivers.remove(receiver);\n      request.cleanup();\n\n      if (result && result.host) {\n        sender.host = result.host;\n      }\n      if (callback) {\n        callback(error, result);\n      }\n    });\n    request.send(receiver);\n  };\n};\n\nvar jsonp = {\n  name: 'jsonp',\n  getAgent\n};\n\nexport default jsonp;\n","import Defaults from '../defaults';\nimport { default as URLScheme, URLSchemeParams } from './url_scheme';\n\nfunction getGenericURL(\n  baseScheme: string,\n  params: URLSchemeParams,\n  path: string\n): string {\n  var scheme = baseScheme + (params.useTLS ? 's' : '');\n  var host = params.useTLS ? params.hostTLS : params.hostNonTLS;\n  return scheme + '://' + host + path;\n}\n\nfunction getGenericPath(key: string, queryString?: string): string {\n  var path = '/app/' + key;\n  var query =\n    '?protocol=' +\n    Defaults.PROTOCOL +\n    '&client=js' +\n    '&version=' +\n    Defaults.VERSION +\n    (queryString ? '&' + queryString : '');\n  return path + query;\n}\n\nexport var ws: URLScheme = {\n  getInitial: function(key: string, params: URLSchemeParams): string {\n    var path = (params.httpPath || '') + getGenericPath(key, 'flash=false');\n    return getGenericURL('ws', params, path);\n  }\n};\n\nexport var http: URLScheme = {\n  getInitial: function(key: string, params: URLSchemeParams): string {\n    var path = (params.httpPath || '/pusher') + getGenericPath(key);\n    return getGenericURL('http', params, path);\n  }\n};\n\nexport var sockjs: URLScheme = {\n  getInitial: function(key: string, params: URLSchemeParams): string {\n    return getGenericURL('http', params, params.httpPath || '/pusher');\n  },\n  getPath: function(key: string, params: URLSchemeParams): string {\n    return getGenericPath(key);\n  }\n};\n","import Callback from './callback';\nimport * as Collections from '../utils/collections';\nimport CallbackTable from './callback_table';\n\nexport default class CallbackRegistry {\n  _callbacks: CallbackTable;\n\n  constructor() {\n    this._callbacks = {};\n  }\n\n  get(name: string): Callback[] {\n    return this._callbacks[prefix(name)];\n  }\n\n  add(name: string, callback: Function, context: any) {\n    var prefixedEventName = prefix(name);\n    this._callbacks[prefixedEventName] =\n      this._callbacks[prefixedEventName] || [];\n    this._callbacks[prefixedEventName].push({\n      fn: callback,\n      context: context\n    });\n  }\n\n  remove(name?: string, callback?: Function, context?: any) {\n    if (!name && !callback && !context) {\n      this._callbacks = {};\n      return;\n    }\n\n    var names = name ? [prefix(name)] : Collections.keys(this._callbacks);\n\n    if (callback || context) {\n      this.removeCallback(names, callback, context);\n    } else {\n      this.removeAllCallbacks(names);\n    }\n  }\n\n  private removeCallback(names: string[], callback: Function, context: any) {\n    Collections.apply(\n      names,\n      function(name) {\n        this._callbacks[name] = Collections.filter(\n          this._callbacks[name] || [],\n          function(binding) {\n            return (\n              (callback && callback !== binding.fn) ||\n              (context && context !== binding.context)\n            );\n          }\n        );\n        if (this._callbacks[name].length === 0) {\n          delete this._callbacks[name];\n        }\n      },\n      this\n    );\n  }\n\n  private removeAllCallbacks(names: string[]) {\n    Collections.apply(\n      names,\n      function(name) {\n        delete this._callbacks[name];\n      },\n      this\n    );\n  }\n}\n\nfunction prefix(name: string): string {\n  return '_' + name;\n}\n","import * as Collections from '../utils/collections';\nimport Callback from './callback';\nimport Metadata from '../channels/metadata';\nimport CallbackRegistry from './callback_registry';\n\n/** Manages callback bindings and event emitting.\n *\n * @param Function failThrough called when no listeners are bound to an event\n */\nexport default class Dispatcher {\n  callbacks: CallbackRegistry;\n  global_callbacks: Function[];\n  failThrough: Function;\n\n  constructor(failThrough?: Function) {\n    this.callbacks = new CallbackRegistry();\n    this.global_callbacks = [];\n    this.failThrough = failThrough;\n  }\n\n  bind(eventName: string, callback: Function, context?: any) {\n    this.callbacks.add(eventName, callback, context);\n    return this;\n  }\n\n  bind_global(callback: Function) {\n    this.global_callbacks.push(callback);\n    return this;\n  }\n\n  unbind(eventName?: string, callback?: Function, context?: any) {\n    this.callbacks.remove(eventName, callback, context);\n    return this;\n  }\n\n  unbind_global(callback?: Function) {\n    if (!callback) {\n      this.global_callbacks = [];\n      return this;\n    }\n\n    this.global_callbacks = Collections.filter(\n      this.global_callbacks || [],\n      c => c !== callback\n    );\n\n    return this;\n  }\n\n  unbind_all() {\n    this.unbind();\n    this.unbind_global();\n    return this;\n  }\n\n  emit(eventName: string, data?: any, metadata?: Metadata): Dispatcher {\n    for (var i = 0; i < this.global_callbacks.length; i++) {\n      this.global_callbacks[i](eventName, data);\n    }\n\n    var callbacks = this.callbacks.get(eventName);\n    var args = [];\n\n    if (metadata) {\n      // if there's a metadata argument, we need to call the callback with both\n      // data and metadata regardless of whether data is undefined\n      args.push(data, metadata);\n    } else if (data) {\n      // metadata is undefined, so we only need to call the callback with data\n      // if data exists\n      args.push(data);\n    }\n\n    if (callbacks && callbacks.length > 0) {\n      for (var i = 0; i < callbacks.length; i++) {\n        callbacks[i].fn.apply(callbacks[i].context || global, args);\n      }\n    } else if (this.failThrough) {\n      this.failThrough(eventName, data);\n    }\n\n    return this;\n  }\n}\n","import Util from '../util';\nimport * as Collections from '../utils/collections';\nimport { default as EventsDispatcher } from '../events/dispatcher';\nimport Logger from '../logger';\nimport TransportHooks from './transport_hooks';\nimport Socket from '../socket';\nimport Runtime from 'runtime';\nimport Timeline from '../timeline/timeline';\nimport TransportConnectionOptions from './transport_connection_options';\n\n/** Provides universal API for transport connections.\n *\n * Transport connection is a low-level object that wraps a connection method\n * and exposes a simple evented interface for the connection state and\n * messaging. It does not implement Pusher-specific WebSocket protocol.\n *\n * Additionally, it fetches resources needed for transport to work and exposes\n * an interface for querying transport features.\n *\n * States:\n * - new - initial state after constructing the object\n * - initializing - during initialization phase, usually fetching resources\n * - intialized - ready to establish a connection\n * - connection - when connection is being established\n * - open - when connection ready to be used\n * - closed - after connection was closed be either side\n *\n * Emits:\n * - error - after the connection raised an error\n *\n * Options:\n * - useTLS - whether connection should be over TLS\n * - hostTLS - host to connect to when connection is over TLS\n * - hostNonTLS - host to connect to when connection is over TLS\n *\n * @param {String} key application key\n * @param {Object} options\n */\nexport default class TransportConnection extends EventsDispatcher {\n  hooks: TransportHooks;\n  name: string;\n  priority: number;\n  key: string;\n  options: TransportConnectionOptions;\n  state: string;\n  timeline: Timeline;\n  activityTimeout: number;\n  id: number;\n  socket: Socket;\n  beforeOpen: Function;\n  initialize: Function;\n\n  constructor(\n    hooks: TransportHooks,\n    name: string,\n    priority: number,\n    key: string,\n    options: TransportConnectionOptions\n  ) {\n    super();\n    this.initialize = Runtime.transportConnectionInitializer;\n    this.hooks = hooks;\n    this.name = name;\n    this.priority = priority;\n    this.key = key;\n    this.options = options;\n\n    this.state = 'new';\n    this.timeline = options.timeline;\n    this.activityTimeout = options.activityTimeout;\n    this.id = this.timeline.generateUniqueID();\n  }\n\n  /** Checks whether the transport handles activity checks by itself.\n   *\n   * @return {Boolean}\n   */\n  handlesActivityChecks(): boolean {\n    return Boolean(this.hooks.handlesActivityChecks);\n  }\n\n  /** Checks whether the transport supports the ping/pong API.\n   *\n   * @return {Boolean}\n   */\n  supportsPing(): boolean {\n    return Boolean(this.hooks.supportsPing);\n  }\n\n  /** Tries to establish a connection.\n   *\n   * @returns {Boolean} false if transport is in invalid state\n   */\n  connect(): boolean {\n    if (this.socket || this.state !== 'initialized') {\n      return false;\n    }\n\n    var url = this.hooks.urls.getInitial(this.key, this.options);\n    try {\n      this.socket = this.hooks.getSocket(url, this.options);\n    } catch (e) {\n      Util.defer(() => {\n        this.onError(e);\n        this.changeState('closed');\n      });\n      return false;\n    }\n\n    this.bindListeners();\n\n    Logger.debug('Connecting', { transport: this.name, url });\n    this.changeState('connecting');\n    return true;\n  }\n\n  /** Closes the connection.\n   *\n   * @return {Boolean} true if there was a connection to close\n   */\n  close(): boolean {\n    if (this.socket) {\n      this.socket.close();\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n  /** Sends data over the open connection.\n   *\n   * @param {String} data\n   * @return {Boolean} true only when in the \"open\" state\n   */\n  send(data: any): boolean {\n    if (this.state === 'open') {\n      // Workaround for MobileSafari bug (see https://gist.github.com/2052006)\n      Util.defer(() => {\n        if (this.socket) {\n          this.socket.send(data);\n        }\n      });\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n  /** Sends a ping if the connection is open and transport supports it. */\n  ping() {\n    if (this.state === 'open' && this.supportsPing()) {\n      this.socket.ping();\n    }\n  }\n\n  private onOpen() {\n    if (this.hooks.beforeOpen) {\n      this.hooks.beforeOpen(\n        this.socket,\n        this.hooks.urls.getPath(this.key, this.options)\n      );\n    }\n    this.changeState('open');\n    this.socket.onopen = undefined;\n  }\n\n  private onError(error) {\n    this.emit('error', { type: 'WebSocketError', error: error });\n    this.timeline.error(this.buildTimelineMessage({ error: error.toString() }));\n  }\n\n  private onClose(closeEvent?: any) {\n    if (closeEvent) {\n      this.changeState('closed', {\n        code: closeEvent.code,\n        reason: closeEvent.reason,\n        wasClean: closeEvent.wasClean\n      });\n    } else {\n      this.changeState('closed');\n    }\n    this.unbindListeners();\n    this.socket = undefined;\n  }\n\n  private onMessage(message) {\n    this.emit('message', message);\n  }\n\n  private onActivity() {\n    this.emit('activity');\n  }\n\n  private bindListeners() {\n    this.socket.onopen = () => {\n      this.onOpen();\n    };\n    this.socket.onerror = error => {\n      this.onError(error);\n    };\n    this.socket.onclose = closeEvent => {\n      this.onClose(closeEvent);\n    };\n    this.socket.onmessage = message => {\n      this.onMessage(message);\n    };\n\n    if (this.supportsPing()) {\n      this.socket.onactivity = () => {\n        this.onActivity();\n      };\n    }\n  }\n\n  private unbindListeners() {\n    if (this.socket) {\n      this.socket.onopen = undefined;\n      this.socket.onerror = undefined;\n      this.socket.onclose = undefined;\n      this.socket.onmessage = undefined;\n      if (this.supportsPing()) {\n        this.socket.onactivity = undefined;\n      }\n    }\n  }\n\n  private changeState(state: string, params?: any) {\n    this.state = state;\n    this.timeline.info(\n      this.buildTimelineMessage({\n        state: state,\n        params: params\n      })\n    );\n    this.emit(state, params);\n  }\n\n  buildTimelineMessage(message): any {\n    return Collections.extend({ cid: this.id }, message);\n  }\n}\n","import Factory from '../utils/factory';\nimport TransportHooks from './transport_hooks';\nimport TransportConnection from './transport_connection';\nimport TransportConnectionOptions from './transport_connection_options';\n\n/** Provides interface for transport connection instantiation.\n *\n * Takes transport-specific hooks as the only argument, which allow checking\n * for transport support and creating its connections.\n *\n * Supported hooks: * - file - the name of the file to be fetched during initialization\n * - urls - URL scheme to be used by transport\n * - handlesActivityCheck - true when the transport handles activity checks\n * - supportsPing - true when the transport has a ping/activity API\n * - isSupported - tells whether the transport is supported in the environment\n * - getSocket - creates a WebSocket-compatible transport socket\n *\n * See transports.js for specific implementations.\n *\n * @param {Object} hooks object containing all needed transport hooks\n */\nexport default class Transport {\n  hooks: TransportHooks;\n\n  constructor(hooks: TransportHooks) {\n    this.hooks = hooks;\n  }\n\n  /** Returns whether the transport is supported in the environment.\n   *\n   * @param {Object} envronment te environment details (encryption, settings)\n   * @returns {Boolean} true when the transport is supported\n   */\n  isSupported(environment: any): boolean {\n    return this.hooks.isSupported(environment);\n  }\n\n  /** Creates a transport connection.\n   *\n   * @param {String} name\n   * @param {Number} priority\n   * @param {String} key the application key\n   * @param {Object} options\n   * @returns {TransportConnection}\n   */\n  createConnection(\n    name: string,\n    priority: number,\n    key: string,\n    options: any\n  ): TransportConnection {\n    return new TransportConnection(this.hooks, name, priority, key, options);\n  }\n}\n","import * as URLSchemes from 'core/transports/url_schemes';\nimport URLScheme from 'core/transports/url_scheme';\nimport Transport from 'core/transports/transport';\nimport Util from 'core/util';\nimport * as Collections from 'core/utils/collections';\nimport TransportHooks from 'core/transports/transport_hooks';\nimport TransportsTable from 'core/transports/transports_table';\nimport Runtime from 'runtime';\n\n/** WebSocket transport.\n *\n * Uses native WebSocket implementation, including MozWebSocket supported by\n * earlier Firefox versions.\n */\nvar WSTransport = new Transport(<TransportHooks>{\n  urls: URLSchemes.ws,\n  handlesActivityChecks: false,\n  supportsPing: false,\n\n  isInitialized: function() {\n    return Boolean(Runtime.getWebSocketAPI());\n  },\n  isSupported: function(): boolean {\n    return Boolean(Runtime.getWebSocketAPI());\n  },\n  getSocket: function(url) {\n    return Runtime.createWebSocket(url);\n  }\n});\n\nvar httpConfiguration = {\n  urls: URLSchemes.http,\n  handlesActivityChecks: false,\n  supportsPing: true,\n  isInitialized: function() {\n    return true;\n  }\n};\n\nexport var streamingConfiguration = Collections.extend(\n  {\n    getSocket: function(url) {\n      return Runtime.HTTPFactory.createStreamingSocket(url);\n    }\n  },\n  httpConfiguration\n);\nexport var pollingConfiguration = Collections.extend(\n  {\n    getSocket: function(url) {\n      return Runtime.HTTPFactory.createPollingSocket(url);\n    }\n  },\n  httpConfiguration\n);\n\nvar xhrConfiguration = {\n  isSupported: function(): boolean {\n    return Runtime.isXHRSupported();\n  }\n};\n\n/** HTTP streaming transport using CORS-enabled XMLHttpRequest. */\nvar XHRStreamingTransport = new Transport(\n  <TransportHooks>(\n    Collections.extend({}, streamingConfiguration, xhrConfiguration)\n  )\n);\n\n/** HTTP long-polling transport using CORS-enabled XMLHttpRequest. */\nvar XHRPollingTransport = new Transport(\n  <TransportHooks>Collections.extend({}, pollingConfiguration, xhrConfiguration)\n);\n\nvar Transports: TransportsTable = {\n  ws: WSTransport,\n  xhr_streaming: XHRStreamingTransport,\n  xhr_polling: XHRPollingTransport\n};\n\nexport default Transports;\n","import {\n  default as Transports,\n  streamingConfiguration,\n  pollingConfiguration\n} from 'isomorphic/transports/transports';\nimport Transport from 'core/transports/transport';\nimport TransportHooks from 'core/transports/transport_hooks';\nimport * as URLSchemes from 'core/transports/url_schemes';\nimport Runtime from 'runtime';\nimport { Dependencies } from '../dom/dependencies';\nimport * as Collections from 'core/utils/collections';\n\nvar SockJSTransport = new Transport(<TransportHooks>{\n  file: 'sockjs',\n  urls: URLSchemes.sockjs,\n  handlesActivityChecks: true,\n  supportsPing: false,\n\n  isSupported: function() {\n    return true;\n  },\n  isInitialized: function() {\n    return window.SockJS !== undefined;\n  },\n  getSocket: function(url, options) {\n    return new window.SockJS(url, null, {\n      js_path: Dependencies.getPath('sockjs', {\n        useTLS: options.useTLS\n      }),\n      ignore_null_origin: options.ignoreNullOrigin\n    });\n  },\n  beforeOpen: function(socket, path) {\n    socket.send(\n      JSON.stringify({\n        path: path\n      })\n    );\n  }\n});\n\nvar xdrConfiguration = {\n  isSupported: function(environment): boolean {\n    var yes = Runtime.isXDRSupported(environment.useTLS);\n    return yes;\n  }\n};\n\n/** HTTP streaming transport using XDomainRequest (IE 8,9). */\nvar XDRStreamingTransport = new Transport(\n  <TransportHooks>(\n    Collections.extend({}, streamingConfiguration, xdrConfiguration)\n  )\n);\n\n/** HTTP long-polling transport using XDomainRequest (IE 8,9). */\nvar XDRPollingTransport = new Transport(\n  <TransportHooks>Collections.extend({}, pollingConfiguration, xdrConfiguration)\n);\n\nTransports.xdr_streaming = XDRStreamingTransport;\nTransports.xdr_polling = XDRPollingTransport;\nTransports.sockjs = SockJSTransport;\n\nexport default Transports;\n","import Reachability from 'core/reachability';\nimport { default as EventsDispatcher } from 'core/events/dispatcher';\n\n/** Really basic interface providing network availability info.\n *\n * Emits:\n * - online - when browser goes online\n * - offline - when browser goes offline\n */\nexport class NetInfo extends EventsDispatcher implements Reachability {\n  constructor() {\n    super();\n    var self = this;\n    // This is okay, as IE doesn't support this stuff anyway.\n    if (window.addEventListener !== undefined) {\n      window.addEventListener(\n        'online',\n        function() {\n          self.emit('online');\n        },\n        false\n      );\n      window.addEventListener(\n        'offline',\n        function() {\n          self.emit('offline');\n        },\n        false\n      );\n    }\n  }\n\n  /** Returns whether browser is online or not\n   *\n   * Offline means definitely offline (no connection to router).\n   * Inverse does NOT mean definitely online (only currently supported in Safari\n   * and even there only means the device has a connection to the router).\n   *\n   * @return {Boolean}\n   */\n  isOnline(): boolean {\n    if (window.navigator.onLine === undefined) {\n      return true;\n    } else {\n      return window.navigator.onLine;\n    }\n  }\n}\n\nexport var Network = new NetInfo();\n","import Util from '../util';\nimport * as Collections from '../utils/collections';\nimport TransportManager from './transport_manager';\nimport TransportConnection from './transport_connection';\nimport Transport from './transport';\nimport PingDelayOptions from './ping_delay_options';\n\n/** Creates transport connections monitored by a transport manager.\n *\n * When a transport is closed, it might mean the environment does not support\n * it. It's possible that messages get stuck in an intermediate buffer or\n * proxies terminate inactive connections. To combat these problems,\n * assistants monitor the connection lifetime, report unclean exits and\n * adjust ping timeouts to keep the connection active. The decision to disable\n * a transport is the manager's responsibility.\n *\n * @param {TransportManager} manager\n * @param {TransportConnection} transport\n * @param {Object} options\n */\nexport default class AssistantToTheTransportManager {\n  manager: TransportManager;\n  transport: Transport;\n  minPingDelay: number;\n  maxPingDelay: number;\n  pingDelay: number;\n\n  constructor(\n    manager: TransportManager,\n    transport: Transport,\n    options: PingDelayOptions\n  ) {\n    this.manager = manager;\n    this.transport = transport;\n    this.minPingDelay = options.minPingDelay;\n    this.maxPingDelay = options.maxPingDelay;\n    this.pingDelay = undefined;\n  }\n\n  /** Creates a transport connection.\n   *\n   * This function has the same API as Transport#createConnection.\n   *\n   * @param {String} name\n   * @param {Number} priority\n   * @param {String} key the application key\n   * @param {Object} options\n   * @returns {TransportConnection}\n   */\n  createConnection(\n    name: string,\n    priority: number,\n    key: string,\n    options: Object\n  ): TransportConnection {\n    options = Collections.extend({}, options, {\n      activityTimeout: this.pingDelay\n    });\n    var connection = this.transport.createConnection(\n      name,\n      priority,\n      key,\n      options\n    );\n\n    var openTimestamp = null;\n\n    var onOpen = function() {\n      connection.unbind('open', onOpen);\n      connection.bind('closed', onClosed);\n      openTimestamp = Util.now();\n    };\n    var onClosed = closeEvent => {\n      connection.unbind('closed', onClosed);\n\n      if (closeEvent.code === 1002 || closeEvent.code === 1003) {\n        // we don't want to use transports not obeying the protocol\n        this.manager.reportDeath();\n      } else if (!closeEvent.wasClean && openTimestamp) {\n        // report deaths only for short-living transport\n        var lifespan = Util.now() - openTimestamp;\n        if (lifespan < 2 * this.maxPingDelay) {\n          this.manager.reportDeath();\n          this.pingDelay = Math.max(lifespan / 2, this.minPingDelay);\n        }\n      }\n    };\n\n    connection.bind('open', onOpen);\n    return connection;\n  }\n\n  /** Returns whether the transport is supported in the environment.\n   *\n   * This function has the same API as Transport#isSupported. Might return false\n   * when the manager decides to kill the transport.\n   *\n   * @param {Object} environment the environment details (encryption, settings)\n   * @returns {Boolean} true when the transport is supported\n   */\n  isSupported(environment: string): boolean {\n    return this.manager.isAlive() && this.transport.isSupported(environment);\n  }\n}\n","import Action from './action';\nimport { PusherEvent } from './message-types';\n/**\n * Provides functions for handling Pusher protocol-specific messages.\n */\n\nconst Protocol = {\n  /**\n   * Decodes a message in a Pusher format.\n   *\n   * The MessageEvent we receive from the transport should contain a pusher event\n   * (https://pusher.com/docs/pusher_protocol#events) serialized as JSON in the\n   * data field\n   *\n   * The pusher event may contain a data field too, and it may also be\n   * serialised as JSON\n   *\n   * Throws errors when messages are not parse'able.\n   *\n   * @param  {MessageEvent} messageEvent\n   * @return {PusherEvent}\n   */\n  decodeMessage: function(messageEvent: MessageEvent): PusherEvent {\n    try {\n      var messageData = JSON.parse(messageEvent.data);\n      var pusherEventData = messageData.data;\n      if (typeof pusherEventData === 'string') {\n        try {\n          pusherEventData = JSON.parse(messageData.data);\n        } catch (e) {}\n      }\n      var pusherEvent: PusherEvent = {\n        event: messageData.event,\n        channel: messageData.channel,\n        data: pusherEventData\n      };\n      if (messageData.user_id) {\n        pusherEvent.user_id = messageData.user_id;\n      }\n      return pusherEvent;\n    } catch (e) {\n      throw { type: 'MessageParseError', error: e, data: messageEvent.data };\n    }\n  },\n\n  /**\n   * Encodes a message to be sent.\n   *\n   * @param  {PusherEvent} event\n   * @return {String}\n   */\n  encodeMessage: function(event: PusherEvent): string {\n    return JSON.stringify(event);\n  },\n\n  /**\n   * Processes a handshake message and returns appropriate actions.\n   *\n   * Returns an object with an 'action' and other action-specific properties.\n   *\n   * There are three outcomes when calling this function. First is a successful\n   * connection attempt, when pusher:connection_established is received, which\n   * results in a 'connected' action with an 'id' property. When passed a\n   * pusher:error event, it returns a result with action appropriate to the\n   * close code and an error. Otherwise, it raises an exception.\n   *\n   * @param {String} message\n   * @result Object\n   */\n  processHandshake: function(messageEvent: MessageEvent): Action {\n    var message = Protocol.decodeMessage(messageEvent);\n\n    if (message.event === 'pusher:connection_established') {\n      if (!message.data.activity_timeout) {\n        throw 'No activity timeout specified in handshake';\n      }\n      return {\n        action: 'connected',\n        id: message.data.socket_id,\n        activityTimeout: message.data.activity_timeout * 1000\n      };\n    } else if (message.event === 'pusher:error') {\n      // From protocol 6 close codes are sent only once, so this only\n      // happens when connection does not support close codes\n      return {\n        action: this.getCloseAction(message.data),\n        error: this.getCloseError(message.data)\n      };\n    } else {\n      throw 'Invalid handshake';\n    }\n  },\n\n  /**\n   * Dispatches the close event and returns an appropriate action name.\n   *\n   * See:\n   * 1. https://developer.mozilla.org/en-US/docs/WebSockets/WebSockets_reference/CloseEvent\n   * 2. http://pusher.com/docs/pusher_protocol\n   *\n   * @param  {CloseEvent} closeEvent\n   * @return {String} close action name\n   */\n  getCloseAction: function(closeEvent): string {\n    if (closeEvent.code < 4000) {\n      // ignore 1000 CLOSE_NORMAL, 1001 CLOSE_GOING_AWAY,\n      //        1005 CLOSE_NO_STATUS, 1006 CLOSE_ABNORMAL\n      // ignore 1007...3999\n      // handle 1002 CLOSE_PROTOCOL_ERROR, 1003 CLOSE_UNSUPPORTED,\n      //        1004 CLOSE_TOO_LARGE\n      if (closeEvent.code >= 1002 && closeEvent.code <= 1004) {\n        return 'backoff';\n      } else {\n        return null;\n      }\n    } else if (closeEvent.code === 4000) {\n      return 'tls_only';\n    } else if (closeEvent.code < 4100) {\n      return 'refused';\n    } else if (closeEvent.code < 4200) {\n      return 'backoff';\n    } else if (closeEvent.code < 4300) {\n      return 'retry';\n    } else {\n      // unknown error\n      return 'refused';\n    }\n  },\n\n  /**\n   * Returns an error or null basing on the close event.\n   *\n   * Null is returned when connection was closed cleanly. Otherwise, an object\n   * with error details is returned.\n   *\n   * @param  {CloseEvent} closeEvent\n   * @return {Object} error object\n   */\n  getCloseError: function(closeEvent): any {\n    if (closeEvent.code !== 1000 && closeEvent.code !== 1001) {\n      return {\n        type: 'PusherError',\n        data: {\n          code: closeEvent.code,\n          message: closeEvent.reason || closeEvent.message\n        }\n      };\n    } else {\n      return null;\n    }\n  }\n};\n\nexport default Protocol;\n","import * as Collections from '../utils/collections';\nimport { default as EventsDispatcher } from '../events/dispatcher';\nimport Protocol from './protocol/protocol';\nimport { PusherEvent } from './protocol/message-types';\nimport Logger from '../logger';\nimport TransportConnection from '../transports/transport_connection';\nimport Socket from '../socket';\n/**\n * Provides Pusher protocol interface for transports.\n *\n * Emits following events:\n * - message - on received messages\n * - ping - on ping requests\n * - pong - on pong responses\n * - error - when the transport emits an error\n * - closed - after closing the transport\n *\n * It also emits more events when connection closes with a code.\n * See Protocol.getCloseAction to get more details.\n *\n * @param {Number} id\n * @param {AbstractTransport} transport\n */\nexport default class Connection extends EventsDispatcher implements Socket {\n  id: string;\n  transport: TransportConnection;\n  activityTimeout: number;\n\n  constructor(id: string, transport: TransportConnection) {\n    super();\n    this.id = id;\n    this.transport = transport;\n    this.activityTimeout = transport.activityTimeout;\n    this.bindListeners();\n  }\n\n  /** Returns whether used transport handles activity checks by itself\n   *\n   * @returns {Boolean} true if activity checks are handled by the transport\n   */\n  handlesActivityChecks() {\n    return this.transport.handlesActivityChecks();\n  }\n\n  /** Sends raw data.\n   *\n   * @param {String} data\n   */\n  send(data: any): boolean {\n    return this.transport.send(data);\n  }\n\n  /** Sends an event.\n   *\n   * @param {String} name\n   * @param {String} data\n   * @param {String} [channel]\n   * @returns {Boolean} whether message was sent or not\n   */\n  send_event(name: string, data: any, channel?: string): boolean {\n    var event: PusherEvent = { event: name, data: data };\n    if (channel) {\n      event.channel = channel;\n    }\n    Logger.debug('Event sent', event);\n    return this.send(Protocol.encodeMessage(event));\n  }\n\n  /** Sends a ping message to the server.\n   *\n   * Basing on the underlying transport, it might send either transport's\n   * protocol-specific ping or pusher:ping event.\n   */\n  ping() {\n    if (this.transport.supportsPing()) {\n      this.transport.ping();\n    } else {\n      this.send_event('pusher:ping', {});\n    }\n  }\n\n  /** Closes the connection. */\n  close() {\n    this.transport.close();\n  }\n\n  private bindListeners() {\n    var listeners = {\n      message: (messageEvent: MessageEvent) => {\n        var pusherEvent;\n        try {\n          pusherEvent = Protocol.decodeMessage(messageEvent);\n        } catch (e) {\n          this.emit('error', {\n            type: 'MessageParseError',\n            error: e,\n            data: messageEvent.data\n          });\n        }\n\n        if (pusherEvent !== undefined) {\n          Logger.debug('Event recd', pusherEvent);\n\n          switch (pusherEvent.event) {\n            case 'pusher:error':\n              this.emit('error', {\n                type: 'PusherError',\n                data: pusherEvent.data\n              });\n              break;\n            case 'pusher:ping':\n              this.emit('ping');\n              break;\n            case 'pusher:pong':\n              this.emit('pong');\n              break;\n          }\n          this.emit('message', pusherEvent);\n        }\n      },\n      activity: () => {\n        this.emit('activity');\n      },\n      error: error => {\n        this.emit('error', error);\n      },\n      closed: closeEvent => {\n        unbindListeners();\n\n        if (closeEvent && closeEvent.code) {\n          this.handleCloseEvent(closeEvent);\n        }\n\n        this.transport = null;\n        this.emit('closed');\n      }\n    };\n\n    var unbindListeners = () => {\n      Collections.objectApply(listeners, (listener, event) => {\n        this.transport.unbind(event, listener);\n      });\n    };\n\n    Collections.objectApply(listeners, (listener, event) => {\n      this.transport.bind(event, listener);\n    });\n  }\n\n  private handleCloseEvent(closeEvent: any) {\n    var action = Protocol.getCloseAction(closeEvent);\n    var error = Protocol.getCloseError(closeEvent);\n    if (error) {\n      this.emit('error', error);\n    }\n    if (action) {\n      this.emit(action, { action: action, error: error });\n    }\n  }\n}\n","import Util from '../../util';\nimport * as Collections from '../../utils/collections';\nimport Protocol from '../protocol/protocol';\nimport Connection from '../connection';\nimport TransportConnection from '../../transports/transport_connection';\nimport HandshakePayload from './handshake_payload';\n\n/**\n * Handles Pusher protocol handshakes for transports.\n *\n * Calls back with a result object after handshake is completed. Results\n * always have two fields:\n * - action - string describing action to be taken after the handshake\n * - transport - the transport object passed to the constructor\n *\n * Different actions can set different additional properties on the result.\n * In the case of 'connected' action, there will be a 'connection' property\n * containing a Connection object for the transport. Other actions should\n * carry an 'error' property.\n *\n * @param {AbstractTransport} transport\n * @param {Function} callback\n */\nexport default class Handshake {\n  transport: TransportConnection;\n  callback: (HandshakePayload) => void;\n  onMessage: Function;\n  onClosed: Function;\n\n  constructor(\n    transport: TransportConnection,\n    callback: (HandshakePayload) => void\n  ) {\n    this.transport = transport;\n    this.callback = callback;\n    this.bindListeners();\n  }\n\n  close() {\n    this.unbindListeners();\n    this.transport.close();\n  }\n\n  private bindListeners() {\n    this.onMessage = m => {\n      this.unbindListeners();\n\n      var result;\n      try {\n        result = Protocol.processHandshake(m);\n      } catch (e) {\n        this.finish('error', { error: e });\n        this.transport.close();\n        return;\n      }\n\n      if (result.action === 'connected') {\n        this.finish('connected', {\n          connection: new Connection(result.id, this.transport),\n          activityTimeout: result.activityTimeout\n        });\n      } else {\n        this.finish(result.action, { error: result.error });\n        this.transport.close();\n      }\n    };\n\n    this.onClosed = closeEvent => {\n      this.unbindListeners();\n\n      var action = Protocol.getCloseAction(closeEvent) || 'backoff';\n      var error = Protocol.getCloseError(closeEvent);\n      this.finish(action, { error: error });\n    };\n\n    this.transport.bind('message', this.onMessage);\n    this.transport.bind('closed', this.onClosed);\n  }\n\n  private unbindListeners() {\n    this.transport.unbind('message', this.onMessage);\n    this.transport.unbind('closed', this.onClosed);\n  }\n\n  private finish(action: string, params: any) {\n    this.callback(\n      Collections.extend({ transport: this.transport, action: action }, params)\n    );\n  }\n}\n","import * as Collections from '../utils/collections';\nimport Util from '../util';\nimport base64encode from '../base64';\nimport Timeline from './timeline';\nimport Runtime from 'runtime';\n\nexport interface TimelineSenderOptions {\n  host?: string;\n  port?: number;\n  path?: string;\n}\n\nexport default class TimelineSender {\n  timeline: Timeline;\n  options: TimelineSenderOptions;\n  host: string;\n\n  constructor(timeline: Timeline, options: TimelineSenderOptions) {\n    this.timeline = timeline;\n    this.options = options || {};\n  }\n\n  send(useTLS: boolean, callback?: Function) {\n    if (this.timeline.isEmpty()) {\n      return;\n    }\n\n    this.timeline.send(\n      Runtime.TimelineTransport.getAgent(this, useTLS),\n      callback\n    );\n  }\n}\n","import { default as EventsDispatcher } from '../events/dispatcher';\nimport * as Errors from '../errors';\nimport Logger from '../logger';\nimport Pusher from '../pusher';\nimport { PusherEvent } from '../connection/protocol/message-types';\nimport Metadata from './metadata';\nimport UrlStore from '../utils/url_store';\nimport {\n  ChannelAuthorizationData,\n  ChannelAuthorizationCallback\n} from '../auth/options';\nimport { HTTPAuthError } from '../errors';\n\n/** Provides base public channel interface with an event emitter.\n *\n * Emits:\n * - pusher:subscription_succeeded - after subscribing successfully\n * - other non-internal events\n *\n * @param {String} name\n * @param {Pusher} pusher\n */\nexport default class Channel extends EventsDispatcher {\n  name: string;\n  pusher: Pusher;\n  subscribed: boolean;\n  subscriptionPending: boolean;\n  subscriptionCancelled: boolean;\n  subscriptionCount: null;\n\n  constructor(name: string, pusher: Pusher) {\n    super(function(event, data) {\n      Logger.debug('No callbacks on ' + name + ' for ' + event);\n    });\n\n    this.name = name;\n    this.pusher = pusher;\n    this.subscribed = false;\n    this.subscriptionPending = false;\n    this.subscriptionCancelled = false;\n  }\n\n  /** Skips authorization, since public channels don't require it.\n   *\n   * @param {Function} callback\n   */\n  authorize(socketId: string, callback: ChannelAuthorizationCallback) {\n    return callback(null, { auth: '' });\n  }\n\n  /** Triggers an event */\n  trigger(event: string, data: any) {\n    if (event.indexOf('client-') !== 0) {\n      throw new Errors.BadEventName(\n        \"Event '\" + event + \"' does not start with 'client-'\"\n      );\n    }\n    if (!this.subscribed) {\n      var suffix = UrlStore.buildLogSuffix('triggeringClientEvents');\n      Logger.warn(\n        `Client event triggered before channel 'subscription_succeeded' event . ${suffix}`\n      );\n    }\n    return this.pusher.send_event(event, data, this.name);\n  }\n\n  /** Signals disconnection to the channel. For internal use only. */\n  disconnect() {\n    this.subscribed = false;\n    this.subscriptionPending = false;\n  }\n\n  /** Handles a PusherEvent. For internal use only.\n   *\n   * @param {PusherEvent} event\n   */\n  handleEvent(event: PusherEvent) {\n    var eventName = event.event;\n    var data = event.data;\n    if (eventName === 'pusher_internal:subscription_succeeded') {\n      this.handleSubscriptionSucceededEvent(event);\n    } else if (eventName === 'pusher_internal:subscription_count') {\n      this.handleSubscriptionCountEvent(event);\n    } else if (eventName.indexOf('pusher_internal:') !== 0) {\n      var metadata: Metadata = {};\n      this.emit(eventName, data, metadata);\n    }\n  }\n\n  handleSubscriptionSucceededEvent(event: PusherEvent) {\n    this.subscriptionPending = false;\n    this.subscribed = true;\n    if (this.subscriptionCancelled) {\n      this.pusher.unsubscribe(this.name);\n    } else {\n      this.emit('pusher:subscription_succeeded', event.data);\n    }\n  }\n\n  handleSubscriptionCountEvent(event: PusherEvent) {\n    if (event.data.subscription_count) {\n      this.subscriptionCount = event.data.subscription_count;\n    }\n\n    this.emit('pusher:subscription_count', event.data);\n  }\n\n  /** Sends a subscription request. For internal use only. */\n  subscribe() {\n    if (this.subscribed) {\n      return;\n    }\n    this.subscriptionPending = true;\n    this.subscriptionCancelled = false;\n    this.authorize(\n      this.pusher.connection.socket_id,\n      (error: Error | null, data: ChannelAuthorizationData) => {\n        if (error) {\n          this.subscriptionPending = false;\n          // Why not bind to 'pusher:subscription_error' a level up, and log there?\n          // Binding to this event would cause the warning about no callbacks being\n          // bound (see constructor) to be suppressed, that's not what we want.\n          Logger.error(error.toString());\n          this.emit(\n            'pusher:subscription_error',\n            Object.assign(\n              {},\n              {\n                type: 'AuthError',\n                error: error.message\n              },\n              error instanceof HTTPAuthError ? { status: error.status } : {}\n            )\n          );\n        } else {\n          this.pusher.send_event('pusher:subscribe', {\n            auth: data.auth,\n            channel_data: data.channel_data,\n            channel: this.name\n          });\n        }\n      }\n    );\n  }\n\n  /** Sends an unsubscription request. For internal use only. */\n  unsubscribe() {\n    this.subscribed = false;\n    this.pusher.send_event('pusher:unsubscribe', {\n      channel: this.name\n    });\n  }\n\n  /** Cancels an in progress subscription. For internal use only. */\n  cancelSubscription() {\n    this.subscriptionCancelled = true;\n  }\n\n  /** Reinstates an in progress subscripiton. For internal use only. */\n  reinstateSubscription() {\n    this.subscriptionCancelled = false;\n  }\n}\n","import Factory from '../utils/factory';\nimport Channel from './channel';\nimport { ChannelAuthorizationCallback } from '../auth/options';\n\n/** Extends public channels to provide private channel interface.\n *\n * @param {String} name\n * @param {Pusher} pusher\n */\nexport default class PrivateChannel extends Channel {\n  /** Authorizes the connection to use the channel.\n   *\n   * @param  {String} socketId\n   * @param  {Function} callback\n   */\n  authorize(socketId: string, callback: ChannelAuthorizationCallback) {\n    return this.pusher.config.channelAuthorizer(\n      {\n        channelName: this.name,\n        socketId: socketId\n      },\n      callback\n    );\n  }\n}\n","import * as Collections from '../utils/collections';\n\n/** Represents a collection of members of a presence channel. */\nexport default class Members {\n  members: any;\n  count: number;\n  myID: any;\n  me: any;\n\n  constructor() {\n    this.reset();\n  }\n\n  /** Returns member's info for given id.\n   *\n   * Resulting object containts two fields - id and info.\n   *\n   * @param {Number} id\n   * @return {Object} member's info or null\n   */\n  get(id: string): any {\n    if (Object.prototype.hasOwnProperty.call(this.members, id)) {\n      return {\n        id: id,\n        info: this.members[id]\n      };\n    } else {\n      return null;\n    }\n  }\n\n  /** Calls back for each member in unspecified order.\n   *\n   * @param  {Function} callback\n   */\n  each(callback: Function) {\n    Collections.objectApply(this.members, (member, id) => {\n      callback(this.get(id));\n    });\n  }\n\n  /** Updates the id for connected member. For internal use only. */\n  setMyID(id: string) {\n    this.myID = id;\n  }\n\n  /** Handles subscription data. For internal use only. */\n  onSubscription(subscriptionData: any) {\n    this.members = subscriptionData.presence.hash;\n    this.count = subscriptionData.presence.count;\n    this.me = this.get(this.myID);\n  }\n\n  /** Adds a new member to the collection. For internal use only. */\n  addMember(memberData: any) {\n    if (this.get(memberData.user_id) === null) {\n      this.count++;\n    }\n    this.members[memberData.user_id] = memberData.user_info;\n    return this.get(memberData.user_id);\n  }\n\n  /** Adds a member from the collection. For internal use only. */\n  removeMember(memberData: any) {\n    var member = this.get(memberData.user_id);\n    if (member) {\n      delete this.members[memberData.user_id];\n      this.count--;\n    }\n    return member;\n  }\n\n  /** Resets the collection to the initial state. For internal use only. */\n  reset() {\n    this.members = {};\n    this.count = 0;\n    this.myID = null;\n    this.me = null;\n  }\n}\n","import PrivateChannel from './private_channel';\nimport Logger from '../logger';\nimport Members from './members';\nimport Pusher from '../pusher';\nimport UrlStore from 'core/utils/url_store';\nimport { PusherEvent } from '../connection/protocol/message-types';\nimport Metadata from './metadata';\nimport { ChannelAuthorizationData } from '../auth/options';\n\nexport default class PresenceChannel extends PrivateChannel {\n  members: Members;\n\n  /** Adds presence channel functionality to private channels.\n   *\n   * @param {String} name\n   * @param {Pusher} pusher\n   */\n  constructor(name: string, pusher: Pusher) {\n    super(name, pusher);\n    this.members = new Members();\n  }\n\n  /** Authorizes the connection as a member of the channel.\n   *\n   * @param  {String} socketId\n   * @param  {Function} callback\n   */\n  authorize(socketId: string, callback: Function) {\n    super.authorize(socketId, async (error, authData) => {\n      if (!error) {\n        authData = authData as ChannelAuthorizationData;\n        if (authData.channel_data != null) {\n          var channelData = JSON.parse(authData.channel_data);\n          this.members.setMyID(channelData.user_id);\n        } else {\n          await this.pusher.user.signinDonePromise;\n          if (this.pusher.user.user_data != null) {\n            // If the user is signed in, get the id of the authenticated user\n            // and allow the presence authorization to continue.\n            this.members.setMyID(this.pusher.user.user_data.id);\n          } else {\n            let suffix = UrlStore.buildLogSuffix('authorizationEndpoint');\n            Logger.error(\n              `Invalid auth response for channel '${this.name}', ` +\n                `expected 'channel_data' field. ${suffix}, ` +\n                `or the user should be signed in.`\n            );\n            callback('Invalid auth response');\n            return;\n          }\n        }\n      }\n      callback(error, authData);\n    });\n  }\n\n  /** Handles presence and subscription events. For internal use only.\n   *\n   * @param {PusherEvent} event\n   */\n  handleEvent(event: PusherEvent) {\n    var eventName = event.event;\n    if (eventName.indexOf('pusher_internal:') === 0) {\n      this.handleInternalEvent(event);\n    } else {\n      var data = event.data;\n      var metadata: Metadata = {};\n      if (event.user_id) {\n        metadata.user_id = event.user_id;\n      }\n      this.emit(eventName, data, metadata);\n    }\n  }\n  handleInternalEvent(event: PusherEvent) {\n    var eventName = event.event;\n    var data = event.data;\n    switch (eventName) {\n      case 'pusher_internal:subscription_succeeded':\n        this.handleSubscriptionSucceededEvent(event);\n        break;\n      case 'pusher_internal:subscription_count':\n        this.handleSubscriptionCountEvent(event);\n        break;\n      case 'pusher_internal:member_added':\n        var addedMember = this.members.addMember(data);\n        this.emit('pusher:member_added', addedMember);\n        break;\n      case 'pusher_internal:member_removed':\n        var removedMember = this.members.removeMember(data);\n        if (removedMember) {\n          this.emit('pusher:member_removed', removedMember);\n        }\n        break;\n    }\n  }\n\n  handleSubscriptionSucceededEvent(event: PusherEvent) {\n    this.subscriptionPending = false;\n    this.subscribed = true;\n    if (this.subscriptionCancelled) {\n      this.pusher.unsubscribe(this.name);\n    } else {\n      this.members.onSubscription(event.data);\n      this.emit('pusher:subscription_succeeded', this.members);\n    }\n  }\n\n  /** Resets the channel state, including members map. For internal use only. */\n  disconnect() {\n    this.members.reset();\n    super.disconnect();\n  }\n}\n","import PrivateChannel from './private_channel';\nimport * as Errors from '../errors';\nimport Logger from '../logger';\nimport Pusher from '../pusher';\nimport { decode as encodeUTF8 } from '@stablelib/utf8';\nimport { decode as decodeBase64 } from '@stablelib/base64';\nimport Dispatcher from '../events/dispatcher';\nimport { PusherEvent } from '../connection/protocol/message-types';\nimport {\n  ChannelAuthorizationData,\n  ChannelAuthorizationCallback\n} from '../auth/options';\nimport * as nacl from 'tweetnacl';\n\n/** Extends private channels to provide encrypted channel interface.\n *\n * @param {String} name\n * @param {Pusher} pusher\n */\nexport default class EncryptedChannel extends PrivateChannel {\n  key: Uint8Array = null;\n  nacl: nacl;\n\n  constructor(name: string, pusher: Pusher, nacl: nacl) {\n    super(name, pusher);\n    this.nacl = nacl;\n  }\n\n  /** Authorizes the connection to use the channel.\n   *\n   * @param  {String} socketId\n   * @param  {Function} callback\n   */\n  authorize(socketId: string, callback: ChannelAuthorizationCallback) {\n    super.authorize(\n      socketId,\n      (error: Error | null, authData: ChannelAuthorizationData) => {\n        if (error) {\n          callback(error, authData);\n          return;\n        }\n        let sharedSecret = authData['shared_secret'];\n        if (!sharedSecret) {\n          callback(\n            new Error(\n              `No shared_secret key in auth payload for encrypted channel: ${this.name}`\n            ),\n            null\n          );\n          return;\n        }\n        this.key = decodeBase64(sharedSecret);\n        delete authData['shared_secret'];\n        callback(null, authData);\n      }\n    );\n  }\n\n  trigger(event: string, data: any): boolean {\n    throw new Errors.UnsupportedFeature(\n      'Client events are not currently supported for encrypted channels'\n    );\n  }\n\n  /** Handles an event. For internal use only.\n   *\n   * @param {PusherEvent} event\n   */\n  handleEvent(event: PusherEvent) {\n    var eventName = event.event;\n    var data = event.data;\n    if (\n      eventName.indexOf('pusher_internal:') === 0 ||\n      eventName.indexOf('pusher:') === 0\n    ) {\n      super.handleEvent(event);\n      return;\n    }\n    this.handleEncryptedEvent(eventName, data);\n  }\n\n  private handleEncryptedEvent(event: string, data: any): void {\n    if (!this.key) {\n      Logger.debug(\n        'Received encrypted event before key has been retrieved from the authEndpoint'\n      );\n      return;\n    }\n    if (!data.ciphertext || !data.nonce) {\n      Logger.error(\n        'Unexpected format for encrypted event, expected object with `ciphertext` and `nonce` fields, got: ' +\n          data\n      );\n      return;\n    }\n    let cipherText = decodeBase64(data.ciphertext);\n    if (cipherText.length < this.nacl.secretbox.overheadLength) {\n      Logger.error(\n        `Expected encrypted event ciphertext length to be ${this.nacl.secretbox.overheadLength}, got: ${cipherText.length}`\n      );\n      return;\n    }\n    let nonce = decodeBase64(data.nonce);\n    if (nonce.length < this.nacl.secretbox.nonceLength) {\n      Logger.error(\n        `Expected encrypted event nonce length to be ${this.nacl.secretbox.nonceLength}, got: ${nonce.length}`\n      );\n      return;\n    }\n\n    let bytes = this.nacl.secretbox.open(cipherText, nonce, this.key);\n    if (bytes === null) {\n      Logger.debug(\n        'Failed to decrypt an event, probably because it was encrypted with a different key. Fetching a new key from the authEndpoint...'\n      );\n      // Try a single time to retrieve a new auth key and decrypt the event with it\n      // If this fails, a new key will be requested when a new message is received\n      this.authorize(this.pusher.connection.socket_id, (error, authData) => {\n        if (error) {\n          Logger.error(\n            `Failed to make a request to the authEndpoint: ${authData}. Unable to fetch new key, so dropping encrypted event`\n          );\n          return;\n        }\n        bytes = this.nacl.secretbox.open(cipherText, nonce, this.key);\n        if (bytes === null) {\n          Logger.error(\n            `Failed to decrypt event with new key. Dropping encrypted event`\n          );\n          return;\n        }\n        this.emit(event, this.getDataToEmit(bytes));\n        return;\n      });\n      return;\n    }\n    this.emit(event, this.getDataToEmit(bytes));\n  }\n\n  // Try and parse the decrypted bytes as JSON. If we can't parse it, just\n  // return the utf-8 string\n  getDataToEmit(bytes: Uint8Array): string {\n    let raw = encodeUTF8(bytes);\n    try {\n      return JSON.parse(raw);\n    } catch {\n      return raw;\n    }\n  }\n}\n","import { default as EventsDispatcher } from '../events/dispatcher';\nimport { OneOffTimer as Timer } from '../utils/timers';\nimport { Config } from '../config';\nimport Logger from '../logger';\nimport HandshakePayload from './handshake/handshake_payload';\nimport Connection from './connection';\nimport Strategy from '../strategies/strategy';\nimport StrategyRunner from '../strategies/strategy_runner';\nimport * as Collections from '../utils/collections';\nimport Timeline from '../timeline/timeline';\nimport ConnectionManagerOptions from './connection_manager_options';\nimport Runtime from 'runtime';\n\nimport {\n  ErrorCallbacks,\n  HandshakeCallbacks,\n  ConnectionCallbacks\n} from './callbacks';\nimport Action from './protocol/action';\n\n/** Manages connection to Pusher.\n *\n * Uses a strategy (currently only default), timers and network availability\n * info to establish a connection and export its state. In case of failures,\n * manages reconnection attempts.\n *\n * Exports state changes as following events:\n * - \"state_change\", { previous: p, current: state }\n * - state\n *\n * States:\n * - initialized - initial state, never transitioned to\n * - connecting - connection is being established\n * - connected - connection has been fully established\n * - disconnected - on requested disconnection\n * - unavailable - after connection timeout or when there's no network\n * - failed - when the connection strategy is not supported\n *\n * Options:\n * - unavailableTimeout - time to transition to unavailable state\n * - activityTimeout - time after which ping message should be sent\n * - pongTimeout - time for Pusher to respond with pong before reconnecting\n *\n * @param {String} key application key\n * @param {Object} options\n */\nexport default class ConnectionManager extends EventsDispatcher {\n  key: string;\n  options: ConnectionManagerOptions;\n  state: string;\n  connection: Connection;\n  usingTLS: boolean;\n  timeline: Timeline;\n  socket_id: string;\n  unavailableTimer: Timer;\n  activityTimer: Timer;\n  retryTimer: Timer;\n  activityTimeout: number;\n  strategy: Strategy;\n  runner: StrategyRunner;\n  errorCallbacks: ErrorCallbacks;\n  handshakeCallbacks: HandshakeCallbacks;\n  connectionCallbacks: ConnectionCallbacks;\n\n  constructor(key: string, options: ConnectionManagerOptions) {\n    super();\n    this.state = 'initialized';\n    this.connection = null;\n\n    this.key = key;\n    this.options = options;\n    this.timeline = this.options.timeline;\n    this.usingTLS = this.options.useTLS;\n\n    this.errorCallbacks = this.buildErrorCallbacks();\n    this.connectionCallbacks = this.buildConnectionCallbacks(\n      this.errorCallbacks\n    );\n    this.handshakeCallbacks = this.buildHandshakeCallbacks(this.errorCallbacks);\n\n    var Network = Runtime.getNetwork();\n\n    Network.bind('online', () => {\n      this.timeline.info({ netinfo: 'online' });\n      if (this.state === 'connecting' || this.state === 'unavailable') {\n        this.retryIn(0);\n      }\n    });\n    Network.bind('offline', () => {\n      this.timeline.info({ netinfo: 'offline' });\n      if (this.connection) {\n        this.sendActivityCheck();\n      }\n    });\n\n    this.updateStrategy();\n  }\n\n  /** Establishes a connection to Pusher.\n   *\n   * Does nothing when connection is already established. See top-level doc\n   * to find events emitted on connection attempts.\n   */\n  connect() {\n    if (this.connection || this.runner) {\n      return;\n    }\n    if (!this.strategy.isSupported()) {\n      this.updateState('failed');\n      return;\n    }\n    this.updateState('connecting');\n    this.startConnecting();\n    this.setUnavailableTimer();\n  }\n\n  /** Sends raw data.\n   *\n   * @param {String} data\n   */\n  send(data) {\n    if (this.connection) {\n      return this.connection.send(data);\n    } else {\n      return false;\n    }\n  }\n\n  /** Sends an event.\n   *\n   * @param {String} name\n   * @param {String} data\n   * @param {String} [channel]\n   * @returns {Boolean} whether message was sent or not\n   */\n  send_event(name: string, data: any, channel?: string) {\n    if (this.connection) {\n      return this.connection.send_event(name, data, channel);\n    } else {\n      return false;\n    }\n  }\n\n  /** Closes the connection. */\n  disconnect() {\n    this.disconnectInternally();\n    this.updateState('disconnected');\n  }\n\n  isUsingTLS() {\n    return this.usingTLS;\n  }\n\n  private startConnecting() {\n    var callback = (error, handshake) => {\n      if (error) {\n        this.runner = this.strategy.connect(0, callback);\n      } else {\n        if (handshake.action === 'error') {\n          this.emit('error', {\n            type: 'HandshakeError',\n            error: handshake.error\n          });\n          this.timeline.error({ handshakeError: handshake.error });\n        } else {\n          this.abortConnecting(); // we don't support switching connections yet\n          this.handshakeCallbacks[handshake.action](handshake);\n        }\n      }\n    };\n    this.runner = this.strategy.connect(0, callback);\n  }\n\n  private abortConnecting() {\n    if (this.runner) {\n      this.runner.abort();\n      this.runner = null;\n    }\n  }\n\n  private disconnectInternally() {\n    this.abortConnecting();\n    this.clearRetryTimer();\n    this.clearUnavailableTimer();\n    if (this.connection) {\n      var connection = this.abandonConnection();\n      connection.close();\n    }\n  }\n\n  private updateStrategy() {\n    this.strategy = this.options.getStrategy({\n      key: this.key,\n      timeline: this.timeline,\n      useTLS: this.usingTLS\n    });\n  }\n\n  private retryIn(delay) {\n    this.timeline.info({ action: 'retry', delay: delay });\n    if (delay > 0) {\n      this.emit('connecting_in', Math.round(delay / 1000));\n    }\n    this.retryTimer = new Timer(delay || 0, () => {\n      this.disconnectInternally();\n      this.connect();\n    });\n  }\n\n  private clearRetryTimer() {\n    if (this.retryTimer) {\n      this.retryTimer.ensureAborted();\n      this.retryTimer = null;\n    }\n  }\n\n  private setUnavailableTimer() {\n    this.unavailableTimer = new Timer(this.options.unavailableTimeout, () => {\n      this.updateState('unavailable');\n    });\n  }\n\n  private clearUnavailableTimer() {\n    if (this.unavailableTimer) {\n      this.unavailableTimer.ensureAborted();\n    }\n  }\n\n  private sendActivityCheck() {\n    this.stopActivityCheck();\n    this.connection.ping();\n    // wait for pong response\n    this.activityTimer = new Timer(this.options.pongTimeout, () => {\n      this.timeline.error({ pong_timed_out: this.options.pongTimeout });\n      this.retryIn(0);\n    });\n  }\n\n  private resetActivityCheck() {\n    this.stopActivityCheck();\n    // send ping after inactivity\n    if (this.connection && !this.connection.handlesActivityChecks()) {\n      this.activityTimer = new Timer(this.activityTimeout, () => {\n        this.sendActivityCheck();\n      });\n    }\n  }\n\n  private stopActivityCheck() {\n    if (this.activityTimer) {\n      this.activityTimer.ensureAborted();\n    }\n  }\n\n  private buildConnectionCallbacks(\n    errorCallbacks: ErrorCallbacks\n  ): ConnectionCallbacks {\n    return Collections.extend<ConnectionCallbacks>({}, errorCallbacks, {\n      message: message => {\n        // includes pong messages from server\n        this.resetActivityCheck();\n        this.emit('message', message);\n      },\n      ping: () => {\n        this.send_event('pusher:pong', {});\n      },\n      activity: () => {\n        this.resetActivityCheck();\n      },\n      error: error => {\n        // just emit error to user - socket will already be closed by browser\n        this.emit('error', error);\n      },\n      closed: () => {\n        this.abandonConnection();\n        if (this.shouldRetry()) {\n          this.retryIn(1000);\n        }\n      }\n    });\n  }\n\n  private buildHandshakeCallbacks(\n    errorCallbacks: ErrorCallbacks\n  ): HandshakeCallbacks {\n    return Collections.extend<HandshakeCallbacks>({}, errorCallbacks, {\n      connected: (handshake: HandshakePayload) => {\n        this.activityTimeout = Math.min(\n          this.options.activityTimeout,\n          handshake.activityTimeout,\n          handshake.connection.activityTimeout || Infinity\n        );\n        this.clearUnavailableTimer();\n        this.setConnection(handshake.connection);\n        this.socket_id = this.connection.id;\n        this.updateState('connected', { socket_id: this.socket_id });\n      }\n    });\n  }\n\n  private buildErrorCallbacks(): ErrorCallbacks {\n    let withErrorEmitted = callback => {\n      return (result: Action | HandshakePayload) => {\n        if (result.error) {\n          this.emit('error', { type: 'WebSocketError', error: result.error });\n        }\n        callback(result);\n      };\n    };\n\n    return {\n      tls_only: withErrorEmitted(() => {\n        this.usingTLS = true;\n        this.updateStrategy();\n        this.retryIn(0);\n      }),\n      refused: withErrorEmitted(() => {\n        this.disconnect();\n      }),\n      backoff: withErrorEmitted(() => {\n        this.retryIn(1000);\n      }),\n      retry: withErrorEmitted(() => {\n        this.retryIn(0);\n      })\n    };\n  }\n\n  private setConnection(connection) {\n    this.connection = connection;\n    for (var event in this.connectionCallbacks) {\n      this.connection.bind(event, this.connectionCallbacks[event]);\n    }\n    this.resetActivityCheck();\n  }\n\n  private abandonConnection() {\n    if (!this.connection) {\n      return;\n    }\n    this.stopActivityCheck();\n    for (var event in this.connectionCallbacks) {\n      this.connection.unbind(event, this.connectionCallbacks[event]);\n    }\n    var connection = this.connection;\n    this.connection = null;\n    return connection;\n  }\n\n  private updateState(newState: string, data?: any) {\n    var previousState = this.state;\n    this.state = newState;\n    if (previousState !== newState) {\n      var newStateDescription = newState;\n      if (newStateDescription === 'connected') {\n        newStateDescription += ' with new socket ID ' + data.socket_id;\n      }\n      Logger.debug(\n        'State changed',\n        previousState + ' -> ' + newStateDescription\n      );\n      this.timeline.info({ state: newState, params: data });\n      this.emit('state_change', { previous: previousState, current: newState });\n      this.emit(newState, data);\n    }\n  }\n\n  private shouldRetry(): boolean {\n    return this.state === 'connecting' || this.state === 'connected';\n  }\n}\n","import Channel from './channel';\nimport * as Collections from '../utils/collections';\nimport ChannelTable from './channel_table';\nimport Factory from '../utils/factory';\nimport Pusher from '../pusher';\nimport Logger from '../logger';\nimport * as Errors from '../errors';\nimport urlStore from '../utils/url_store';\n\n/** Handles a channel map. */\nexport default class Channels {\n  channels: ChannelTable;\n\n  constructor() {\n    this.channels = {};\n  }\n\n  /** Creates or retrieves an existing channel by its name.\n   *\n   * @param {String} name\n   * @param {Pusher} pusher\n   * @return {Channel}\n   */\n  add(name: string, pusher: Pusher) {\n    if (!this.channels[name]) {\n      this.channels[name] = createChannel(name, pusher);\n    }\n    return this.channels[name];\n  }\n\n  /** Returns a list of all channels\n   *\n   * @return {Array}\n   */\n  all(): Channel[] {\n    return Collections.values(this.channels);\n  }\n\n  /** Finds a channel by its name.\n   *\n   * @param {String} name\n   * @return {Channel} channel or null if it doesn't exist\n   */\n  find(name: string) {\n    return this.channels[name];\n  }\n\n  /** Removes a channel from the map.\n   *\n   * @param {String} name\n   */\n  remove(name: string) {\n    var channel = this.channels[name];\n    delete this.channels[name];\n    return channel;\n  }\n\n  /** Proxies disconnection signal to all channels. */\n  disconnect() {\n    Collections.objectApply(this.channels, function(channel) {\n      channel.disconnect();\n    });\n  }\n}\n\nfunction createChannel(name: string, pusher: Pusher): Channel {\n  if (name.indexOf('private-encrypted-') === 0) {\n    if (pusher.config.nacl) {\n      return Factory.createEncryptedChannel(name, pusher, pusher.config.nacl);\n    }\n    let errMsg =\n      'Tried to subscribe to a private-encrypted- channel but no nacl implementation available';\n    let suffix = urlStore.buildLogSuffix('encryptedChannelSupport');\n    throw new Errors.UnsupportedFeature(`${errMsg}. ${suffix}`);\n  } else if (name.indexOf('private-') === 0) {\n    return Factory.createPrivateChannel(name, pusher);\n  } else if (name.indexOf('presence-') === 0) {\n    return Factory.createPresenceChannel(name, pusher);\n  } else if (name.indexOf('#') === 0) {\n    throw new Errors.BadChannelName(\n      'Cannot create a channel with name \"' + name + '\".'\n    );\n  } else {\n    return Factory.createChannel(name, pusher);\n  }\n}\n","import AssistantToTheTransportManager from '../transports/assistant_to_the_transport_manager';\nimport PingDelayOptions from '../transports/ping_delay_options';\nimport Transport from '../transports/transport';\nimport TransportManager from '../transports/transport_manager';\nimport Handshake from '../connection/handshake';\nimport TransportConnection from '../transports/transport_connection';\nimport SocketHooks from '../http/socket_hooks';\nimport HTTPSocket from '../http/http_socket';\n\nimport Timeline from '../timeline/timeline';\nimport {\n  default as TimelineSender,\n  TimelineSenderOptions\n} from '../timeline/timeline_sender';\nimport PresenceChannel from '../channels/presence_channel';\nimport PrivateChannel from '../channels/private_channel';\nimport EncryptedChannel from '../channels/encrypted_channel';\nimport Channel from '../channels/channel';\nimport ConnectionManager from '../connection/connection_manager';\nimport ConnectionManagerOptions from '../connection/connection_manager_options';\nimport Ajax from '../http/ajax';\nimport Channels from '../channels/channels';\nimport Pusher from '../pusher';\nimport { Config } from '../config';\nimport * as nacl from 'tweetnacl';\n\nvar Factory = {\n  createChannels(): Channels {\n    return new Channels();\n  },\n\n  createConnectionManager(\n    key: string,\n    options: ConnectionManagerOptions\n  ): ConnectionManager {\n    return new ConnectionManager(key, options);\n  },\n\n  createChannel(name: string, pusher: Pusher): Channel {\n    return new Channel(name, pusher);\n  },\n\n  createPrivateChannel(name: string, pusher: Pusher): PrivateChannel {\n    return new PrivateChannel(name, pusher);\n  },\n\n  createPresenceChannel(name: string, pusher: Pusher): PresenceChannel {\n    return new PresenceChannel(name, pusher);\n  },\n\n  createEncryptedChannel(\n    name: string,\n    pusher: Pusher,\n    nacl: nacl\n  ): EncryptedChannel {\n    return new EncryptedChannel(name, pusher, nacl);\n  },\n\n  createTimelineSender(timeline: Timeline, options: TimelineSenderOptions) {\n    return new TimelineSender(timeline, options);\n  },\n\n  createHandshake(\n    transport: TransportConnection,\n    callback: (HandshakePayload) => void\n  ): Handshake {\n    return new Handshake(transport, callback);\n  },\n\n  createAssistantToTheTransportManager(\n    manager: TransportManager,\n    transport: Transport,\n    options: PingDelayOptions\n  ): AssistantToTheTransportManager {\n    return new AssistantToTheTransportManager(manager, transport, options);\n  }\n};\n\nexport default Factory;\n","import AssistantToTheTransportManager from './assistant_to_the_transport_manager';\nimport Transport from './transport';\nimport PingDelayOptions from './ping_delay_options';\nimport Factory from '../utils/factory';\n\nexport interface TransportManagerOptions extends PingDelayOptions {\n  lives?: number;\n}\n\n/** Keeps track of the number of lives left for a transport.\n *\n * In the beginning of a session, transports may be assigned a number of\n * lives. When an AssistantToTheTransportManager instance reports a transport\n * connection closed uncleanly, the transport loses a life. When the number\n * of lives drops to zero, the transport gets disabled by its manager.\n *\n * @param {Object} options\n */\nexport default class TransportManager {\n  options: TransportManagerOptions;\n  livesLeft: number;\n\n  constructor(options: TransportManagerOptions) {\n    this.options = options || {};\n    this.livesLeft = this.options.lives || Infinity;\n  }\n\n  /** Creates a assistant for the transport.\n   *\n   * @param {Transport} transport\n   * @returns {AssistantToTheTransportManager}\n   */\n  getAssistant(transport: Transport): AssistantToTheTransportManager {\n    return Factory.createAssistantToTheTransportManager(this, transport, {\n      minPingDelay: this.options.minPingDelay,\n      maxPingDelay: this.options.maxPingDelay\n    });\n  }\n\n  /** Returns whether the transport has any lives left.\n   *\n   * @returns {Boolean}\n   */\n  isAlive(): boolean {\n    return this.livesLeft > 0;\n  }\n\n  /** Takes one life from the transport. */\n  reportDeath() {\n    this.livesLeft -= 1;\n  }\n}\n","import * as Collections from '../utils/collections';\nimport Util from '../util';\nimport { OneOffTimer as Timer } from '../utils/timers';\nimport Strategy from './strategy';\nimport StrategyOptions from './strategy_options';\n\n/** Loops through strategies with optional timeouts.\n *\n * Options:\n * - loop - whether it should loop through the substrategy list\n * - timeout - initial timeout for a single substrategy\n * - timeoutLimit - maximum timeout\n *\n * @param {Strategy[]} strategies\n * @param {Object} options\n */\nexport default class SequentialStrategy implements Strategy {\n  strategies: Strategy[];\n  loop: boolean;\n  failFast: boolean;\n  timeout: number;\n  timeoutLimit: number;\n\n  constructor(strategies: Strategy[], options: StrategyOptions) {\n    this.strategies = strategies;\n    this.loop = Boolean(options.loop);\n    this.failFast = Boolean(options.failFast);\n    this.timeout = options.timeout;\n    this.timeoutLimit = options.timeoutLimit;\n  }\n\n  isSupported(): boolean {\n    return Collections.any(this.strategies, Util.method('isSupported'));\n  }\n\n  connect(minPriority: number, callback: Function) {\n    var strategies = this.strategies;\n    var current = 0;\n    var timeout = this.timeout;\n    var runner = null;\n\n    var tryNextStrategy = (error, handshake) => {\n      if (handshake) {\n        callback(null, handshake);\n      } else {\n        current = current + 1;\n        if (this.loop) {\n          current = current % strategies.length;\n        }\n\n        if (current < strategies.length) {\n          if (timeout) {\n            timeout = timeout * 2;\n            if (this.timeoutLimit) {\n              timeout = Math.min(timeout, this.timeoutLimit);\n            }\n          }\n          runner = this.tryStrategy(\n            strategies[current],\n            minPriority,\n            { timeout, failFast: this.failFast },\n            tryNextStrategy\n          );\n        } else {\n          callback(true);\n        }\n      }\n    };\n\n    runner = this.tryStrategy(\n      strategies[current],\n      minPriority,\n      { timeout: timeout, failFast: this.failFast },\n      tryNextStrategy\n    );\n\n    return {\n      abort: function() {\n        runner.abort();\n      },\n      forceMinPriority: function(p) {\n        minPriority = p;\n        if (runner) {\n          runner.forceMinPriority(p);\n        }\n      }\n    };\n  }\n\n  private tryStrategy(\n    strategy: Strategy,\n    minPriority: number,\n    options: StrategyOptions,\n    callback: Function\n  ) {\n    var timer = null;\n    var runner = null;\n\n    if (options.timeout > 0) {\n      timer = new Timer(options.timeout, function() {\n        runner.abort();\n        callback(true);\n      });\n    }\n\n    runner = strategy.connect(minPriority, function(error, handshake) {\n      if (error && timer && timer.isRunning() && !options.failFast) {\n        // advance to the next strategy after the timeout\n        return;\n      }\n      if (timer) {\n        timer.ensureAborted();\n      }\n      callback(error, handshake);\n    });\n\n    return {\n      abort: function() {\n        if (timer) {\n          timer.ensureAborted();\n        }\n        runner.abort();\n      },\n      forceMinPriority: function(p) {\n        runner.forceMinPriority(p);\n      }\n    };\n  }\n}\n","import * as Collections from '../utils/collections';\nimport Util from '../util';\nimport Strategy from './strategy';\n\n/** Launches all substrategies and emits prioritized connected transports.\n *\n * @param {Array} strategies\n */\nexport default class BestConnectedEverStrategy implements Strategy {\n  strategies: Strategy[];\n\n  constructor(strategies: Strategy[]) {\n    this.strategies = strategies;\n  }\n\n  isSupported(): boolean {\n    return Collections.any(this.strategies, Util.method('isSupported'));\n  }\n\n  connect(minPriority: number, callback: Function) {\n    return connect(this.strategies, minPriority, function(i, runners) {\n      return function(error, handshake) {\n        runners[i].error = error;\n        if (error) {\n          if (allRunnersFailed(runners)) {\n            callback(true);\n          }\n          return;\n        }\n        Collections.apply(runners, function(runner) {\n          runner.forceMinPriority(handshake.transport.priority);\n        });\n        callback(null, handshake);\n      };\n    });\n  }\n}\n\n/** Connects to all strategies in parallel.\n *\n * Callback builder should be a function that takes two arguments: index\n * and a list of runners. It should return another function that will be\n * passed to the substrategy with given index. Runners can be aborted using\n * abortRunner(s) functions from this class.\n *\n * @param  {Array} strategies\n * @param  {Function} callbackBuilder\n * @return {Object} strategy runner\n */\nfunction connect(\n  strategies: Strategy[],\n  minPriority: number,\n  callbackBuilder: Function\n) {\n  var runners = Collections.map(strategies, function(strategy, i, _, rs) {\n    return strategy.connect(minPriority, callbackBuilder(i, rs));\n  });\n  return {\n    abort: function() {\n      Collections.apply(runners, abortRunner);\n    },\n    forceMinPriority: function(p) {\n      Collections.apply(runners, function(runner) {\n        runner.forceMinPriority(p);\n      });\n    }\n  };\n}\n\nfunction allRunnersFailed(runners): boolean {\n  return Collections.all(runners, function(runner) {\n    return Boolean(runner.error);\n  });\n}\n\nfunction abortRunner(runner) {\n  if (!runner.error && !runner.aborted) {\n    runner.abort();\n    runner.aborted = true;\n  }\n}\n","import Util from '../util';\nimport Runtime from 'runtime';\nimport Strategy from './strategy';\nimport SequentialStrategy from './sequential_strategy';\nimport StrategyOptions from './strategy_options';\nimport TransportStrategy from './transport_strategy';\nimport Timeline from '../timeline/timeline';\nimport * as Collections from '../utils/collections';\n\nexport interface TransportStrategyDictionary {\n  [key: string]: TransportStrategy;\n}\n\n/** Caches last successful transport and uses it for following attempts.\n *\n * @param {Strategy} strategy\n * @param {Object} transports\n * @param {Object} options\n */\nexport default class CachedStrategy implements Strategy {\n  strategy: Strategy;\n  transports: TransportStrategyDictionary;\n  ttl: number;\n  usingTLS: boolean;\n  timeline: Timeline;\n\n  constructor(\n    strategy: Strategy,\n    transports: TransportStrategyDictionary,\n    options: StrategyOptions\n  ) {\n    this.strategy = strategy;\n    this.transports = transports;\n    this.ttl = options.ttl || 1800 * 1000;\n    this.usingTLS = options.useTLS;\n    this.timeline = options.timeline;\n  }\n\n  isSupported(): boolean {\n    return this.strategy.isSupported();\n  }\n\n  connect(minPriority: number, callback: Function) {\n    var usingTLS = this.usingTLS;\n    var info = fetchTransportCache(usingTLS);\n\n    var strategies = [this.strategy];\n    if (info && info.timestamp + this.ttl >= Util.now()) {\n      var transport = this.transports[info.transport];\n      if (transport) {\n        this.timeline.info({\n          cached: true,\n          transport: info.transport,\n          latency: info.latency\n        });\n        strategies.push(\n          new SequentialStrategy([transport], {\n            timeout: info.latency * 2 + 1000,\n            failFast: true\n          })\n        );\n      }\n    }\n\n    var startTimestamp = Util.now();\n    var runner = strategies\n      .pop()\n      .connect(minPriority, function cb(error, handshake) {\n        if (error) {\n          flushTransportCache(usingTLS);\n          if (strategies.length > 0) {\n            startTimestamp = Util.now();\n            runner = strategies.pop().connect(minPriority, cb);\n          } else {\n            callback(error);\n          }\n        } else {\n          storeTransportCache(\n            usingTLS,\n            handshake.transport.name,\n            Util.now() - startTimestamp\n          );\n          callback(null, handshake);\n        }\n      });\n\n    return {\n      abort: function() {\n        runner.abort();\n      },\n      forceMinPriority: function(p) {\n        minPriority = p;\n        if (runner) {\n          runner.forceMinPriority(p);\n        }\n      }\n    };\n  }\n}\n\nfunction getTransportCacheKey(usingTLS: boolean): string {\n  return 'pusherTransport' + (usingTLS ? 'TLS' : 'NonTLS');\n}\n\nfunction fetchTransportCache(usingTLS: boolean): any {\n  var storage = Runtime.getLocalStorage();\n  if (storage) {\n    try {\n      var serializedCache = storage[getTransportCacheKey(usingTLS)];\n      if (serializedCache) {\n        return JSON.parse(serializedCache);\n      }\n    } catch (e) {\n      flushTransportCache(usingTLS);\n    }\n  }\n  return null;\n}\n\nfunction storeTransportCache(\n  usingTLS: boolean,\n  transport: TransportStrategy,\n  latency: number\n) {\n  var storage = Runtime.getLocalStorage();\n  if (storage) {\n    try {\n      storage[getTransportCacheKey(usingTLS)] = Collections.safeJSONStringify({\n        timestamp: Util.now(),\n        transport: transport,\n        latency: latency\n      });\n    } catch (e) {\n      // catch over quota exceptions raised by localStorage\n    }\n  }\n}\n\nfunction flushTransportCache(usingTLS: boolean) {\n  var storage = Runtime.getLocalStorage();\n  if (storage) {\n    try {\n      delete storage[getTransportCacheKey(usingTLS)];\n    } catch (e) {\n      // catch exceptions raised by localStorage\n    }\n  }\n}\n","import { OneOffTimer as Timer } from '../utils/timers';\nimport Strategy from './strategy';\nimport StrategyOptions from './strategy_options';\n\n/** Runs substrategy after specified delay.\n *\n * Options:\n * - delay - time in miliseconds to delay the substrategy attempt\n *\n * @param {Strategy} strategy\n * @param {Object} options\n */\nexport default class DelayedStrategy implements Strategy {\n  strategy: Strategy;\n  options: { delay: number };\n\n  constructor(strategy: Strategy, { delay: number }) {\n    this.strategy = strategy;\n    this.options = { delay: number };\n  }\n\n  isSupported(): boolean {\n    return this.strategy.isSupported();\n  }\n\n  connect(minPriority: number, callback: Function) {\n    var strategy = this.strategy;\n    var runner;\n    var timer = new Timer(this.options.delay, function() {\n      runner = strategy.connect(minPriority, callback);\n    });\n\n    return {\n      abort: function() {\n        timer.ensureAborted();\n        if (runner) {\n          runner.abort();\n        }\n      },\n      forceMinPriority: function(p) {\n        minPriority = p;\n        if (runner) {\n          runner.forceMinPriority(p);\n        }\n      }\n    };\n  }\n}\n","import Strategy from './strategy';\nimport StrategyRunner from './strategy_runner';\n\n/** Proxies method calls to one of substrategies basing on the test function.\n *\n * @param {Function} test\n * @param {Strategy} trueBranch strategy used when test returns true\n * @param {Strategy} falseBranch strategy used when test returns false\n */\nexport default class IfStrategy implements Strategy {\n  test: () => boolean;\n  trueBranch: Strategy;\n  falseBranch: Strategy;\n\n  constructor(\n    test: () => boolean,\n    trueBranch: Strategy,\n    falseBranch: Strategy\n  ) {\n    this.test = test;\n    this.trueBranch = trueBranch;\n    this.falseBranch = falseBranch;\n  }\n\n  isSupported(): boolean {\n    var branch = this.test() ? this.trueBranch : this.falseBranch;\n    return branch.isSupported();\n  }\n\n  connect(minPriority: number, callback: Function): StrategyRunner {\n    var branch = this.test() ? this.trueBranch : this.falseBranch;\n    return branch.connect(minPriority, callback);\n  }\n}\n","import Strategy from './strategy';\nimport StrategyRunner from './strategy_runner';\n\n/** Launches the substrategy and terminates on the first open connection.\n *\n * @param {Strategy} strategy\n */\nexport default class FirstConnectedStrategy implements Strategy {\n  strategy: Strategy;\n\n  constructor(strategy: Strategy) {\n    this.strategy = strategy;\n  }\n\n  isSupported(): boolean {\n    return this.strategy.isSupported();\n  }\n\n  connect(minPriority: number, callback: Function): StrategyRunner {\n    var runner = this.strategy.connect(minPriority, function(error, handshake) {\n      if (handshake) {\n        runner.abort();\n      }\n      callback(error, handshake);\n    });\n    return runner;\n  }\n}\n","import * as Collections from 'core/utils/collections';\nimport TransportManager from 'core/transports/transport_manager';\nimport Strategy from 'core/strategies/strategy';\nimport StrategyOptions from 'core/strategies/strategy_options';\nimport SequentialStrategy from 'core/strategies/sequential_strategy';\nimport BestConnectedEverStrategy from 'core/strategies/best_connected_ever_strategy';\nimport CachedStrategy, {\n  TransportStrategyDictionary\n} from 'core/strategies/cached_strategy';\nimport DelayedStrategy from 'core/strategies/delayed_strategy';\nimport IfStrategy from 'core/strategies/if_strategy';\nimport FirstConnectedStrategy from 'core/strategies/first_connected_strategy';\nimport { Config } from 'core/config';\n\nfunction testSupportsStrategy(strategy: Strategy) {\n  return function() {\n    return strategy.isSupported();\n  };\n}\n\nvar getDefaultStrategy = function(\n  config: Config,\n  baseOptions: StrategyOptions,\n  defineTransport: Function\n): Strategy {\n  var definedTransports = <TransportStrategyDictionary>{};\n\n  function defineTransportStrategy(\n    name: string,\n    type: string,\n    priority: number,\n    options: StrategyOptions,\n    manager?: TransportManager\n  ) {\n    var transport = defineTransport(\n      config,\n      name,\n      type,\n      priority,\n      options,\n      manager\n    );\n\n    definedTransports[name] = transport;\n\n    return transport;\n  }\n\n  var ws_options: StrategyOptions = Object.assign({}, baseOptions, {\n    hostNonTLS: config.wsHost + ':' + config.wsPort,\n    hostTLS: config.wsHost + ':' + config.wssPort,\n    httpPath: config.wsPath\n  });\n  var wss_options: StrategyOptions = Object.assign({}, ws_options, {\n    useTLS: true\n  });\n  var sockjs_options: StrategyOptions = Object.assign({}, baseOptions, {\n    hostNonTLS: config.httpHost + ':' + config.httpPort,\n    hostTLS: config.httpHost + ':' + config.httpsPort,\n    httpPath: config.httpPath\n  });\n\n  var timeouts = {\n    loop: true,\n    timeout: 15000,\n    timeoutLimit: 60000\n  };\n\n  var ws_manager = new TransportManager({\n    lives: 2,\n    minPingDelay: 10000,\n    maxPingDelay: config.activityTimeout\n  });\n  var streaming_manager = new TransportManager({\n    lives: 2,\n    minPingDelay: 10000,\n    maxPingDelay: config.activityTimeout\n  });\n\n  var ws_transport = defineTransportStrategy(\n    'ws',\n    'ws',\n    3,\n    ws_options,\n    ws_manager\n  );\n  var wss_transport = defineTransportStrategy(\n    'wss',\n    'ws',\n    3,\n    wss_options,\n    ws_manager\n  );\n  var sockjs_transport = defineTransportStrategy(\n    'sockjs',\n    'sockjs',\n    1,\n    sockjs_options\n  );\n  var xhr_streaming_transport = defineTransportStrategy(\n    'xhr_streaming',\n    'xhr_streaming',\n    1,\n    sockjs_options,\n    streaming_manager\n  );\n  var xdr_streaming_transport = defineTransportStrategy(\n    'xdr_streaming',\n    'xdr_streaming',\n    1,\n    sockjs_options,\n    streaming_manager\n  );\n  var xhr_polling_transport = defineTransportStrategy(\n    'xhr_polling',\n    'xhr_polling',\n    1,\n    sockjs_options\n  );\n  var xdr_polling_transport = defineTransportStrategy(\n    'xdr_polling',\n    'xdr_polling',\n    1,\n    sockjs_options\n  );\n\n  var ws_loop = new SequentialStrategy([ws_transport], timeouts);\n  var wss_loop = new SequentialStrategy([wss_transport], timeouts);\n  var sockjs_loop = new SequentialStrategy([sockjs_transport], timeouts);\n  var streaming_loop = new SequentialStrategy(\n    [\n      new IfStrategy(\n        testSupportsStrategy(xhr_streaming_transport),\n        xhr_streaming_transport,\n        xdr_streaming_transport\n      )\n    ],\n    timeouts\n  );\n  var polling_loop = new SequentialStrategy(\n    [\n      new IfStrategy(\n        testSupportsStrategy(xhr_polling_transport),\n        xhr_polling_transport,\n        xdr_polling_transport\n      )\n    ],\n    timeouts\n  );\n\n  var http_loop = new SequentialStrategy(\n    [\n      new IfStrategy(\n        testSupportsStrategy(streaming_loop),\n        new BestConnectedEverStrategy([\n          streaming_loop,\n          new DelayedStrategy(polling_loop, { delay: 4000 })\n        ]),\n        polling_loop\n      )\n    ],\n    timeouts\n  );\n\n  var http_fallback_loop = new IfStrategy(\n    testSupportsStrategy(http_loop),\n    http_loop,\n    sockjs_loop\n  );\n\n  var wsStrategy;\n  if (baseOptions.useTLS) {\n    wsStrategy = new BestConnectedEverStrategy([\n      ws_loop,\n      new DelayedStrategy(http_fallback_loop, { delay: 2000 })\n    ]);\n  } else {\n    wsStrategy = new BestConnectedEverStrategy([\n      ws_loop,\n      new DelayedStrategy(wss_loop, { delay: 2000 }),\n      new DelayedStrategy(http_fallback_loop, { delay: 5000 })\n    ]);\n  }\n\n  return new CachedStrategy(\n    new FirstConnectedStrategy(\n      new IfStrategy(\n        testSupportsStrategy(ws_transport),\n        wsStrategy,\n        http_fallback_loop\n      )\n    ),\n    definedTransports,\n    {\n      ttl: 1800000,\n      timeline: baseOptions.timeline,\n      useTLS: baseOptions.useTLS\n    }\n  );\n};\n\nexport default getDefaultStrategy;\n","enum State {\n  CONNECTING = 0,\n  OPEN = 1,\n  CLOSED = 3\n}\n\nexport default State;\n","import { Dependencies } from '../dom/dependencies';\n\n/** Initializes the transport.\n *\n * Fetches resources if needed and then transitions to initialized.\n */\nexport default function() {\n  var self = this;\n\n  self.timeline.info(\n    self.buildTimelineMessage({\n      transport: self.name + (self.options.useTLS ? 's' : '')\n    })\n  );\n\n  if (self.hooks.isInitialized()) {\n    self.changeState('initialized');\n  } else if (self.hooks.file) {\n    self.changeState('initializing');\n    Dependencies.load(\n      self.hooks.file,\n      { useTLS: self.options.useTLS },\n      function(error, callback) {\n        if (self.hooks.isInitialized()) {\n          self.changeState('initialized');\n          callback(true);\n        } else {\n          if (error) {\n            self.onError(error);\n          }\n          self.onClose();\n          callback(false);\n        }\n      }\n    );\n  } else {\n    self.onClose();\n  }\n}\n","import HTTPRequest from 'core/http/http_request';\nimport RequestHooks from 'core/http/request_hooks';\nimport Ajax from 'core/http/ajax';\nimport * as Errors from 'core/errors';\n\nvar hooks: RequestHooks = {\n  getRequest: function(socket: HTTPRequest): Ajax {\n    var xdr = new (<any>window).XDomainRequest();\n    xdr.ontimeout = function() {\n      socket.emit('error', new Errors.RequestTimedOut());\n      socket.close();\n    };\n    xdr.onerror = function(e) {\n      socket.emit('error', e);\n      socket.close();\n    };\n    xdr.onprogress = function() {\n      if (xdr.responseText && xdr.responseText.length > 0) {\n        socket.onChunk(200, xdr.responseText);\n      }\n    };\n    xdr.onload = function() {\n      if (xdr.responseText && xdr.responseText.length > 0) {\n        socket.onChunk(200, xdr.responseText);\n      }\n      socket.emit('finished', 200);\n      socket.close();\n    };\n    return xdr;\n  },\n  abortRequest: function(xdr: Ajax) {\n    xdr.ontimeout = xdr.onerror = xdr.onprogress = xdr.onload = null;\n    xdr.abort();\n  }\n};\n\nexport default hooks;\n","import Runtime from 'runtime';\nimport RequestHooks from './request_hooks';\nimport Ajax from './ajax';\nimport { default as EventsDispatcher } from '../events/dispatcher';\n\nconst MAX_BUFFER_LENGTH = 256 * 1024;\n\nexport default class HTTPRequest extends EventsDispatcher {\n  hooks: RequestHooks;\n  method: string;\n  url: string;\n  position: number;\n  xhr: Ajax;\n  unloader: Function;\n\n  constructor(hooks: RequestHooks, method: string, url: string) {\n    super();\n    this.hooks = hooks;\n    this.method = method;\n    this.url = url;\n  }\n\n  start(payload?: any) {\n    this.position = 0;\n    this.xhr = this.hooks.getRequest(this);\n\n    this.unloader = () => {\n      this.close();\n    };\n    Runtime.addUnloadListener(this.unloader);\n\n    this.xhr.open(this.method, this.url, true);\n\n    if (this.xhr.setRequestHeader) {\n      this.xhr.setRequestHeader('Content-Type', 'application/json'); // ReactNative doesn't set this header by default.\n    }\n    this.xhr.send(payload);\n  }\n\n  close() {\n    if (this.unloader) {\n      Runtime.removeUnloadListener(this.unloader);\n      this.unloader = null;\n    }\n    if (this.xhr) {\n      this.hooks.abortRequest(this.xhr);\n      this.xhr = null;\n    }\n  }\n\n  onChunk(status: number, data: any) {\n    while (true) {\n      var chunk = this.advanceBuffer(data);\n      if (chunk) {\n        this.emit('chunk', { status: status, data: chunk });\n      } else {\n        break;\n      }\n    }\n    if (this.isBufferTooLong(data)) {\n      this.emit('buffer_too_long');\n    }\n  }\n\n  private advanceBuffer(buffer: any[]): any {\n    var unreadData = buffer.slice(this.position);\n    var endOfLinePosition = unreadData.indexOf('\\n');\n\n    if (endOfLinePosition !== -1) {\n      this.position += endOfLinePosition + 1;\n      return unreadData.slice(0, endOfLinePosition);\n    } else {\n      // chunk is not finished yet, don't move the buffer pointer\n      return null;\n    }\n  }\n\n  private isBufferTooLong(buffer: any): boolean {\n    return this.position === buffer.length && buffer.length > MAX_BUFFER_LENGTH;\n  }\n}\n","import URLLocation from './url_location';\nimport State from './state';\nimport Socket from '../socket';\nimport SocketHooks from './socket_hooks';\nimport Util from '../util';\nimport Ajax from './ajax';\nimport HTTPRequest from './http_request';\nimport Runtime from 'runtime';\n\nvar autoIncrement = 1;\n\nclass HTTPSocket implements Socket {\n  hooks: SocketHooks;\n  session: string;\n  location: URLLocation;\n  readyState: State;\n  stream: HTTPRequest;\n\n  onopen: () => void;\n  onerror: (error: any) => void;\n  onclose: (closeEvent: any) => void;\n  onmessage: (message: any) => void;\n  onactivity: () => void;\n\n  constructor(hooks: SocketHooks, url: string) {\n    this.hooks = hooks;\n    this.session = randomNumber(1000) + '/' + randomString(8);\n    this.location = getLocation(url);\n    this.readyState = State.CONNECTING;\n    this.openStream();\n  }\n\n  send(payload: any) {\n    return this.sendRaw(JSON.stringify([payload]));\n  }\n\n  ping() {\n    this.hooks.sendHeartbeat(this);\n  }\n\n  close(code: any, reason: any) {\n    this.onClose(code, reason, true);\n  }\n\n  /** For internal use only */\n  sendRaw(payload: any): boolean {\n    if (this.readyState === State.OPEN) {\n      try {\n        Runtime.createSocketRequest(\n          'POST',\n          getUniqueURL(getSendURL(this.location, this.session))\n        ).start(payload);\n        return true;\n      } catch (e) {\n        return false;\n      }\n    } else {\n      return false;\n    }\n  }\n\n  /** For internal use only */\n  reconnect() {\n    this.closeStream();\n    this.openStream();\n  }\n\n  /** For internal use only */\n  onClose(code, reason, wasClean) {\n    this.closeStream();\n    this.readyState = State.CLOSED;\n    if (this.onclose) {\n      this.onclose({\n        code: code,\n        reason: reason,\n        wasClean: wasClean\n      });\n    }\n  }\n\n  private onChunk(chunk) {\n    if (chunk.status !== 200) {\n      return;\n    }\n    if (this.readyState === State.OPEN) {\n      this.onActivity();\n    }\n\n    var payload;\n    var type = chunk.data.slice(0, 1);\n    switch (type) {\n      case 'o':\n        payload = JSON.parse(chunk.data.slice(1) || '{}');\n        this.onOpen(payload);\n        break;\n      case 'a':\n        payload = JSON.parse(chunk.data.slice(1) || '[]');\n        for (var i = 0; i < payload.length; i++) {\n          this.onEvent(payload[i]);\n        }\n        break;\n      case 'm':\n        payload = JSON.parse(chunk.data.slice(1) || 'null');\n        this.onEvent(payload);\n        break;\n      case 'h':\n        this.hooks.onHeartbeat(this);\n        break;\n      case 'c':\n        payload = JSON.parse(chunk.data.slice(1) || '[]');\n        this.onClose(payload[0], payload[1], true);\n        break;\n    }\n  }\n\n  private onOpen(options) {\n    if (this.readyState === State.CONNECTING) {\n      if (options && options.hostname) {\n        this.location.base = replaceHost(this.location.base, options.hostname);\n      }\n      this.readyState = State.OPEN;\n\n      if (this.onopen) {\n        this.onopen();\n      }\n    } else {\n      this.onClose(1006, 'Server lost session', true);\n    }\n  }\n\n  private onEvent(event) {\n    if (this.readyState === State.OPEN && this.onmessage) {\n      this.onmessage({ data: event });\n    }\n  }\n\n  private onActivity() {\n    if (this.onactivity) {\n      this.onactivity();\n    }\n  }\n\n  private onError(error) {\n    if (this.onerror) {\n      this.onerror(error);\n    }\n  }\n\n  private openStream() {\n    this.stream = Runtime.createSocketRequest(\n      'POST',\n      getUniqueURL(this.hooks.getReceiveURL(this.location, this.session))\n    );\n\n    this.stream.bind('chunk', chunk => {\n      this.onChunk(chunk);\n    });\n    this.stream.bind('finished', status => {\n      this.hooks.onFinished(this, status);\n    });\n    this.stream.bind('buffer_too_long', () => {\n      this.reconnect();\n    });\n\n    try {\n      this.stream.start();\n    } catch (error) {\n      Util.defer(() => {\n        this.onError(error);\n        this.onClose(1006, 'Could not start streaming', false);\n      });\n    }\n  }\n\n  private closeStream() {\n    if (this.stream) {\n      this.stream.unbind_all();\n      this.stream.close();\n      this.stream = null;\n    }\n  }\n}\n\nfunction getLocation(url): URLLocation {\n  var parts = /([^\\?]*)\\/*(\\??.*)/.exec(url);\n  return {\n    base: parts[1],\n    queryString: parts[2]\n  };\n}\n\nfunction getSendURL(url: URLLocation, session: string): string {\n  return url.base + '/' + session + '/xhr_send';\n}\n\nfunction getUniqueURL(url: string): string {\n  var separator = url.indexOf('?') === -1 ? '?' : '&';\n  return url + separator + 't=' + +new Date() + '&n=' + autoIncrement++;\n}\n\nfunction replaceHost(url: string, hostname: string): string {\n  var urlParts = /(https?:\\/\\/)([^\\/:]+)((\\/|:)?.*)/.exec(url);\n  return urlParts[1] + hostname + urlParts[3];\n}\n\nfunction randomNumber(max: number): number {\n  return Runtime.randomInt(max);\n}\n\nfunction randomString(length: number): string {\n  var result = [];\n\n  for (var i = 0; i < length; i++) {\n    result.push(randomNumber(32).toString(32));\n  }\n\n  return result.join('');\n}\n\nexport default HTTPSocket;\n","import SocketHooks from './socket_hooks';\nimport HTTPSocket from './http_socket';\n\nvar hooks: SocketHooks = {\n  getReceiveURL: function(url, session) {\n    return url.base + '/' + session + '/xhr_streaming' + url.queryString;\n  },\n  onHeartbeat: function(socket) {\n    socket.sendRaw('[]');\n  },\n  sendHeartbeat: function(socket) {\n    socket.sendRaw('[]');\n  },\n  onFinished: function(socket, status) {\n    socket.onClose(1006, 'Connection interrupted (' + status + ')', false);\n  }\n};\n\nexport default hooks;\n","import SocketHooks from './socket_hooks';\nimport URLLocation from './url_location';\nimport HTTPSocket from './http_socket';\n\nvar hooks: SocketHooks = {\n  getReceiveURL: function(url: URLLocation, session: string): string {\n    return url.base + '/' + session + '/xhr' + url.queryString;\n  },\n  onHeartbeat: function() {\n    // next HTTP request will reset server's activity timer\n  },\n  sendHeartbeat: function(socket) {\n    socket.sendRaw('[]');\n  },\n  onFinished: function(socket, status) {\n    if (status === 200) {\n      socket.reconnect();\n    } else {\n      socket.onClose(1006, 'Connection interrupted (' + status + ')', false);\n    }\n  }\n};\n\nexport default hooks;\n","import HTTPRequest from 'core/http/http_request';\nimport RequestHooks from 'core/http/request_hooks';\nimport Ajax from 'core/http/ajax';\nimport Runtime from 'runtime';\n\nvar hooks: RequestHooks = {\n  getRequest: function(socket: HTTPRequest): Ajax {\n    var Constructor = Runtime.getXHRAPI();\n    var xhr = new Constructor();\n    xhr.onreadystatechange = xhr.onprogress = function() {\n      switch (xhr.readyState) {\n        case 3:\n          if (xhr.responseText && xhr.responseText.length > 0) {\n            socket.onChunk(xhr.status, xhr.responseText);\n          }\n          break;\n        case 4:\n          // this happens only on errors, never after calling close\n          if (xhr.responseText && xhr.responseText.length > 0) {\n            socket.onChunk(xhr.status, xhr.responseText);\n          }\n          socket.emit('finished', xhr.status);\n          socket.close();\n          break;\n      }\n    };\n    return xhr;\n  },\n  abortRequest: function(xhr: Ajax) {\n    xhr.onreadystatechange = null;\n    xhr.abort();\n  }\n};\n\nexport default hooks;\n","import HTTPRequest from 'core/http/http_request';\nimport HTTPSocket from 'core/http/http_socket';\nimport SocketHooks from 'core/http/socket_hooks';\nimport RequestHooks from 'core/http/request_hooks';\nimport streamingHooks from 'core/http/http_streaming_socket';\nimport pollingHooks from 'core/http/http_polling_socket';\nimport xhrHooks from './http_xhr_request';\nimport HTTPFactory from 'core/http/http_factory';\n\nvar HTTP: HTTPFactory = {\n  createStreamingSocket(url: string): HTTPSocket {\n    return this.createSocket(streamingHooks, url);\n  },\n\n  createPollingSocket(url: string): HTTPSocket {\n    return this.createSocket(pollingHooks, url);\n  },\n\n  createSocket(hooks: SocketHooks, url: string): HTTPSocket {\n    return new HTTPSocket(hooks, url);\n  },\n\n  createXHR(method: string, url: string): HTTPRequest {\n    return this.createRequest(xhrHooks, method, url);\n  },\n\n  createRequest(hooks: RequestHooks, method: string, url: string): HTTPRequest {\n    return new HTTPRequest(hooks, method, url);\n  }\n};\n\nexport default HTTP;\n","import xdrHooks from './http_xdomain_request';\nimport HTTP from 'isomorphic/http/http';\n\nHTTP.createXDR = function(method, url) {\n  return this.createRequest(xdrHooks, method, url);\n};\n\nexport default HTTP;\n","enum TimelineLevel {\n  ERROR = 3,\n  INFO = 6,\n  DEBUG = 7\n}\n\nexport default TimelineLevel;\n","import Browser from './browser';\nimport { Dependencies, DependenciesReceivers } from './dom/dependencies';\nimport { AuthTransport, AuthTransports } from 'core/auth/auth_transports';\nimport xhrAuth from 'isomorphic/auth/xhr_auth';\nimport jsonpAuth from './auth/jsonp_auth';\nimport TimelineTransport from 'core/timeline/timeline_transport';\nimport TimelineSender from 'core/timeline/timeline_sender';\nimport ScriptRequest from './dom/script_request';\nimport JSONPRequest from './dom/jsonp_request';\nimport * as Collections from 'core/utils/collections';\nimport { ScriptReceivers } from './dom/script_receiver_factory';\nimport jsonpTimeline from './timeline/jsonp_timeline';\nimport Transports from './transports/transports';\nimport Ajax from 'core/http/ajax';\nimport { Network } from './net_info';\nimport getDefaultStrategy from './default_strategy';\nimport transportConnectionInitializer from './transports/transport_connection_initializer';\nimport HTTPFactory from './http/http';\nimport HTTPRequest from 'core/http/http_request';\n\nvar Runtime: Browser = {\n  // for jsonp auth\n  nextAuthCallbackID: 1,\n  auth_callbacks: {},\n  ScriptReceivers,\n  DependenciesReceivers,\n  getDefaultStrategy,\n  Transports,\n  transportConnectionInitializer,\n  HTTPFactory,\n\n  TimelineTransport: jsonpTimeline,\n\n  getXHRAPI() {\n    return window.XMLHttpRequest;\n  },\n\n  getWebSocketAPI() {\n    return window.WebSocket || window.MozWebSocket;\n  },\n\n  setup(PusherClass): void {\n    (<any>window).Pusher = PusherClass; // JSONp requires Pusher to be in the global scope.\n    var initializeOnDocumentBody = () => {\n      this.onDocumentBody(PusherClass.ready);\n    };\n    if (!(<any>window).JSON) {\n      Dependencies.load('json2', {}, initializeOnDocumentBody);\n    } else {\n      initializeOnDocumentBody();\n    }\n  },\n\n  getDocument(): Document {\n    return document;\n  },\n\n  getProtocol(): string {\n    return this.getDocument().location.protocol;\n  },\n\n  getAuthorizers(): AuthTransports {\n    return { ajax: xhrAuth, jsonp: jsonpAuth };\n  },\n\n  onDocumentBody(callback: Function) {\n    if (document.body) {\n      callback();\n    } else {\n      setTimeout(() => {\n        this.onDocumentBody(callback);\n      }, 0);\n    }\n  },\n\n  createJSONPRequest(url: string, data: any): JSONPRequest {\n    return new JSONPRequest(url, data);\n  },\n\n  createScriptRequest(src: string): ScriptRequest {\n    return new ScriptRequest(src);\n  },\n\n  getLocalStorage() {\n    try {\n      return window.localStorage;\n    } catch (e) {\n      return undefined;\n    }\n  },\n\n  createXHR(): Ajax {\n    if (this.getXHRAPI()) {\n      return this.createXMLHttpRequest();\n    } else {\n      return this.createMicrosoftXHR();\n    }\n  },\n\n  createXMLHttpRequest(): Ajax {\n    var Constructor = this.getXHRAPI();\n    return new Constructor();\n  },\n\n  createMicrosoftXHR(): Ajax {\n    return new ActiveXObject('Microsoft.XMLHTTP');\n  },\n\n  getNetwork() {\n    return Network;\n  },\n\n  createWebSocket(url: string): any {\n    var Constructor = this.getWebSocketAPI();\n    return new Constructor(url);\n  },\n\n  createSocketRequest(method: string, url: string): HTTPRequest {\n    if (this.isXHRSupported()) {\n      return this.HTTPFactory.createXHR(method, url);\n    } else if (this.isXDRSupported(url.indexOf('https:') === 0)) {\n      return this.HTTPFactory.createXDR(method, url);\n    } else {\n      throw 'Cross-origin HTTP requests are not supported';\n    }\n  },\n\n  isXHRSupported(): boolean {\n    var Constructor = this.getXHRAPI();\n    return (\n      Boolean(Constructor) && new Constructor().withCredentials !== undefined\n    );\n  },\n\n  isXDRSupported(useTLS?: boolean): boolean {\n    var protocol = useTLS ? 'https:' : 'http:';\n    var documentProtocol = this.getProtocol();\n    return (\n      Boolean(<any>window['XDomainRequest']) && documentProtocol === protocol\n    );\n  },\n\n  addUnloadListener(listener: any) {\n    if (window.addEventListener !== undefined) {\n      window.addEventListener('unload', listener, false);\n    } else if (window.attachEvent !== undefined) {\n      window.attachEvent('onunload', listener);\n    }\n  },\n\n  removeUnloadListener(listener: any) {\n    if (window.addEventListener !== undefined) {\n      window.removeEventListener('unload', listener, false);\n    } else if (window.detachEvent !== undefined) {\n      window.detachEvent('onunload', listener);\n    }\n  },\n\n  randomInt(max: number): number {\n    /**\n     * Return values in the range of [0, 1[\n     */\n    const random = function() {\n      const crypto = window.crypto || window['msCrypto'];\n      const random = crypto.getRandomValues(new Uint32Array(1))[0];\n\n      return random / 2 ** 32;\n    };\n\n    return Math.floor(random() * max);\n  }\n};\n\nexport default Runtime;\n","import * as Collections from '../utils/collections';\nimport Util from '../util';\nimport { default as Level } from './level';\n\nexport interface TimelineOptions {\n  level?: Level;\n  limit?: number;\n  version?: string;\n  cluster?: string;\n  features?: string[];\n  params?: any;\n}\n\nexport default class Timeline {\n  key: string;\n  session: number;\n  events: any[];\n  options: TimelineOptions;\n  sent: number;\n  uniqueID: number;\n\n  constructor(key: string, session: number, options: TimelineOptions) {\n    this.key = key;\n    this.session = session;\n    this.events = [];\n    this.options = options || {};\n    this.sent = 0;\n    this.uniqueID = 0;\n  }\n\n  log(level, event) {\n    if (level <= this.options.level) {\n      this.events.push(\n        Collections.extend({}, event, { timestamp: Util.now() })\n      );\n      if (this.options.limit && this.events.length > this.options.limit) {\n        this.events.shift();\n      }\n    }\n  }\n\n  error(event) {\n    this.log(Level.ERROR, event);\n  }\n\n  info(event) {\n    this.log(Level.INFO, event);\n  }\n\n  debug(event) {\n    this.log(Level.DEBUG, event);\n  }\n\n  isEmpty() {\n    return this.events.length === 0;\n  }\n\n  send(sendfn, callback) {\n    var data = Collections.extend(\n      {\n        session: this.session,\n        bundle: this.sent + 1,\n        key: this.key,\n        lib: 'js',\n        version: this.options.version,\n        cluster: this.options.cluster,\n        features: this.options.features,\n        timeline: this.events\n      },\n      this.options.params\n    );\n\n    this.events = [];\n    sendfn(data, (error, result) => {\n      if (!error) {\n        this.sent++;\n      }\n      if (callback) {\n        callback(error, result);\n      }\n    });\n\n    return true;\n  }\n\n  generateUniqueID(): number {\n    this.uniqueID++;\n    return this.uniqueID;\n  }\n}\n","import Factory from '../utils/factory';\nimport Util from '../util';\nimport * as Errors from '../errors';\nimport * as Collections from '../utils/collections';\nimport Strategy from './strategy';\nimport Transport from '../transports/transport';\nimport StrategyOptions from './strategy_options';\nimport Handshake from '../connection/handshake';\n\n/** Provides a strategy interface for transports.\n *\n * @param {String} name\n * @param {Number} priority\n * @param {Class} transport\n * @param {Object} options\n */\nexport default class TransportStrategy implements Strategy {\n  name: string;\n  priority: number;\n  transport: Transport;\n  options: StrategyOptions;\n\n  constructor(\n    name: string,\n    priority: number,\n    transport: Transport,\n    options: StrategyOptions\n  ) {\n    this.name = name;\n    this.priority = priority;\n    this.transport = transport;\n    this.options = options || {};\n  }\n\n  /** Returns whether the transport is supported in the browser.\n   *\n   * @returns {Boolean}\n   */\n  isSupported(): boolean {\n    return this.transport.isSupported({\n      useTLS: this.options.useTLS\n    });\n  }\n\n  /** Launches a connection attempt and returns a strategy runner.\n   *\n   * @param  {Function} callback\n   * @return {Object} strategy runner\n   */\n  connect(minPriority: number, callback: Function) {\n    if (!this.isSupported()) {\n      return failAttempt(new Errors.UnsupportedStrategy(), callback);\n    } else if (this.priority < minPriority) {\n      return failAttempt(new Errors.TransportPriorityTooLow(), callback);\n    }\n\n    var connected = false;\n    var transport = this.transport.createConnection(\n      this.name,\n      this.priority,\n      this.options.key,\n      this.options\n    );\n    var handshake = null;\n\n    var onInitialized = function() {\n      transport.unbind('initialized', onInitialized);\n      transport.connect();\n    };\n    var onOpen = function() {\n      handshake = Factory.createHandshake(transport, function(result) {\n        connected = true;\n        unbindListeners();\n        callback(null, result);\n      });\n    };\n    var onError = function(error) {\n      unbindListeners();\n      callback(error);\n    };\n    var onClosed = function() {\n      unbindListeners();\n      var serializedTransport;\n\n      // The reason for this try/catch block is that on React Native\n      // the WebSocket object is circular. Therefore transport.socket will\n      // throw errors upon stringification. Collections.safeJSONStringify\n      // discards circular references when serializing.\n      serializedTransport = Collections.safeJSONStringify(transport);\n      callback(new Errors.TransportClosed(serializedTransport));\n    };\n\n    var unbindListeners = function() {\n      transport.unbind('initialized', onInitialized);\n      transport.unbind('open', onOpen);\n      transport.unbind('error', onError);\n      transport.unbind('closed', onClosed);\n    };\n\n    transport.bind('initialized', onInitialized);\n    transport.bind('open', onOpen);\n    transport.bind('error', onError);\n    transport.bind('closed', onClosed);\n\n    // connect will be called automatically after initialization\n    transport.initialize();\n\n    return {\n      abort: () => {\n        if (connected) {\n          return;\n        }\n        unbindListeners();\n        if (handshake) {\n          handshake.close();\n        } else {\n          transport.close();\n        }\n      },\n      forceMinPriority: p => {\n        if (connected) {\n          return;\n        }\n        if (this.priority < p) {\n          if (handshake) {\n            handshake.close();\n          } else {\n            transport.close();\n          }\n        }\n      }\n    };\n  }\n}\n\nfunction failAttempt(error: Error, callback: Function) {\n  Util.defer(function() {\n    callback(error);\n  });\n  return {\n    abort: function() {},\n    forceMinPriority: function() {}\n  };\n}\n","import * as Collections from '../utils/collections';\nimport Util from '../util';\nimport TransportManager from '../transports/transport_manager';\nimport * as Errors from '../errors';\nimport Strategy from './strategy';\nimport TransportStrategy from './transport_strategy';\nimport StrategyOptions from '../strategies/strategy_options';\nimport { Config } from '../config';\nimport Runtime from 'runtime';\n\nconst { Transports } = Runtime;\n\nexport var defineTransport = function(\n  config: Config,\n  name: string,\n  type: string,\n  priority: number,\n  options: StrategyOptions,\n  manager?: TransportManager\n): Strategy {\n  var transportClass = Transports[type];\n  if (!transportClass) {\n    throw new Errors.UnsupportedTransport(type);\n  }\n\n  var enabled =\n    (!config.enabledTransports ||\n      Collections.arrayIndexOf(config.enabledTransports, name) !== -1) &&\n    (!config.disabledTransports ||\n      Collections.arrayIndexOf(config.disabledTransports, name) === -1);\n\n  var transport;\n  if (enabled) {\n    options = Object.assign(\n      { ignoreNullOrigin: config.ignoreNullOrigin },\n      options\n    );\n\n    transport = new TransportStrategy(\n      name,\n      priority,\n      manager ? manager.getAssistant(transportClass) : transportClass,\n      options\n    );\n  } else {\n    transport = UnsupportedStrategy;\n  }\n\n  return transport;\n};\n\nvar UnsupportedStrategy: Strategy = {\n  isSupported: function() {\n    return false;\n  },\n  connect: function(_, callback) {\n    var deferred = Util.defer(function() {\n      callback(new Errors.UnsupportedStrategy());\n    });\n    return {\n      abort: function() {\n        deferred.ensureAborted();\n      },\n      forceMinPriority: function() {}\n    };\n  }\n};\n","import {\n  UserAuthenticationCallback,\n  InternalAuthOptions,\n  UserAuthenticationHandler,\n  UserAuthenticationRequestParams,\n  AuthRequestType\n} from './options';\n\nimport Runtime from 'runtime';\n\nconst composeChannelQuery = (\n  params: UserAuthenticationRequestParams,\n  authOptions: InternalAuthOptions\n) => {\n  var query = 'socket_id=' + encodeURIComponent(params.socketId);\n\n  for (var key in authOptions.params) {\n    query +=\n      '&' +\n      encodeURIComponent(key) +\n      '=' +\n      encodeURIComponent(authOptions.params[key]);\n  }\n\n  if (authOptions.paramsProvider != null) {\n    let dynamicParams = authOptions.paramsProvider();\n    for (var key in dynamicParams) {\n      query +=\n        '&' +\n        encodeURIComponent(key) +\n        '=' +\n        encodeURIComponent(dynamicParams[key]);\n    }\n  }\n\n  return query;\n};\n\nconst UserAuthenticator = (\n  authOptions: InternalAuthOptions\n): UserAuthenticationHandler => {\n  if (typeof Runtime.getAuthorizers()[authOptions.transport] === 'undefined') {\n    throw `'${authOptions.transport}' is not a recognized auth transport`;\n  }\n\n  return (\n    params: UserAuthenticationRequestParams,\n    callback: UserAuthenticationCallback\n  ) => {\n    const query = composeChannelQuery(params, authOptions);\n\n    Runtime.getAuthorizers()[authOptions.transport](\n      Runtime,\n      query,\n      authOptions,\n      AuthRequestType.UserAuthentication,\n      callback\n    );\n  };\n};\n\nexport default UserAuthenticator;\n","import {\n  AuthRequestType,\n  InternalAuthOptions,\n  ChannelAuthorizationHandler,\n  ChannelAuthorizationRequestParams,\n  ChannelAuthorizationCallback\n} from './options';\n\nimport Runtime from 'runtime';\n\nconst composeChannelQuery = (\n  params: ChannelAuthorizationRequestParams,\n  authOptions: InternalAuthOptions\n) => {\n  var query = 'socket_id=' + encodeURIComponent(params.socketId);\n\n  query += '&channel_name=' + encodeURIComponent(params.channelName);\n\n  for (var key in authOptions.params) {\n    query +=\n      '&' +\n      encodeURIComponent(key) +\n      '=' +\n      encodeURIComponent(authOptions.params[key]);\n  }\n\n  if (authOptions.paramsProvider != null) {\n    let dynamicParams = authOptions.paramsProvider();\n    for (var key in dynamicParams) {\n      query +=\n        '&' +\n        encodeURIComponent(key) +\n        '=' +\n        encodeURIComponent(dynamicParams[key]);\n    }\n  }\n\n  return query;\n};\n\nconst ChannelAuthorizer = (\n  authOptions: InternalAuthOptions\n): ChannelAuthorizationHandler => {\n  if (typeof Runtime.getAuthorizers()[authOptions.transport] === 'undefined') {\n    throw `'${authOptions.transport}' is not a recognized auth transport`;\n  }\n\n  return (\n    params: ChannelAuthorizationRequestParams,\n    callback: ChannelAuthorizationCallback\n  ) => {\n    const query = composeChannelQuery(params, authOptions);\n\n    Runtime.getAuthorizers()[authOptions.transport](\n      Runtime,\n      query,\n      authOptions,\n      AuthRequestType.ChannelAuthorization,\n      callback\n    );\n  };\n};\n\nexport default ChannelAuthorizer;\n","import Channel from '../channels/channel';\nimport {\n  ChannelAuthorizationCallback,\n  ChannelAuthorizationHandler,\n  ChannelAuthorizationRequestParams,\n  InternalAuthOptions\n} from './options';\n\nexport interface DeprecatedChannelAuthorizer {\n  authorize(socketId: string, callback: ChannelAuthorizationCallback): void;\n}\n\nexport interface ChannelAuthorizerGenerator {\n  (\n    channel: Channel,\n    options: DeprecatedAuthorizerOptions\n  ): DeprecatedChannelAuthorizer;\n}\n\nexport interface DeprecatedAuthOptions {\n  params?: any;\n  headers?: any;\n}\n\nexport interface DeprecatedAuthorizerOptions {\n  authTransport: 'ajax' | 'jsonp';\n  authEndpoint: string;\n  auth?: DeprecatedAuthOptions;\n}\n\nexport const ChannelAuthorizerProxy = (\n  pusher,\n  authOptions: InternalAuthOptions,\n  channelAuthorizerGenerator: ChannelAuthorizerGenerator\n): ChannelAuthorizationHandler => {\n  const deprecatedAuthorizerOptions: DeprecatedAuthorizerOptions = {\n    authTransport: authOptions.transport,\n    authEndpoint: authOptions.endpoint,\n    auth: {\n      params: authOptions.params,\n      headers: authOptions.headers\n    }\n  };\n  return (\n    params: ChannelAuthorizationRequestParams,\n    callback: ChannelAuthorizationCallback\n  ) => {\n    const channel = pusher.channel(params.channelName);\n    // This line creates a new channel authorizer every time.\n    // In the past, this was only done once per channel and reused.\n    // We can do that again if we want to keep this behavior intact.\n    const channelAuthorizer: DeprecatedChannelAuthorizer = channelAuthorizerGenerator(\n      channel,\n      deprecatedAuthorizerOptions\n    );\n    channelAuthorizer.authorize(params.socketId, callback);\n  };\n};\n","import { Options } from './options';\nimport Defaults from './defaults';\nimport {\n  ChannelAuthorizationHandler,\n  UserAuthenticationHandler,\n  ChannelAuthorizationOptions\n} from './auth/options';\nimport UserAuthenticator from './auth/user_authenticator';\nimport ChannelAuthorizer from './auth/channel_authorizer';\nimport { ChannelAuthorizerProxy } from './auth/deprecated_channel_authorizer';\nimport Runtime from 'runtime';\nimport * as nacl from 'tweetnacl';\nimport Logger from './logger';\n\nexport type AuthTransport = 'ajax' | 'jsonp';\nexport type Transport =\n  | 'ws'\n  | 'wss'\n  | 'xhr_streaming'\n  | 'xhr_polling'\n  | 'sockjs';\n\nexport interface Config {\n  // these are all 'required' config parameters, it's not necessary for the user\n  // to set them, but they have configured defaults.\n  activityTimeout: number;\n  enableStats: boolean;\n  httpHost: string;\n  httpPath: string;\n  httpPort: number;\n  httpsPort: number;\n  pongTimeout: number;\n  statsHost: string;\n  unavailableTimeout: number;\n  useTLS: boolean;\n  wsHost: string;\n  wsPath: string;\n  wsPort: number;\n  wssPort: number;\n  userAuthenticator: UserAuthenticationHandler;\n  channelAuthorizer: ChannelAuthorizationHandler;\n\n  // these are all optional parameters or overrrides. The customer can set these\n  // but it's not strictly necessary\n  forceTLS?: boolean;\n  cluster?: string;\n  disabledTransports?: Transport[];\n  enabledTransports?: Transport[];\n  ignoreNullOrigin?: boolean;\n  nacl?: nacl;\n  timelineParams?: any;\n}\n\n// getConfig mainly sets the defaults for the options that are not provided\nexport function getConfig(opts: Options, pusher): Config {\n  let config: Config = {\n    activityTimeout: opts.activityTimeout || Defaults.activityTimeout,\n    cluster: opts.cluster || Defaults.cluster,\n    httpPath: opts.httpPath || Defaults.httpPath,\n    httpPort: opts.httpPort || Defaults.httpPort,\n    httpsPort: opts.httpsPort || Defaults.httpsPort,\n    pongTimeout: opts.pongTimeout || Defaults.pongTimeout,\n    statsHost: opts.statsHost || Defaults.stats_host,\n    unavailableTimeout: opts.unavailableTimeout || Defaults.unavailableTimeout,\n    wsPath: opts.wsPath || Defaults.wsPath,\n    wsPort: opts.wsPort || Defaults.wsPort,\n    wssPort: opts.wssPort || Defaults.wssPort,\n\n    enableStats: getEnableStatsConfig(opts),\n    httpHost: getHttpHost(opts),\n    useTLS: shouldUseTLS(opts),\n    wsHost: getWebsocketHost(opts),\n\n    userAuthenticator: buildUserAuthenticator(opts),\n    channelAuthorizer: buildChannelAuthorizer(opts, pusher)\n  };\n\n  if ('disabledTransports' in opts)\n    config.disabledTransports = opts.disabledTransports;\n  if ('enabledTransports' in opts)\n    config.enabledTransports = opts.enabledTransports;\n  if ('ignoreNullOrigin' in opts)\n    config.ignoreNullOrigin = opts.ignoreNullOrigin;\n  if ('timelineParams' in opts) config.timelineParams = opts.timelineParams;\n  if ('nacl' in opts) {\n    config.nacl = opts.nacl;\n  }\n\n  return config;\n}\n\nfunction getHttpHost(opts: Options): string {\n  if (opts.httpHost) {\n    return opts.httpHost;\n  }\n  if (opts.cluster) {\n    return `sockjs-${opts.cluster}.pusher.com`;\n  }\n  return Defaults.httpHost;\n}\n\nfunction getWebsocketHost(opts: Options): string {\n  if (opts.wsHost) {\n    return opts.wsHost;\n  }\n  if (opts.cluster) {\n    return getWebsocketHostFromCluster(opts.cluster);\n  }\n  return getWebsocketHostFromCluster(Defaults.cluster);\n}\n\nfunction getWebsocketHostFromCluster(cluster: string): string {\n  return `ws-${cluster}.pusher.com`;\n}\n\nfunction shouldUseTLS(opts: Options): boolean {\n  if (Runtime.getProtocol() === 'https:') {\n    return true;\n  } else if (opts.forceTLS === false) {\n    return false;\n  }\n  return true;\n}\n\n// if enableStats is set take the value\n// if disableStats is set take the inverse\n// otherwise default to false\nfunction getEnableStatsConfig(opts: Options): boolean {\n  if ('enableStats' in opts) {\n    return opts.enableStats;\n  }\n  if ('disableStats' in opts) {\n    return !opts.disableStats;\n  }\n  return false;\n}\n\nfunction buildUserAuthenticator(opts: Options): UserAuthenticationHandler {\n  const userAuthentication = {\n    ...Defaults.userAuthentication,\n    ...opts.userAuthentication\n  };\n  if (\n    'customHandler' in userAuthentication &&\n    userAuthentication['customHandler'] != null\n  ) {\n    return userAuthentication['customHandler'];\n  }\n\n  return UserAuthenticator(userAuthentication);\n}\n\nfunction buildChannelAuth(opts: Options, pusher): ChannelAuthorizationOptions {\n  let channelAuthorization: ChannelAuthorizationOptions;\n  if ('channelAuthorization' in opts) {\n    channelAuthorization = {\n      ...Defaults.channelAuthorization,\n      ...opts.channelAuthorization\n    };\n  } else {\n    channelAuthorization = {\n      transport: opts.authTransport || Defaults.authTransport,\n      endpoint: opts.authEndpoint || Defaults.authEndpoint\n    };\n    if ('auth' in opts) {\n      if ('params' in opts.auth) channelAuthorization.params = opts.auth.params;\n      if ('headers' in opts.auth)\n        channelAuthorization.headers = opts.auth.headers;\n    }\n    if ('authorizer' in opts)\n      channelAuthorization.customHandler = ChannelAuthorizerProxy(\n        pusher,\n        channelAuthorization,\n        opts.authorizer\n      );\n  }\n  return channelAuthorization;\n}\n\nfunction buildChannelAuthorizer(\n  opts: Options,\n  pusher\n): ChannelAuthorizationHandler {\n  const channelAuthorization = buildChannelAuth(opts, pusher);\n  if (\n    'customHandler' in channelAuthorization &&\n    channelAuthorization['customHandler'] != null\n  ) {\n    return channelAuthorization['customHandler'];\n  }\n\n  return ChannelAuthorizer(channelAuthorization);\n}\n","import Logger from './logger';\nimport Pusher from './pusher';\nimport EventsDispatcher from './events/dispatcher';\n\nexport default class WatchlistFacade extends EventsDispatcher {\n  private pusher: Pusher;\n\n  public constructor(pusher: Pusher) {\n    super(function(eventName, data) {\n      Logger.debug(`No callbacks on watchlist events for ${eventName}`);\n    });\n\n    this.pusher = pusher;\n    this.bindWatchlistInternalEvent();\n  }\n\n  handleEvent(pusherEvent) {\n    pusherEvent.data.events.forEach(watchlistEvent => {\n      this.emit(watchlistEvent.name, watchlistEvent);\n    });\n  }\n\n  private bindWatchlistInternalEvent() {\n    this.pusher.connection.bind('message', pusherEvent => {\n      var eventName = pusherEvent.event;\n      if (eventName === 'pusher_internal:watchlist_events') {\n        this.handleEvent(pusherEvent);\n      }\n    });\n  }\n}\n","function flatPromise() {\n  let resolve, reject;\n  const promise = new Promise((res, rej) => {\n    resolve = res;\n    reject = rej;\n  });\n  return { promise, resolve, reject };\n}\n\nexport default flatPromise;\n","import Pusher from './pusher';\nimport Logger from './logger';\nimport {\n  UserAuthenticationData,\n  UserAuthenticationCallback\n} from './auth/options';\nimport Channel from './channels/channel';\nimport WatchlistFacade from './watchlist';\nimport EventsDispatcher from './events/dispatcher';\nimport flatPromise from './utils/flat_promise';\n\nexport default class UserFacade extends EventsDispatcher {\n  pusher: Pusher;\n  signin_requested: boolean = false;\n  user_data: any = null;\n  serverToUserChannel: Channel = null;\n  signinDonePromise: Promise<any> = null;\n  watchlist: WatchlistFacade;\n  private _signinDoneResolve: Function = null;\n\n  public constructor(pusher: Pusher) {\n    super(function(eventName, data) {\n      Logger.debug('No callbacks on user for ' + eventName);\n    });\n    this.pusher = pusher;\n    this.pusher.connection.bind('state_change', ({ previous, current }) => {\n      if (previous !== 'connected' && current === 'connected') {\n        this._signin();\n      }\n      if (previous === 'connected' && current !== 'connected') {\n        this._cleanup();\n        this._newSigninPromiseIfNeeded();\n      }\n    });\n\n    this.watchlist = new WatchlistFacade(pusher);\n\n    this.pusher.connection.bind('message', event => {\n      var eventName = event.event;\n      if (eventName === 'pusher:signin_success') {\n        this._onSigninSuccess(event.data);\n      }\n      if (\n        this.serverToUserChannel &&\n        this.serverToUserChannel.name === event.channel\n      ) {\n        this.serverToUserChannel.handleEvent(event);\n      }\n    });\n  }\n\n  public signin() {\n    if (this.signin_requested) {\n      return;\n    }\n\n    this.signin_requested = true;\n    this._signin();\n  }\n\n  private _signin() {\n    if (!this.signin_requested) {\n      return;\n    }\n\n    this._newSigninPromiseIfNeeded();\n\n    if (this.pusher.connection.state !== 'connected') {\n      // Signin will be attempted when the connection is connected\n      return;\n    }\n\n    this.pusher.config.userAuthenticator(\n      {\n        socketId: this.pusher.connection.socket_id\n      },\n      this._onAuthorize\n    );\n  }\n\n  private _onAuthorize: UserAuthenticationCallback = (\n    err,\n    authData: UserAuthenticationData\n  ) => {\n    if (err) {\n      Logger.warn(`Error during signin: ${err}`);\n      this._cleanup();\n      return;\n    }\n\n    this.pusher.send_event('pusher:signin', {\n      auth: authData.auth,\n      user_data: authData.user_data\n    });\n\n    // Later when we get pusher:singin_success event, the user will be marked as signed in\n  };\n\n  private _onSigninSuccess(data: any) {\n    try {\n      this.user_data = JSON.parse(data.user_data);\n    } catch (e) {\n      Logger.error(`Failed parsing user data after signin: ${data.user_data}`);\n      this._cleanup();\n      return;\n    }\n\n    if (typeof this.user_data.id !== 'string' || this.user_data.id === '') {\n      Logger.error(\n        `user_data doesn't contain an id. user_data: ${this.user_data}`\n      );\n      this._cleanup();\n      return;\n    }\n\n    // Signin succeeded\n    this._signinDoneResolve();\n    this._subscribeChannels();\n  }\n\n  private _subscribeChannels() {\n    const ensure_subscribed = channel => {\n      if (channel.subscriptionPending && channel.subscriptionCancelled) {\n        channel.reinstateSubscription();\n      } else if (\n        !channel.subscriptionPending &&\n        this.pusher.connection.state === 'connected'\n      ) {\n        channel.subscribe();\n      }\n    };\n\n    this.serverToUserChannel = new Channel(\n      `#server-to-user-${this.user_data.id}`,\n      this.pusher\n    );\n    this.serverToUserChannel.bind_global((eventName, data) => {\n      if (\n        eventName.indexOf('pusher_internal:') === 0 ||\n        eventName.indexOf('pusher:') === 0\n      ) {\n        // ignore internal events\n        return;\n      }\n      this.emit(eventName, data);\n    });\n    ensure_subscribed(this.serverToUserChannel);\n  }\n\n  private _cleanup() {\n    this.user_data = null;\n    if (this.serverToUserChannel) {\n      this.serverToUserChannel.unbind_all();\n      this.serverToUserChannel.disconnect();\n      this.serverToUserChannel = null;\n    }\n\n    if (this.signin_requested) {\n      // If signin is in progress and cleanup is called,\n      // Mark the current signin process as done.\n      this._signinDoneResolve();\n    }\n  }\n\n  private _newSigninPromiseIfNeeded() {\n    if (!this.signin_requested) {\n      return;\n    }\n\n    // If there is a promise and it is not resolved, return without creating a new one.\n    if (this.signinDonePromise && !(this.signinDonePromise as any).done) {\n      return;\n    }\n\n    // This promise is never rejected.\n    // It gets resolved when the signin process is done whether it failed or succeeded\n    const { promise, resolve, reject: _ } = flatPromise();\n    (promise as any).done = false;\n    const setDone = () => {\n      (promise as any).done = true;\n    };\n    promise.then(setDone).catch(setDone);\n    this.signinDonePromise = promise;\n    this._signinDoneResolve = resolve;\n  }\n}\n","import AbstractRuntime from '../runtimes/interface';\nimport Runtime from 'runtime';\nimport Util from './util';\nimport * as Collections from './utils/collections';\nimport Channels from './channels/channels';\nimport Channel from './channels/channel';\nimport { default as EventsDispatcher } from './events/dispatcher';\nimport Timeline from './timeline/timeline';\nimport TimelineSender from './timeline/timeline_sender';\nimport TimelineLevel from './timeline/level';\nimport { defineTransport } from './strategies/strategy_builder';\nimport ConnectionManager from './connection/connection_manager';\nimport ConnectionManagerOptions from './connection/connection_manager_options';\nimport { PeriodicTimer } from './utils/timers';\nimport Defaults from './defaults';\nimport * as DefaultConfig from './config';\nimport Logger from './logger';\nimport Factory from './utils/factory';\nimport UrlStore from 'core/utils/url_store';\nimport { Options } from './options';\nimport { Config, getConfig } from './config';\nimport StrategyOptions from './strategies/strategy_options';\nimport UserFacade from './user';\n\nexport default class Pusher {\n  /*  STATIC PROPERTIES */\n  static instances: Pusher[] = [];\n  static isReady: boolean = false;\n  static logToConsole: boolean = false;\n\n  // for jsonp\n  static Runtime: AbstractRuntime = Runtime;\n  static ScriptReceivers: any = (<any>Runtime).ScriptReceivers;\n  static DependenciesReceivers: any = (<any>Runtime).DependenciesReceivers;\n  static auth_callbacks: any = (<any>Runtime).auth_callbacks;\n\n  static ready() {\n    Pusher.isReady = true;\n    for (var i = 0, l = Pusher.instances.length; i < l; i++) {\n      Pusher.instances[i].connect();\n    }\n  }\n\n  static log: (message: any) => void;\n\n  private static getClientFeatures(): string[] {\n    return Collections.keys(\n      Collections.filterObject({ ws: Runtime.Transports.ws }, function(t) {\n        return t.isSupported({});\n      })\n    );\n  }\n\n  /* INSTANCE PROPERTIES */\n  key: string;\n  config: Config;\n  channels: Channels;\n  global_emitter: EventsDispatcher;\n  sessionID: number;\n  timeline: Timeline;\n  timelineSender: TimelineSender;\n  connection: ConnectionManager;\n  timelineSenderTimer: PeriodicTimer;\n  user: UserFacade;\n  constructor(app_key: string, options?: Options) {\n    checkAppKey(app_key);\n    options = options || {};\n    if (!options.cluster && !(options.wsHost || options.httpHost)) {\n      let suffix = UrlStore.buildLogSuffix('javascriptQuickStart');\n      Logger.warn(\n        `You should always specify a cluster when connecting. ${suffix}`\n      );\n    }\n    if ('disableStats' in options) {\n      Logger.warn(\n        'The disableStats option is deprecated in favor of enableStats'\n      );\n    }\n\n    this.key = app_key;\n    this.config = getConfig(options, this);\n\n    this.channels = Factory.createChannels();\n    this.global_emitter = new EventsDispatcher();\n    this.sessionID = Runtime.randomInt(1000000000);\n\n    this.timeline = new Timeline(this.key, this.sessionID, {\n      cluster: this.config.cluster,\n      features: Pusher.getClientFeatures(),\n      params: this.config.timelineParams || {},\n      limit: 50,\n      level: TimelineLevel.INFO,\n      version: Defaults.VERSION\n    });\n    if (this.config.enableStats) {\n      this.timelineSender = Factory.createTimelineSender(this.timeline, {\n        host: this.config.statsHost,\n        path: '/timeline/v2/' + Runtime.TimelineTransport.name\n      });\n    }\n\n    var getStrategy = (options: StrategyOptions) => {\n      return Runtime.getDefaultStrategy(this.config, options, defineTransport);\n    };\n\n    this.connection = Factory.createConnectionManager(this.key, {\n      getStrategy: getStrategy,\n      timeline: this.timeline,\n      activityTimeout: this.config.activityTimeout,\n      pongTimeout: this.config.pongTimeout,\n      unavailableTimeout: this.config.unavailableTimeout,\n      useTLS: Boolean(this.config.useTLS)\n    });\n\n    this.connection.bind('connected', () => {\n      this.subscribeAll();\n      if (this.timelineSender) {\n        this.timelineSender.send(this.connection.isUsingTLS());\n      }\n    });\n\n    this.connection.bind('message', event => {\n      var eventName = event.event;\n      var internal = eventName.indexOf('pusher_internal:') === 0;\n      if (event.channel) {\n        var channel = this.channel(event.channel);\n        if (channel) {\n          channel.handleEvent(event);\n        }\n      }\n      // Emit globally [deprecated]\n      if (!internal) {\n        this.global_emitter.emit(event.event, event.data);\n      }\n    });\n    this.connection.bind('connecting', () => {\n      this.channels.disconnect();\n    });\n    this.connection.bind('disconnected', () => {\n      this.channels.disconnect();\n    });\n    this.connection.bind('error', err => {\n      Logger.warn(err);\n    });\n\n    Pusher.instances.push(this);\n    this.timeline.info({ instances: Pusher.instances.length });\n\n    this.user = new UserFacade(this);\n\n    if (Pusher.isReady) {\n      this.connect();\n    }\n  }\n\n  channel(name: string): Channel {\n    return this.channels.find(name);\n  }\n\n  allChannels(): Channel[] {\n    return this.channels.all();\n  }\n\n  connect() {\n    this.connection.connect();\n\n    if (this.timelineSender) {\n      if (!this.timelineSenderTimer) {\n        var usingTLS = this.connection.isUsingTLS();\n        var timelineSender = this.timelineSender;\n        this.timelineSenderTimer = new PeriodicTimer(60000, function() {\n          timelineSender.send(usingTLS);\n        });\n      }\n    }\n  }\n\n  disconnect() {\n    this.connection.disconnect();\n\n    if (this.timelineSenderTimer) {\n      this.timelineSenderTimer.ensureAborted();\n      this.timelineSenderTimer = null;\n    }\n  }\n\n  bind(event_name: string, callback: Function, context?: any): Pusher {\n    this.global_emitter.bind(event_name, callback, context);\n    return this;\n  }\n\n  unbind(event_name?: string, callback?: Function, context?: any): Pusher {\n    this.global_emitter.unbind(event_name, callback, context);\n    return this;\n  }\n\n  bind_global(callback: Function): Pusher {\n    this.global_emitter.bind_global(callback);\n    return this;\n  }\n\n  unbind_global(callback?: Function): Pusher {\n    this.global_emitter.unbind_global(callback);\n    return this;\n  }\n\n  unbind_all(callback?: Function): Pusher {\n    this.global_emitter.unbind_all();\n    return this;\n  }\n\n  subscribeAll() {\n    var channelName;\n    for (channelName in this.channels.channels) {\n      if (this.channels.channels.hasOwnProperty(channelName)) {\n        this.subscribe(channelName);\n      }\n    }\n  }\n\n  subscribe(channel_name: string) {\n    var channel = this.channels.add(channel_name, this);\n    if (channel.subscriptionPending && channel.subscriptionCancelled) {\n      channel.reinstateSubscription();\n    } else if (\n      !channel.subscriptionPending &&\n      this.connection.state === 'connected'\n    ) {\n      channel.subscribe();\n    }\n    return channel;\n  }\n\n  unsubscribe(channel_name: string) {\n    var channel = this.channels.find(channel_name);\n    if (channel && channel.subscriptionPending) {\n      channel.cancelSubscription();\n    } else {\n      channel = this.channels.remove(channel_name);\n      if (channel && channel.subscribed) {\n        channel.unsubscribe();\n      }\n    }\n  }\n\n  send_event(event_name: string, data: any, channel?: string) {\n    return this.connection.send_event(event_name, data, channel);\n  }\n\n  shouldUseTLS(): boolean {\n    return this.config.useTLS;\n  }\n\n  signin() {\n    this.user.signin();\n  }\n}\n\nfunction checkAppKey(key) {\n  if (key === null || key === undefined) {\n    throw 'You must pass your app key when you instantiate Pusher.';\n  }\n}\n\nRuntime.setup(Pusher);\n","<template>\n  <link rel=\"preconnect\" href=\"https://fonts.googleapis.com\">\n  <link rel=\"preconnect\" href=\"https://fonts.gstatic.com\" crossorigin>\n  <link href=\"https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&display=swap\" rel=\"stylesheet\">\n  <header class=\"header\">\n    <div class=\"ui-container\">\n      <div class=\"header__panel\">\n\n        <a class=\"header__logo-wrapper\">\n          <div class=\"header__logo\"></div>\n          <div class=\"header__logo-text ui-text-body--1 ui-text--bold\">Время книг</div>\n        </a>\n        <div class=\"header__search-wrapper\"></div>\n        <!-- <div class=\"header__actions-auth\">\n          <button class=\"header__actions-auth-button ui-button ui-button-view--3 ui-button-size--32\">Войти</button>\n          <button class=\"header__actions-auth-button ui-button ui-button-view--2 ui-button-size--32\">Зарегистрироваться</button>\n        </div> -->\n        <div class=\"header__actions\">\n          <div class=\"header__actions-wrapper\">\n            <div class=\"header__actions-item\" data-header-action=\"message\">\n\n              <div class=\"ui-label-number _red\">412</div>\n            </div>\n\n          </div>\n          <div class=\"header__actions-wrapper\">\n            <div class=\"header__actions-item\" data-header-action=\"notifications\">\n\n              <div class=\"ui-label-number _red\">4</div>\n            </div>\n\n          </div>\n          <div class=\"header__actions-wrapper\">\n            <div class=\"header__actions-item\">\n\n            </div>\n          </div>\n          <div class=\"header__actions-wrapper\">\n            <div class=\"header__actions-item\" data-header-action=\"wallet\">\n\n              <div class=\"ui-text--medium\">16 500 ₽</div>\n            </div>\n\n          </div>\n          <div class=\"header__actions-wrapper\">\n            <div class=\"header__actions-item-logo\" data-header-action=\"profile\">\n\n            </div>\n\n\n          </div>\n        </div>\n        <svg class=\"header__menu-search square-24\">\n\n        </svg>\n      </div>\n      <nav class=\"header__nav nav\">\n        <ul class=\"nav__list\">\n          <li class=\"nav__list-item _dropdown\">\n            <a class=\"ui-text--medium nav__link _dropdown\" href=\"#\">\n              <span>Книги</span>\n\n            </a>\n\n            <!-- dropdown -->\n            <div class=\"dropdown-books\">\n              <div class=\"dropdown-books__content\">\n                <div class=\"book-type _separate\">\n                  <a href=\"./listing.html\" class=\"book-type__item\">\n                    <div class=\"book-type__icon-wrapper\">\n\n                    </div>\n                    <div class=\"book-type__text ui-text--medium\">Все книги</div>\n                  </a>\n                  <a href=\"#\" class=\"book-type__item\">\n                    <div class=\"book-type__icon-wrapper\">\n\n                    </div>\n                    <div class=\"book-type__text ui-text--medium\">Электронные</div>\n                  </a>\n                  <a href=\"#\" class=\"book-type__item\">\n                    <div class=\"book-type__icon-wrapper\">\n\n                    </div>\n                    <div class=\"book-type__text ui-text--medium\">Аудио</div>\n                  </a>\n                  <a href=\"#\" class=\"book-type__item\">\n                    <div class=\"book-type__icon-wrapper\">\n\n                    </div>\n                    <div class=\"book-type__text ui-text--medium\">Бумажные</div>\n                  </a>\n                  <a href=\"#\" class=\"book-type__item\">\n                    <div class=\"book-type__icon-wrapper\">\n\n                    </div>\n                    <div class=\"book-type__text ui-text--medium\">Комиксы</div>\n                  </a>\n                </div>\n                <div class=\"menu-book-genres\">\n                  <div class=\"menu-book-genres__title ui-text-head--3 ui-text--bold\">Жанры</div>\n                  <ul class=\"menu-book-genres__list\">\n                    <li><a href=\"#\" class=\"menu-book-genres__item ui-text--medium\">Фэнтези</a>\n                    </li>\n                    <li><a href=\"#\" class=\"menu-book-genres__item ui-text--medium\">Попаданцы</a>\n                    </li>\n                    <li><a href=\"#\" class=\"menu-book-genres__item ui-text--medium\">Космос</a>\n                    </li>\n                    <li><a href=\"#\" class=\"menu-book-genres__item ui-text--medium\">Проза</a>\n                    </li>\n                    <li><a href=\"#\" class=\"menu-book-genres__item ui-text--medium\">Мистика</a>\n                    </li>\n                    <li><a href=\"#\"\n                           class=\"menu-book-genres__item ui-text--medium\">Бояръ-аниме</a></li>\n                    <li><a href=\"#\" class=\"menu-book-genres__item ui-text--medium\">Неформат</a>\n                    </li>\n                    <li><a href=\"#\" class=\"menu-book-genres__item ui-text--medium\">Поэзия</a>\n                    </li>\n                    <li><a href=\"#\"\n                           class=\"menu-book-genres__item ui-text--medium\">Фантастика</a></li>\n                    <li><a href=\"#\" class=\"menu-book-genres__item ui-text--medium\">18+</a></li>\n                    <li><a href=\"#\" class=\"menu-book-genres__item ui-text--medium\">Фанфик</a>\n                    </li>\n                    <li><a href=\"#\" class=\"menu-book-genres__item ui-text--medium\">Детское</a>\n                    </li>\n                    <li><a href=\"#\" class=\"menu-book-genres__item ui-text--medium\">Ужасы</a>\n                    </li>\n                    <li><a href=\"#\" class=\"menu-book-genres__item ui-text--medium\">Сказка</a>\n                    </li>\n                    <li><a href=\"#\" class=\"menu-book-genres__item ui-text--medium\">Уся</a></li>\n                    <li><a href=\"#\" class=\"menu-book-genres__item ui-text--medium\">Романы</a>\n                    </li>\n                    <li><a href=\"#\" class=\"menu-book-genres__item ui-text--medium\">Детективы</a>\n                    </li>\n                    <li><a href=\"#\" class=\"menu-book-genres__item ui-text--medium\">РПГ</a></li>\n                    <li><a href=\"#\" class=\"menu-book-genres__item ui-text--medium\">Триллер</a>\n                    </li>\n                    <li><a href=\"#\" class=\"menu-book-genres__item ui-text--medium\">Янг-эдалт</a>\n                    </li>\n                    <li><a href=\"#\" class=\"menu-book-genres__item ui-text--medium\">Драма</a>\n                    </li>\n                    <li><a href=\"#\" class=\"menu-book-genres__item ui-text--medium\">Магический\n                      реализм</a></li>\n                  </ul>\n                  <a href=\"./all-books.html\" class=\"menu-book-genres__more\">\n\n                    <span class=\"ui-text--medium\">Полный список жанров</span>\n                  </a>\n                </div>\n              </div>\n            </div>\n          </li>\n          <li class=\"nav__list-item\"><a href=\"\" class=\"ui-text--medium nav__link\">Конкурсы</a></li>\n          <li class=\"nav__list-item\"><a href=\"./library.html\" class=\"ui-text--medium nav__link\">Моя\n            библиотека</a></li>\n          <li class=\"nav__list-item\"><a href=\"\" class=\"ui-text--medium nav__link\">Магазин</a></li>\n          <li class=\"nav__list-item\"><a href=\"\" class=\"ui-text--medium nav__link\">Чат</a></li>\n          <li class=\"nav__list-item\"><a href=\"\" class=\"ui-text--medium nav__link\">Реклама</a></li>\n        </ul>\n      </nav>\n    </div>\n  </header>\n  <slot></slot>\n</template>\n\n<script>\nimport echo from './../../../../assets/js/echo' // inject window.Echo\nexport default {\n  name: \"DevelopmentTemplate\"\n}\n</script>\n<style scoped>\n@import \"./../../../../assets/css/main.min.css\";\n</style>\n","function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n  }, _typeof(obj);\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  Object.defineProperty(subClass, \"prototype\", {\n    writable: false\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (typeof call === \"object\" || typeof call === \"function\")) {\n    return call;\n  } else if (call !== void 0) {\n    throw new TypeError(\"Derived constructors may only return object or undefined\");\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function _createSuperInternal() {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\n/**\r\n * This class represents a basic channel.\r\n */\nvar Channel = /*#__PURE__*/function () {\n  function Channel() {\n    _classCallCheck(this, Channel);\n  }\n\n  _createClass(Channel, [{\n    key: \"listenForWhisper\",\n    value:\n    /**\r\n     * Listen for a whisper event on the channel instance.\r\n     */\n    function listenForWhisper(event, callback) {\n      return this.listen('.client-' + event, callback);\n    }\n    /**\r\n     * Listen for an event on the channel instance.\r\n     */\n\n  }, {\n    key: \"notification\",\n    value: function notification(callback) {\n      return this.listen('.Illuminate\\\\Notifications\\\\Events\\\\BroadcastNotificationCreated', callback);\n    }\n    /**\r\n     * Stop listening for a whisper event on the channel instance.\r\n     */\n\n  }, {\n    key: \"stopListeningForWhisper\",\n    value: function stopListeningForWhisper(event, callback) {\n      return this.stopListening('.client-' + event, callback);\n    }\n  }]);\n\n  return Channel;\n}();\n\n/**\r\n * Event name formatter\r\n */\nvar EventFormatter = /*#__PURE__*/function () {\n  /**\r\n   * Create a new class instance.\r\n   */\n  function EventFormatter(namespace) {\n    _classCallCheck(this, EventFormatter);\n\n    this.namespace = namespace; //\n  }\n  /**\r\n   * Format the given event name.\r\n   */\n\n\n  _createClass(EventFormatter, [{\n    key: \"format\",\n    value: function format(event) {\n      if (event.charAt(0) === '.' || event.charAt(0) === '\\\\') {\n        return event.substr(1);\n      } else if (this.namespace) {\n        event = this.namespace + '.' + event;\n      }\n\n      return event.replace(/\\./g, '\\\\');\n    }\n    /**\r\n     * Set the event namespace.\r\n     */\n\n  }, {\n    key: \"setNamespace\",\n    value: function setNamespace(value) {\n      this.namespace = value;\n    }\n  }]);\n\n  return EventFormatter;\n}();\n\n/**\r\n * This class represents a Pusher channel.\r\n */\n\nvar PusherChannel = /*#__PURE__*/function (_Channel) {\n  _inherits(PusherChannel, _Channel);\n\n  var _super = _createSuper(PusherChannel);\n\n  /**\r\n   * Create a new class instance.\r\n   */\n  function PusherChannel(pusher, name, options) {\n    var _this;\n\n    _classCallCheck(this, PusherChannel);\n\n    _this = _super.call(this);\n    _this.name = name;\n    _this.pusher = pusher;\n    _this.options = options;\n    _this.eventFormatter = new EventFormatter(_this.options.namespace);\n\n    _this.subscribe();\n\n    return _this;\n  }\n  /**\r\n   * Subscribe to a Pusher channel.\r\n   */\n\n\n  _createClass(PusherChannel, [{\n    key: \"subscribe\",\n    value: function subscribe() {\n      this.subscription = this.pusher.subscribe(this.name);\n    }\n    /**\r\n     * Unsubscribe from a Pusher channel.\r\n     */\n\n  }, {\n    key: \"unsubscribe\",\n    value: function unsubscribe() {\n      this.pusher.unsubscribe(this.name);\n    }\n    /**\r\n     * Listen for an event on the channel instance.\r\n     */\n\n  }, {\n    key: \"listen\",\n    value: function listen(event, callback) {\n      this.on(this.eventFormatter.format(event), callback);\n      return this;\n    }\n    /**\r\n     * Listen for all events on the channel instance.\r\n     */\n\n  }, {\n    key: \"listenToAll\",\n    value: function listenToAll(callback) {\n      var _this2 = this;\n\n      this.subscription.bind_global(function (event, data) {\n        if (event.startsWith('pusher:')) {\n          return;\n        }\n\n        var namespace = _this2.options.namespace.replace(/\\./g, '\\\\');\n\n        var formattedEvent = event.startsWith(namespace) ? event.substring(namespace.length + 1) : '.' + event;\n        callback(formattedEvent, data);\n      });\n      return this;\n    }\n    /**\r\n     * Stop listening for an event on the channel instance.\r\n     */\n\n  }, {\n    key: \"stopListening\",\n    value: function stopListening(event, callback) {\n      if (callback) {\n        this.subscription.unbind(this.eventFormatter.format(event), callback);\n      } else {\n        this.subscription.unbind(this.eventFormatter.format(event));\n      }\n\n      return this;\n    }\n    /**\r\n     * Stop listening for all events on the channel instance.\r\n     */\n\n  }, {\n    key: \"stopListeningToAll\",\n    value: function stopListeningToAll(callback) {\n      if (callback) {\n        this.subscription.unbind_global(callback);\n      } else {\n        this.subscription.unbind_global();\n      }\n\n      return this;\n    }\n    /**\r\n     * Register a callback to be called anytime a subscription succeeds.\r\n     */\n\n  }, {\n    key: \"subscribed\",\n    value: function subscribed(callback) {\n      this.on('pusher:subscription_succeeded', function () {\n        callback();\n      });\n      return this;\n    }\n    /**\r\n     * Register a callback to be called anytime a subscription error occurs.\r\n     */\n\n  }, {\n    key: \"error\",\n    value: function error(callback) {\n      this.on('pusher:subscription_error', function (status) {\n        callback(status);\n      });\n      return this;\n    }\n    /**\r\n     * Bind a channel to an event.\r\n     */\n\n  }, {\n    key: \"on\",\n    value: function on(event, callback) {\n      this.subscription.bind(event, callback);\n      return this;\n    }\n  }]);\n\n  return PusherChannel;\n}(Channel);\n\n/**\r\n * This class represents a Pusher private channel.\r\n */\n\nvar PusherPrivateChannel = /*#__PURE__*/function (_PusherChannel) {\n  _inherits(PusherPrivateChannel, _PusherChannel);\n\n  var _super = _createSuper(PusherPrivateChannel);\n\n  function PusherPrivateChannel() {\n    _classCallCheck(this, PusherPrivateChannel);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(PusherPrivateChannel, [{\n    key: \"whisper\",\n    value:\n    /**\r\n     * Send a whisper event to other clients in the channel.\r\n     */\n    function whisper(eventName, data) {\n      this.pusher.channels.channels[this.name].trigger(\"client-\".concat(eventName), data);\n      return this;\n    }\n  }]);\n\n  return PusherPrivateChannel;\n}(PusherChannel);\n\n/**\r\n * This class represents a Pusher private channel.\r\n */\n\nvar PusherEncryptedPrivateChannel = /*#__PURE__*/function (_PusherChannel) {\n  _inherits(PusherEncryptedPrivateChannel, _PusherChannel);\n\n  var _super = _createSuper(PusherEncryptedPrivateChannel);\n\n  function PusherEncryptedPrivateChannel() {\n    _classCallCheck(this, PusherEncryptedPrivateChannel);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(PusherEncryptedPrivateChannel, [{\n    key: \"whisper\",\n    value:\n    /**\r\n     * Send a whisper event to other clients in the channel.\r\n     */\n    function whisper(eventName, data) {\n      this.pusher.channels.channels[this.name].trigger(\"client-\".concat(eventName), data);\n      return this;\n    }\n  }]);\n\n  return PusherEncryptedPrivateChannel;\n}(PusherChannel);\n\n/**\r\n * This class represents a Pusher presence channel.\r\n */\n\nvar PusherPresenceChannel = /*#__PURE__*/function (_PusherChannel) {\n  _inherits(PusherPresenceChannel, _PusherChannel);\n\n  var _super = _createSuper(PusherPresenceChannel);\n\n  function PusherPresenceChannel() {\n    _classCallCheck(this, PusherPresenceChannel);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(PusherPresenceChannel, [{\n    key: \"here\",\n    value:\n    /**\r\n     * Register a callback to be called anytime the member list changes.\r\n     */\n    function here(callback) {\n      this.on('pusher:subscription_succeeded', function (data) {\n        callback(Object.keys(data.members).map(function (k) {\n          return data.members[k];\n        }));\n      });\n      return this;\n    }\n    /**\r\n     * Listen for someone joining the channel.\r\n     */\n\n  }, {\n    key: \"joining\",\n    value: function joining(callback) {\n      this.on('pusher:member_added', function (member) {\n        callback(member.info);\n      });\n      return this;\n    }\n    /**\r\n     * Send a whisper event to other clients in the channel.\r\n     */\n\n  }, {\n    key: \"whisper\",\n    value: function whisper(eventName, data) {\n      this.pusher.channels.channels[this.name].trigger(\"client-\".concat(eventName), data);\n      return this;\n    }\n    /**\r\n     * Listen for someone leaving the channel.\r\n     */\n\n  }, {\n    key: \"leaving\",\n    value: function leaving(callback) {\n      this.on('pusher:member_removed', function (member) {\n        callback(member.info);\n      });\n      return this;\n    }\n  }]);\n\n  return PusherPresenceChannel;\n}(PusherChannel);\n\n/**\r\n * This class represents a Socket.io channel.\r\n */\n\nvar SocketIoChannel = /*#__PURE__*/function (_Channel) {\n  _inherits(SocketIoChannel, _Channel);\n\n  var _super = _createSuper(SocketIoChannel);\n\n  /**\r\n   * Create a new class instance.\r\n   */\n  function SocketIoChannel(socket, name, options) {\n    var _this;\n\n    _classCallCheck(this, SocketIoChannel);\n\n    _this = _super.call(this);\n    /**\r\n     * The event callbacks applied to the socket.\r\n     */\n\n    _this.events = {};\n    /**\r\n     * User supplied callbacks for events on this channel.\r\n     */\n\n    _this.listeners = {};\n    _this.name = name;\n    _this.socket = socket;\n    _this.options = options;\n    _this.eventFormatter = new EventFormatter(_this.options.namespace);\n\n    _this.subscribe();\n\n    return _this;\n  }\n  /**\r\n   * Subscribe to a Socket.io channel.\r\n   */\n\n\n  _createClass(SocketIoChannel, [{\n    key: \"subscribe\",\n    value: function subscribe() {\n      this.socket.emit('subscribe', {\n        channel: this.name,\n        auth: this.options.auth || {}\n      });\n    }\n    /**\r\n     * Unsubscribe from channel and ubind event callbacks.\r\n     */\n\n  }, {\n    key: \"unsubscribe\",\n    value: function unsubscribe() {\n      this.unbind();\n      this.socket.emit('unsubscribe', {\n        channel: this.name,\n        auth: this.options.auth || {}\n      });\n    }\n    /**\r\n     * Listen for an event on the channel instance.\r\n     */\n\n  }, {\n    key: \"listen\",\n    value: function listen(event, callback) {\n      this.on(this.eventFormatter.format(event), callback);\n      return this;\n    }\n    /**\r\n     * Stop listening for an event on the channel instance.\r\n     */\n\n  }, {\n    key: \"stopListening\",\n    value: function stopListening(event, callback) {\n      this.unbindEvent(this.eventFormatter.format(event), callback);\n      return this;\n    }\n    /**\r\n     * Register a callback to be called anytime a subscription succeeds.\r\n     */\n\n  }, {\n    key: \"subscribed\",\n    value: function subscribed(callback) {\n      this.on('connect', function (socket) {\n        callback(socket);\n      });\n      return this;\n    }\n    /**\r\n     * Register a callback to be called anytime an error occurs.\r\n     */\n\n  }, {\n    key: \"error\",\n    value: function error(callback) {\n      return this;\n    }\n    /**\r\n     * Bind the channel's socket to an event and store the callback.\r\n     */\n\n  }, {\n    key: \"on\",\n    value: function on(event, callback) {\n      var _this2 = this;\n\n      this.listeners[event] = this.listeners[event] || [];\n\n      if (!this.events[event]) {\n        this.events[event] = function (channel, data) {\n          if (_this2.name === channel && _this2.listeners[event]) {\n            _this2.listeners[event].forEach(function (cb) {\n              return cb(data);\n            });\n          }\n        };\n\n        this.socket.on(event, this.events[event]);\n      }\n\n      this.listeners[event].push(callback);\n      return this;\n    }\n    /**\r\n     * Unbind the channel's socket from all stored event callbacks.\r\n     */\n\n  }, {\n    key: \"unbind\",\n    value: function unbind() {\n      var _this3 = this;\n\n      Object.keys(this.events).forEach(function (event) {\n        _this3.unbindEvent(event);\n      });\n    }\n    /**\r\n     * Unbind the listeners for the given event.\r\n     */\n\n  }, {\n    key: \"unbindEvent\",\n    value: function unbindEvent(event, callback) {\n      this.listeners[event] = this.listeners[event] || [];\n\n      if (callback) {\n        this.listeners[event] = this.listeners[event].filter(function (cb) {\n          return cb !== callback;\n        });\n      }\n\n      if (!callback || this.listeners[event].length === 0) {\n        if (this.events[event]) {\n          this.socket.removeListener(event, this.events[event]);\n          delete this.events[event];\n        }\n\n        delete this.listeners[event];\n      }\n    }\n  }]);\n\n  return SocketIoChannel;\n}(Channel);\n\n/**\r\n * This class represents a Socket.io private channel.\r\n */\n\nvar SocketIoPrivateChannel = /*#__PURE__*/function (_SocketIoChannel) {\n  _inherits(SocketIoPrivateChannel, _SocketIoChannel);\n\n  var _super = _createSuper(SocketIoPrivateChannel);\n\n  function SocketIoPrivateChannel() {\n    _classCallCheck(this, SocketIoPrivateChannel);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(SocketIoPrivateChannel, [{\n    key: \"whisper\",\n    value:\n    /**\r\n     * Send a whisper event to other clients in the channel.\r\n     */\n    function whisper(eventName, data) {\n      this.socket.emit('client event', {\n        channel: this.name,\n        event: \"client-\".concat(eventName),\n        data: data\n      });\n      return this;\n    }\n  }]);\n\n  return SocketIoPrivateChannel;\n}(SocketIoChannel);\n\n/**\r\n * This class represents a Socket.io presence channel.\r\n */\n\nvar SocketIoPresenceChannel = /*#__PURE__*/function (_SocketIoPrivateChann) {\n  _inherits(SocketIoPresenceChannel, _SocketIoPrivateChann);\n\n  var _super = _createSuper(SocketIoPresenceChannel);\n\n  function SocketIoPresenceChannel() {\n    _classCallCheck(this, SocketIoPresenceChannel);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(SocketIoPresenceChannel, [{\n    key: \"here\",\n    value:\n    /**\r\n     * Register a callback to be called anytime the member list changes.\r\n     */\n    function here(callback) {\n      this.on('presence:subscribed', function (members) {\n        callback(members.map(function (m) {\n          return m.user_info;\n        }));\n      });\n      return this;\n    }\n    /**\r\n     * Listen for someone joining the channel.\r\n     */\n\n  }, {\n    key: \"joining\",\n    value: function joining(callback) {\n      this.on('presence:joining', function (member) {\n        return callback(member.user_info);\n      });\n      return this;\n    }\n    /**\r\n     * Send a whisper event to other clients in the channel.\r\n     */\n\n  }, {\n    key: \"whisper\",\n    value: function whisper(eventName, data) {\n      this.socket.emit('client event', {\n        channel: this.name,\n        event: \"client-\".concat(eventName),\n        data: data\n      });\n      return this;\n    }\n    /**\r\n     * Listen for someone leaving the channel.\r\n     */\n\n  }, {\n    key: \"leaving\",\n    value: function leaving(callback) {\n      this.on('presence:leaving', function (member) {\n        return callback(member.user_info);\n      });\n      return this;\n    }\n  }]);\n\n  return SocketIoPresenceChannel;\n}(SocketIoPrivateChannel);\n\n/**\r\n * This class represents a null channel.\r\n */\n\nvar NullChannel = /*#__PURE__*/function (_Channel) {\n  _inherits(NullChannel, _Channel);\n\n  var _super = _createSuper(NullChannel);\n\n  function NullChannel() {\n    _classCallCheck(this, NullChannel);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(NullChannel, [{\n    key: \"subscribe\",\n    value:\n    /**\r\n     * Subscribe to a channel.\r\n     */\n    function subscribe() {//\n    }\n    /**\r\n     * Unsubscribe from a channel.\r\n     */\n\n  }, {\n    key: \"unsubscribe\",\n    value: function unsubscribe() {//\n    }\n    /**\r\n     * Listen for an event on the channel instance.\r\n     */\n\n  }, {\n    key: \"listen\",\n    value: function listen(event, callback) {\n      return this;\n    }\n    /**\r\n     * Listen for all events on the channel instance.\r\n     */\n\n  }, {\n    key: \"listenToAll\",\n    value: function listenToAll(callback) {\n      return this;\n    }\n    /**\r\n     * Stop listening for an event on the channel instance.\r\n     */\n\n  }, {\n    key: \"stopListening\",\n    value: function stopListening(event, callback) {\n      return this;\n    }\n    /**\r\n     * Register a callback to be called anytime a subscription succeeds.\r\n     */\n\n  }, {\n    key: \"subscribed\",\n    value: function subscribed(callback) {\n      return this;\n    }\n    /**\r\n     * Register a callback to be called anytime an error occurs.\r\n     */\n\n  }, {\n    key: \"error\",\n    value: function error(callback) {\n      return this;\n    }\n    /**\r\n     * Bind a channel to an event.\r\n     */\n\n  }, {\n    key: \"on\",\n    value: function on(event, callback) {\n      return this;\n    }\n  }]);\n\n  return NullChannel;\n}(Channel);\n\n/**\r\n * This class represents a null private channel.\r\n */\n\nvar NullPrivateChannel = /*#__PURE__*/function (_NullChannel) {\n  _inherits(NullPrivateChannel, _NullChannel);\n\n  var _super = _createSuper(NullPrivateChannel);\n\n  function NullPrivateChannel() {\n    _classCallCheck(this, NullPrivateChannel);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(NullPrivateChannel, [{\n    key: \"whisper\",\n    value:\n    /**\r\n     * Send a whisper event to other clients in the channel.\r\n     */\n    function whisper(eventName, data) {\n      return this;\n    }\n  }]);\n\n  return NullPrivateChannel;\n}(NullChannel);\n\n/**\r\n * This class represents a null presence channel.\r\n */\n\nvar NullPresenceChannel = /*#__PURE__*/function (_NullChannel) {\n  _inherits(NullPresenceChannel, _NullChannel);\n\n  var _super = _createSuper(NullPresenceChannel);\n\n  function NullPresenceChannel() {\n    _classCallCheck(this, NullPresenceChannel);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(NullPresenceChannel, [{\n    key: \"here\",\n    value:\n    /**\r\n     * Register a callback to be called anytime the member list changes.\r\n     */\n    function here(callback) {\n      return this;\n    }\n    /**\r\n     * Listen for someone joining the channel.\r\n     */\n\n  }, {\n    key: \"joining\",\n    value: function joining(callback) {\n      return this;\n    }\n    /**\r\n     * Send a whisper event to other clients in the channel.\r\n     */\n\n  }, {\n    key: \"whisper\",\n    value: function whisper(eventName, data) {\n      return this;\n    }\n    /**\r\n     * Listen for someone leaving the channel.\r\n     */\n\n  }, {\n    key: \"leaving\",\n    value: function leaving(callback) {\n      return this;\n    }\n  }]);\n\n  return NullPresenceChannel;\n}(NullChannel);\n\nvar Connector = /*#__PURE__*/function () {\n  /**\r\n   * Create a new class instance.\r\n   */\n  function Connector(options) {\n    _classCallCheck(this, Connector);\n\n    /**\r\n     * Default connector options.\r\n     */\n    this._defaultOptions = {\n      auth: {\n        headers: {}\n      },\n      authEndpoint: '/broadcasting/auth',\n      userAuthentication: {\n        endpoint: '/broadcasting/user-auth',\n        headers: {}\n      },\n      broadcaster: 'pusher',\n      csrfToken: null,\n      bearerToken: null,\n      host: null,\n      key: null,\n      namespace: 'App.Events'\n    };\n    this.setOptions(options);\n    this.connect();\n  }\n  /**\r\n   * Merge the custom options with the defaults.\r\n   */\n\n\n  _createClass(Connector, [{\n    key: \"setOptions\",\n    value: function setOptions(options) {\n      this.options = _extends(this._defaultOptions, options);\n      var token = this.csrfToken();\n\n      if (token) {\n        this.options.auth.headers['X-CSRF-TOKEN'] = token;\n        this.options.userAuthentication.headers['X-CSRF-TOKEN'] = token;\n      }\n\n      token = this.options.bearerToken;\n\n      if (token) {\n        this.options.auth.headers['Authorization'] = 'Bearer ' + token;\n        this.options.userAuthentication.headers['Authorization'] = 'Bearer ' + token;\n      }\n\n      return options;\n    }\n    /**\r\n     * Extract the CSRF token from the page.\r\n     */\n\n  }, {\n    key: \"csrfToken\",\n    value: function csrfToken() {\n      var selector;\n\n      if (typeof window !== 'undefined' && window['Laravel'] && window['Laravel'].csrfToken) {\n        return window['Laravel'].csrfToken;\n      } else if (this.options.csrfToken) {\n        return this.options.csrfToken;\n      } else if (typeof document !== 'undefined' && typeof document.querySelector === 'function' && (selector = document.querySelector('meta[name=\"csrf-token\"]'))) {\n        return selector.getAttribute('content');\n      }\n\n      return null;\n    }\n  }]);\n\n  return Connector;\n}();\n\n/**\r\n * This class creates a connector to Pusher.\r\n */\n\nvar PusherConnector = /*#__PURE__*/function (_Connector) {\n  _inherits(PusherConnector, _Connector);\n\n  var _super = _createSuper(PusherConnector);\n\n  function PusherConnector() {\n    var _this;\n\n    _classCallCheck(this, PusherConnector);\n\n    _this = _super.apply(this, arguments);\n    /**\r\n     * All of the subscribed channel names.\r\n     */\n\n    _this.channels = {};\n    return _this;\n  }\n  /**\r\n   * Create a fresh Pusher connection.\r\n   */\n\n\n  _createClass(PusherConnector, [{\n    key: \"connect\",\n    value: function connect() {\n      if (typeof this.options.client !== 'undefined') {\n        this.pusher = this.options.client;\n      } else if (this.options.Pusher) {\n        this.pusher = new this.options.Pusher(this.options.key, this.options);\n      } else {\n        this.pusher = new Pusher(this.options.key, this.options);\n      }\n    }\n    /**\r\n     * Sign in the user via Pusher user authentication (https://pusher.com/docs/channels/using_channels/user-authentication/).\r\n     */\n\n  }, {\n    key: \"signin\",\n    value: function signin() {\n      this.pusher.signin();\n    }\n    /**\r\n     * Listen for an event on a channel instance.\r\n     */\n\n  }, {\n    key: \"listen\",\n    value: function listen(name, event, callback) {\n      return this.channel(name).listen(event, callback);\n    }\n    /**\r\n     * Get a channel instance by name.\r\n     */\n\n  }, {\n    key: \"channel\",\n    value: function channel(name) {\n      if (!this.channels[name]) {\n        this.channels[name] = new PusherChannel(this.pusher, name, this.options);\n      }\n\n      return this.channels[name];\n    }\n    /**\r\n     * Get a private channel instance by name.\r\n     */\n\n  }, {\n    key: \"privateChannel\",\n    value: function privateChannel(name) {\n      if (!this.channels['private-' + name]) {\n        this.channels['private-' + name] = new PusherPrivateChannel(this.pusher, 'private-' + name, this.options);\n      }\n\n      return this.channels['private-' + name];\n    }\n    /**\r\n     * Get a private encrypted channel instance by name.\r\n     */\n\n  }, {\n    key: \"encryptedPrivateChannel\",\n    value: function encryptedPrivateChannel(name) {\n      if (!this.channels['private-encrypted-' + name]) {\n        this.channels['private-encrypted-' + name] = new PusherEncryptedPrivateChannel(this.pusher, 'private-encrypted-' + name, this.options);\n      }\n\n      return this.channels['private-encrypted-' + name];\n    }\n    /**\r\n     * Get a presence channel instance by name.\r\n     */\n\n  }, {\n    key: \"presenceChannel\",\n    value: function presenceChannel(name) {\n      if (!this.channels['presence-' + name]) {\n        this.channels['presence-' + name] = new PusherPresenceChannel(this.pusher, 'presence-' + name, this.options);\n      }\n\n      return this.channels['presence-' + name];\n    }\n    /**\r\n     * Leave the given channel, as well as its private and presence variants.\r\n     */\n\n  }, {\n    key: \"leave\",\n    value: function leave(name) {\n      var _this2 = this;\n\n      var channels = [name, 'private-' + name, 'private-encrypted-' + name, 'presence-' + name];\n      channels.forEach(function (name, index) {\n        _this2.leaveChannel(name);\n      });\n    }\n    /**\r\n     * Leave the given channel.\r\n     */\n\n  }, {\n    key: \"leaveChannel\",\n    value: function leaveChannel(name) {\n      if (this.channels[name]) {\n        this.channels[name].unsubscribe();\n        delete this.channels[name];\n      }\n    }\n    /**\r\n     * Get the socket ID for the connection.\r\n     */\n\n  }, {\n    key: \"socketId\",\n    value: function socketId() {\n      return this.pusher.connection.socket_id;\n    }\n    /**\r\n     * Disconnect Pusher connection.\r\n     */\n\n  }, {\n    key: \"disconnect\",\n    value: function disconnect() {\n      this.pusher.disconnect();\n    }\n  }]);\n\n  return PusherConnector;\n}(Connector);\n\n/**\r\n * This class creates a connnector to a Socket.io server.\r\n */\n\nvar SocketIoConnector = /*#__PURE__*/function (_Connector) {\n  _inherits(SocketIoConnector, _Connector);\n\n  var _super = _createSuper(SocketIoConnector);\n\n  function SocketIoConnector() {\n    var _this;\n\n    _classCallCheck(this, SocketIoConnector);\n\n    _this = _super.apply(this, arguments);\n    /**\r\n     * All of the subscribed channel names.\r\n     */\n\n    _this.channels = {};\n    return _this;\n  }\n  /**\r\n   * Create a fresh Socket.io connection.\r\n   */\n\n\n  _createClass(SocketIoConnector, [{\n    key: \"connect\",\n    value: function connect() {\n      var _this2 = this;\n\n      var io = this.getSocketIO();\n      this.socket = io(this.options.host, this.options);\n      this.socket.on('reconnect', function () {\n        Object.values(_this2.channels).forEach(function (channel) {\n          channel.subscribe();\n        });\n      });\n      return this.socket;\n    }\n    /**\r\n     * Get socket.io module from global scope or options.\r\n     */\n\n  }, {\n    key: \"getSocketIO\",\n    value: function getSocketIO() {\n      if (typeof this.options.client !== 'undefined') {\n        return this.options.client;\n      }\n\n      if (typeof io !== 'undefined') {\n        return io;\n      }\n\n      throw new Error('Socket.io client not found. Should be globally available or passed via options.client');\n    }\n    /**\r\n     * Listen for an event on a channel instance.\r\n     */\n\n  }, {\n    key: \"listen\",\n    value: function listen(name, event, callback) {\n      return this.channel(name).listen(event, callback);\n    }\n    /**\r\n     * Get a channel instance by name.\r\n     */\n\n  }, {\n    key: \"channel\",\n    value: function channel(name) {\n      if (!this.channels[name]) {\n        this.channels[name] = new SocketIoChannel(this.socket, name, this.options);\n      }\n\n      return this.channels[name];\n    }\n    /**\r\n     * Get a private channel instance by name.\r\n     */\n\n  }, {\n    key: \"privateChannel\",\n    value: function privateChannel(name) {\n      if (!this.channels['private-' + name]) {\n        this.channels['private-' + name] = new SocketIoPrivateChannel(this.socket, 'private-' + name, this.options);\n      }\n\n      return this.channels['private-' + name];\n    }\n    /**\r\n     * Get a presence channel instance by name.\r\n     */\n\n  }, {\n    key: \"presenceChannel\",\n    value: function presenceChannel(name) {\n      if (!this.channels['presence-' + name]) {\n        this.channels['presence-' + name] = new SocketIoPresenceChannel(this.socket, 'presence-' + name, this.options);\n      }\n\n      return this.channels['presence-' + name];\n    }\n    /**\r\n     * Leave the given channel, as well as its private and presence variants.\r\n     */\n\n  }, {\n    key: \"leave\",\n    value: function leave(name) {\n      var _this3 = this;\n\n      var channels = [name, 'private-' + name, 'presence-' + name];\n      channels.forEach(function (name) {\n        _this3.leaveChannel(name);\n      });\n    }\n    /**\r\n     * Leave the given channel.\r\n     */\n\n  }, {\n    key: \"leaveChannel\",\n    value: function leaveChannel(name) {\n      if (this.channels[name]) {\n        this.channels[name].unsubscribe();\n        delete this.channels[name];\n      }\n    }\n    /**\r\n     * Get the socket ID for the connection.\r\n     */\n\n  }, {\n    key: \"socketId\",\n    value: function socketId() {\n      return this.socket.id;\n    }\n    /**\r\n     * Disconnect Socketio connection.\r\n     */\n\n  }, {\n    key: \"disconnect\",\n    value: function disconnect() {\n      this.socket.disconnect();\n    }\n  }]);\n\n  return SocketIoConnector;\n}(Connector);\n\n/**\r\n * This class creates a null connector.\r\n */\n\nvar NullConnector = /*#__PURE__*/function (_Connector) {\n  _inherits(NullConnector, _Connector);\n\n  var _super = _createSuper(NullConnector);\n\n  function NullConnector() {\n    var _this;\n\n    _classCallCheck(this, NullConnector);\n\n    _this = _super.apply(this, arguments);\n    /**\r\n     * All of the subscribed channel names.\r\n     */\n\n    _this.channels = {};\n    return _this;\n  }\n  /**\r\n   * Create a fresh connection.\r\n   */\n\n\n  _createClass(NullConnector, [{\n    key: \"connect\",\n    value: function connect() {//\n    }\n    /**\r\n     * Listen for an event on a channel instance.\r\n     */\n\n  }, {\n    key: \"listen\",\n    value: function listen(name, event, callback) {\n      return new NullChannel();\n    }\n    /**\r\n     * Get a channel instance by name.\r\n     */\n\n  }, {\n    key: \"channel\",\n    value: function channel(name) {\n      return new NullChannel();\n    }\n    /**\r\n     * Get a private channel instance by name.\r\n     */\n\n  }, {\n    key: \"privateChannel\",\n    value: function privateChannel(name) {\n      return new NullPrivateChannel();\n    }\n    /**\r\n     * Get a private encrypted channel instance by name.\r\n     */\n\n  }, {\n    key: \"encryptedPrivateChannel\",\n    value: function encryptedPrivateChannel(name) {\n      return new NullPrivateChannel();\n    }\n    /**\r\n     * Get a presence channel instance by name.\r\n     */\n\n  }, {\n    key: \"presenceChannel\",\n    value: function presenceChannel(name) {\n      return new NullPresenceChannel();\n    }\n    /**\r\n     * Leave the given channel, as well as its private and presence variants.\r\n     */\n\n  }, {\n    key: \"leave\",\n    value: function leave(name) {//\n    }\n    /**\r\n     * Leave the given channel.\r\n     */\n\n  }, {\n    key: \"leaveChannel\",\n    value: function leaveChannel(name) {//\n    }\n    /**\r\n     * Get the socket ID for the connection.\r\n     */\n\n  }, {\n    key: \"socketId\",\n    value: function socketId() {\n      return 'fake-socket-id';\n    }\n    /**\r\n     * Disconnect the connection.\r\n     */\n\n  }, {\n    key: \"disconnect\",\n    value: function disconnect() {//\n    }\n  }]);\n\n  return NullConnector;\n}(Connector);\n\n/**\r\n * This class is the primary API for interacting with broadcasting.\r\n */\n\nvar Echo = /*#__PURE__*/function () {\n  /**\r\n   * Create a new class instance.\r\n   */\n  function Echo(options) {\n    _classCallCheck(this, Echo);\n\n    this.options = options;\n    this.connect();\n\n    if (!this.options.withoutInterceptors) {\n      this.registerInterceptors();\n    }\n  }\n  /**\r\n   * Get a channel instance by name.\r\n   */\n\n\n  _createClass(Echo, [{\n    key: \"channel\",\n    value: function channel(_channel) {\n      return this.connector.channel(_channel);\n    }\n    /**\r\n     * Create a new connection.\r\n     */\n\n  }, {\n    key: \"connect\",\n    value: function connect() {\n      if (this.options.broadcaster == 'pusher') {\n        this.connector = new PusherConnector(this.options);\n      } else if (this.options.broadcaster == 'socket.io') {\n        this.connector = new SocketIoConnector(this.options);\n      } else if (this.options.broadcaster == 'null') {\n        this.connector = new NullConnector(this.options);\n      } else if (typeof this.options.broadcaster == 'function') {\n        this.connector = new this.options.broadcaster(this.options);\n      }\n    }\n    /**\r\n     * Disconnect from the Echo server.\r\n     */\n\n  }, {\n    key: \"disconnect\",\n    value: function disconnect() {\n      this.connector.disconnect();\n    }\n    /**\r\n     * Get a presence channel instance by name.\r\n     */\n\n  }, {\n    key: \"join\",\n    value: function join(channel) {\n      return this.connector.presenceChannel(channel);\n    }\n    /**\r\n     * Leave the given channel, as well as its private and presence variants.\r\n     */\n\n  }, {\n    key: \"leave\",\n    value: function leave(channel) {\n      this.connector.leave(channel);\n    }\n    /**\r\n     * Leave the given channel.\r\n     */\n\n  }, {\n    key: \"leaveChannel\",\n    value: function leaveChannel(channel) {\n      this.connector.leaveChannel(channel);\n    }\n    /**\r\n     * Leave all channels.\r\n     */\n\n  }, {\n    key: \"leaveAllChannels\",\n    value: function leaveAllChannels() {\n      for (var channel in this.connector.channels) {\n        this.leaveChannel(channel);\n      }\n    }\n    /**\r\n     * Listen for an event on a channel instance.\r\n     */\n\n  }, {\n    key: \"listen\",\n    value: function listen(channel, event, callback) {\n      return this.connector.listen(channel, event, callback);\n    }\n    /**\r\n     * Get a private channel instance by name.\r\n     */\n\n  }, {\n    key: \"private\",\n    value: function _private(channel) {\n      return this.connector.privateChannel(channel);\n    }\n    /**\r\n     * Get a private encrypted channel instance by name.\r\n     */\n\n  }, {\n    key: \"encryptedPrivate\",\n    value: function encryptedPrivate(channel) {\n      return this.connector.encryptedPrivateChannel(channel);\n    }\n    /**\r\n     * Get the Socket ID for the connection.\r\n     */\n\n  }, {\n    key: \"socketId\",\n    value: function socketId() {\n      return this.connector.socketId();\n    }\n    /**\r\n     * Register 3rd party request interceptiors. These are used to automatically\r\n     * send a connections socket id to a Laravel app with a X-Socket-Id header.\r\n     */\n\n  }, {\n    key: \"registerInterceptors\",\n    value: function registerInterceptors() {\n      if (typeof Vue === 'function' && Vue.http) {\n        this.registerVueRequestInterceptor();\n      }\n\n      if (typeof axios === 'function') {\n        this.registerAxiosRequestInterceptor();\n      }\n\n      if (typeof jQuery === 'function') {\n        this.registerjQueryAjaxSetup();\n      }\n\n      if ((typeof Turbo === \"undefined\" ? \"undefined\" : _typeof(Turbo)) === 'object') {\n        this.registerTurboRequestInterceptor();\n      }\n    }\n    /**\r\n     * Register a Vue HTTP interceptor to add the X-Socket-ID header.\r\n     */\n\n  }, {\n    key: \"registerVueRequestInterceptor\",\n    value: function registerVueRequestInterceptor() {\n      var _this = this;\n\n      Vue.http.interceptors.push(function (request, next) {\n        if (_this.socketId()) {\n          request.headers.set('X-Socket-ID', _this.socketId());\n        }\n\n        next();\n      });\n    }\n    /**\r\n     * Register an Axios HTTP interceptor to add the X-Socket-ID header.\r\n     */\n\n  }, {\n    key: \"registerAxiosRequestInterceptor\",\n    value: function registerAxiosRequestInterceptor() {\n      var _this2 = this;\n\n      axios.interceptors.request.use(function (config) {\n        if (_this2.socketId()) {\n          config.headers['X-Socket-Id'] = _this2.socketId();\n        }\n\n        return config;\n      });\n    }\n    /**\r\n     * Register jQuery AjaxPrefilter to add the X-Socket-ID header.\r\n     */\n\n  }, {\n    key: \"registerjQueryAjaxSetup\",\n    value: function registerjQueryAjaxSetup() {\n      var _this3 = this;\n\n      if (typeof jQuery.ajax != 'undefined') {\n        jQuery.ajaxPrefilter(function (options, originalOptions, xhr) {\n          if (_this3.socketId()) {\n            xhr.setRequestHeader('X-Socket-Id', _this3.socketId());\n          }\n        });\n      }\n    }\n    /**\r\n     * Register the Turbo Request interceptor to add the X-Socket-ID header.\r\n     */\n\n  }, {\n    key: \"registerTurboRequestInterceptor\",\n    value: function registerTurboRequestInterceptor() {\n      var _this4 = this;\n\n      document.addEventListener('turbo:before-fetch-request', function (event) {\n        event.detail.fetchOptions.headers['X-Socket-Id'] = _this4.socketId();\n      });\n    }\n  }]);\n\n  return Echo;\n}();\n\nexport { Channel, Connector, EventFormatter, Echo as default };\n","import Echo from \"laravel-echo\"\n\nwindow.Pusher = require('pusher-js');\n\nwindow.Echo = new Echo({\n    broadcaster: 'pusher',\n    key: process.env.PUSHER_APP_KEY,\n    httpHost: window.location.hostname,\n    httpsHost: window.location.hostname,\n    wsHost: window.location.hostname,\n    wssHost: window.location.hostname,\n    encrypted: true,\n    wsPort: process.env.WEBSOCKETS_LISTEN_PORT ?? 6002,\n    wssPort: process.env.WEBSOCKETS_LISTEN_PORT ?? 6002,\n    forceTLS: process.env.APP_SCHEMA === 'https',\n    disableStats: false,\n    cluster: process.env.PUSHER_CLUSTER,\n    enabledTransports: ['ws', 'wss'],\n    authEndpoint: 'api/broadcasting/auth',\n    auth: {\n        headers: {\n            'x-app-id': process.env.PUSHER_APP_ID\n        }\n    }\n})\nwindow.Echo.authProfileSubscribe = async function () {\n    try {\n        if (window && window.Echo) {\n            const user = JSON.parse(localStorage.getItem('user'))\n            if (user && user.profile) {\n                const channel = 'private-profile.' + user.profile.id\n                if(window.Echo.connector.channels[channel]){\n                    return\n                }\n                window.Echo.private('profile.' + user.profile.id)\n                    .listen('.notifications', function (data) {\n                            Object.keys(data).forEach((id) => {\n                                let el = document.getElementById(id)\n                                if (el) {\n                                    el.innerHTML = data[id]\n                                }\n                            })\n                        }\n                    )\n            }\n        }\n    } catch (e) {\n        console.error(e)\n    }\n}\nwindow.Echo.authProfileDisconnect = function (){\n    if(window.Echo){\n        window.Echo.leaveAllChannels()\n    }\n}\n\naddEventListener('page:loaded', window.Echo.authProfileSubscribe)\nexport default function () {\n\n}","import { render } from \"./Development.vue?vue&type=template&id=022b5d18&scoped=true\"\nimport script from \"./Development.vue?vue&type=script&lang=js\"\nexport * from \"./Development.vue?vue&type=script&lang=js\"\n\nimport \"./Development.vue?vue&type=style&index=0&id=022b5d18&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-022b5d18\"]])\n\nexport default __exports__","'use strict';\nvar isCallable = require('../internals/is-callable');\nvar tryToString = require('../internals/try-to-string');\n\nvar $TypeError = TypeError;\n\n// `Assert: IsCallable(argument) is true`\nmodule.exports = function (argument) {\n  if (isCallable(argument)) return argument;\n  throw new $TypeError(tryToString(argument) + ' is not a function');\n};\n","'use strict';\nvar isPossiblePrototype = require('../internals/is-possible-prototype');\n\nvar $String = String;\nvar $TypeError = TypeError;\n\nmodule.exports = function (argument) {\n  if (isPossiblePrototype(argument)) return argument;\n  throw new $TypeError(\"Can't set \" + $String(argument) + ' as a prototype');\n};\n","'use strict';\nvar isPrototypeOf = require('../internals/object-is-prototype-of');\n\nvar $TypeError = TypeError;\n\nmodule.exports = function (it, Prototype) {\n  if (isPrototypeOf(Prototype, it)) return it;\n  throw new $TypeError('Incorrect invocation');\n};\n","'use strict';\nvar isObject = require('../internals/is-object');\n\nvar $String = String;\nvar $TypeError = TypeError;\n\n// `Assert: Type(argument) is Object`\nmodule.exports = function (argument) {\n  if (isObject(argument)) return argument;\n  throw new $TypeError($String(argument) + ' is not an object');\n};\n","'use strict';\n// eslint-disable-next-line es/no-typed-arrays -- safe\nmodule.exports = typeof ArrayBuffer != 'undefined' && typeof DataView != 'undefined';\n","'use strict';\nvar NATIVE_ARRAY_BUFFER = require('../internals/array-buffer-basic-detection');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar global = require('../internals/global');\nvar isCallable = require('../internals/is-callable');\nvar isObject = require('../internals/is-object');\nvar hasOwn = require('../internals/has-own-property');\nvar classof = require('../internals/classof');\nvar tryToString = require('../internals/try-to-string');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar defineBuiltIn = require('../internals/define-built-in');\nvar defineBuiltInAccessor = require('../internals/define-built-in-accessor');\nvar isPrototypeOf = require('../internals/object-is-prototype-of');\nvar getPrototypeOf = require('../internals/object-get-prototype-of');\nvar setPrototypeOf = require('../internals/object-set-prototype-of');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar uid = require('../internals/uid');\nvar InternalStateModule = require('../internals/internal-state');\n\nvar enforceInternalState = InternalStateModule.enforce;\nvar getInternalState = InternalStateModule.get;\nvar Int8Array = global.Int8Array;\nvar Int8ArrayPrototype = Int8Array && Int8Array.prototype;\nvar Uint8ClampedArray = global.Uint8ClampedArray;\nvar Uint8ClampedArrayPrototype = Uint8ClampedArray && Uint8ClampedArray.prototype;\nvar TypedArray = Int8Array && getPrototypeOf(Int8Array);\nvar TypedArrayPrototype = Int8ArrayPrototype && getPrototypeOf(Int8ArrayPrototype);\nvar ObjectPrototype = Object.prototype;\nvar TypeError = global.TypeError;\n\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\nvar TYPED_ARRAY_TAG = uid('TYPED_ARRAY_TAG');\nvar TYPED_ARRAY_CONSTRUCTOR = 'TypedArrayConstructor';\n// Fixing native typed arrays in Opera Presto crashes the browser, see #595\nvar NATIVE_ARRAY_BUFFER_VIEWS = NATIVE_ARRAY_BUFFER && !!setPrototypeOf && classof(global.opera) !== 'Opera';\nvar TYPED_ARRAY_TAG_REQUIRED = false;\nvar NAME, Constructor, Prototype;\n\nvar TypedArrayConstructorsList = {\n  Int8Array: 1,\n  Uint8Array: 1,\n  Uint8ClampedArray: 1,\n  Int16Array: 2,\n  Uint16Array: 2,\n  Int32Array: 4,\n  Uint32Array: 4,\n  Float32Array: 4,\n  Float64Array: 8\n};\n\nvar BigIntArrayConstructorsList = {\n  BigInt64Array: 8,\n  BigUint64Array: 8\n};\n\nvar isView = function isView(it) {\n  if (!isObject(it)) return false;\n  var klass = classof(it);\n  return klass === 'DataView'\n    || hasOwn(TypedArrayConstructorsList, klass)\n    || hasOwn(BigIntArrayConstructorsList, klass);\n};\n\nvar getTypedArrayConstructor = function (it) {\n  var proto = getPrototypeOf(it);\n  if (!isObject(proto)) return;\n  var state = getInternalState(proto);\n  return (state && hasOwn(state, TYPED_ARRAY_CONSTRUCTOR)) ? state[TYPED_ARRAY_CONSTRUCTOR] : getTypedArrayConstructor(proto);\n};\n\nvar isTypedArray = function (it) {\n  if (!isObject(it)) return false;\n  var klass = classof(it);\n  return hasOwn(TypedArrayConstructorsList, klass)\n    || hasOwn(BigIntArrayConstructorsList, klass);\n};\n\nvar aTypedArray = function (it) {\n  if (isTypedArray(it)) return it;\n  throw new TypeError('Target is not a typed array');\n};\n\nvar aTypedArrayConstructor = function (C) {\n  if (isCallable(C) && (!setPrototypeOf || isPrototypeOf(TypedArray, C))) return C;\n  throw new TypeError(tryToString(C) + ' is not a typed array constructor');\n};\n\nvar exportTypedArrayMethod = function (KEY, property, forced, options) {\n  if (!DESCRIPTORS) return;\n  if (forced) for (var ARRAY in TypedArrayConstructorsList) {\n    var TypedArrayConstructor = global[ARRAY];\n    if (TypedArrayConstructor && hasOwn(TypedArrayConstructor.prototype, KEY)) try {\n      delete TypedArrayConstructor.prototype[KEY];\n    } catch (error) {\n      // old WebKit bug - some methods are non-configurable\n      try {\n        TypedArrayConstructor.prototype[KEY] = property;\n      } catch (error2) { /* empty */ }\n    }\n  }\n  if (!TypedArrayPrototype[KEY] || forced) {\n    defineBuiltIn(TypedArrayPrototype, KEY, forced ? property\n      : NATIVE_ARRAY_BUFFER_VIEWS && Int8ArrayPrototype[KEY] || property, options);\n  }\n};\n\nvar exportTypedArrayStaticMethod = function (KEY, property, forced) {\n  var ARRAY, TypedArrayConstructor;\n  if (!DESCRIPTORS) return;\n  if (setPrototypeOf) {\n    if (forced) for (ARRAY in TypedArrayConstructorsList) {\n      TypedArrayConstructor = global[ARRAY];\n      if (TypedArrayConstructor && hasOwn(TypedArrayConstructor, KEY)) try {\n        delete TypedArrayConstructor[KEY];\n      } catch (error) { /* empty */ }\n    }\n    if (!TypedArray[KEY] || forced) {\n      // V8 ~ Chrome 49-50 `%TypedArray%` methods are non-writable non-configurable\n      try {\n        return defineBuiltIn(TypedArray, KEY, forced ? property : NATIVE_ARRAY_BUFFER_VIEWS && TypedArray[KEY] || property);\n      } catch (error) { /* empty */ }\n    } else return;\n  }\n  for (ARRAY in TypedArrayConstructorsList) {\n    TypedArrayConstructor = global[ARRAY];\n    if (TypedArrayConstructor && (!TypedArrayConstructor[KEY] || forced)) {\n      defineBuiltIn(TypedArrayConstructor, KEY, property);\n    }\n  }\n};\n\nfor (NAME in TypedArrayConstructorsList) {\n  Constructor = global[NAME];\n  Prototype = Constructor && Constructor.prototype;\n  if (Prototype) enforceInternalState(Prototype)[TYPED_ARRAY_CONSTRUCTOR] = Constructor;\n  else NATIVE_ARRAY_BUFFER_VIEWS = false;\n}\n\nfor (NAME in BigIntArrayConstructorsList) {\n  Constructor = global[NAME];\n  Prototype = Constructor && Constructor.prototype;\n  if (Prototype) enforceInternalState(Prototype)[TYPED_ARRAY_CONSTRUCTOR] = Constructor;\n}\n\n// WebKit bug - typed arrays constructors prototype is Object.prototype\nif (!NATIVE_ARRAY_BUFFER_VIEWS || !isCallable(TypedArray) || TypedArray === Function.prototype) {\n  // eslint-disable-next-line no-shadow -- safe\n  TypedArray = function TypedArray() {\n    throw new TypeError('Incorrect invocation');\n  };\n  if (NATIVE_ARRAY_BUFFER_VIEWS) for (NAME in TypedArrayConstructorsList) {\n    if (global[NAME]) setPrototypeOf(global[NAME], TypedArray);\n  }\n}\n\nif (!NATIVE_ARRAY_BUFFER_VIEWS || !TypedArrayPrototype || TypedArrayPrototype === ObjectPrototype) {\n  TypedArrayPrototype = TypedArray.prototype;\n  if (NATIVE_ARRAY_BUFFER_VIEWS) for (NAME in TypedArrayConstructorsList) {\n    if (global[NAME]) setPrototypeOf(global[NAME].prototype, TypedArrayPrototype);\n  }\n}\n\n// WebKit bug - one more object in Uint8ClampedArray prototype chain\nif (NATIVE_ARRAY_BUFFER_VIEWS && getPrototypeOf(Uint8ClampedArrayPrototype) !== TypedArrayPrototype) {\n  setPrototypeOf(Uint8ClampedArrayPrototype, TypedArrayPrototype);\n}\n\nif (DESCRIPTORS && !hasOwn(TypedArrayPrototype, TO_STRING_TAG)) {\n  TYPED_ARRAY_TAG_REQUIRED = true;\n  defineBuiltInAccessor(TypedArrayPrototype, TO_STRING_TAG, {\n    configurable: true,\n    get: function () {\n      return isObject(this) ? this[TYPED_ARRAY_TAG] : undefined;\n    }\n  });\n  for (NAME in TypedArrayConstructorsList) if (global[NAME]) {\n    createNonEnumerableProperty(global[NAME], TYPED_ARRAY_TAG, NAME);\n  }\n}\n\nmodule.exports = {\n  NATIVE_ARRAY_BUFFER_VIEWS: NATIVE_ARRAY_BUFFER_VIEWS,\n  TYPED_ARRAY_TAG: TYPED_ARRAY_TAG_REQUIRED && TYPED_ARRAY_TAG,\n  aTypedArray: aTypedArray,\n  aTypedArrayConstructor: aTypedArrayConstructor,\n  exportTypedArrayMethod: exportTypedArrayMethod,\n  exportTypedArrayStaticMethod: exportTypedArrayStaticMethod,\n  getTypedArrayConstructor: getTypedArrayConstructor,\n  isView: isView,\n  isTypedArray: isTypedArray,\n  TypedArray: TypedArray,\n  TypedArrayPrototype: TypedArrayPrototype\n};\n","'use strict';\nvar lengthOfArrayLike = require('../internals/length-of-array-like');\n\nmodule.exports = function (Constructor, list, $length) {\n  var index = 0;\n  var length = arguments.length > 2 ? $length : lengthOfArrayLike(list);\n  var result = new Constructor(length);\n  while (length > index) result[index] = list[index++];\n  return result;\n};\n","'use strict';\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\nvar lengthOfArrayLike = require('../internals/length-of-array-like');\n\n// `Array.prototype.{ indexOf, includes }` methods implementation\nvar createMethod = function (IS_INCLUDES) {\n  return function ($this, el, fromIndex) {\n    var O = toIndexedObject($this);\n    var length = lengthOfArrayLike(O);\n    var index = toAbsoluteIndex(fromIndex, length);\n    var value;\n    // Array#includes uses SameValueZero equality algorithm\n    // eslint-disable-next-line no-self-compare -- NaN check\n    if (IS_INCLUDES && el !== el) while (length > index) {\n      value = O[index++];\n      // eslint-disable-next-line no-self-compare -- NaN check\n      if (value !== value) return true;\n    // Array#indexOf ignores holes, Array#includes - not\n    } else for (;length > index; index++) {\n      if ((IS_INCLUDES || index in O) && O[index] === el) return IS_INCLUDES || index || 0;\n    } return !IS_INCLUDES && -1;\n  };\n};\n\nmodule.exports = {\n  // `Array.prototype.includes` method\n  // https://tc39.es/ecma262/#sec-array.prototype.includes\n  includes: createMethod(true),\n  // `Array.prototype.indexOf` method\n  // https://tc39.es/ecma262/#sec-array.prototype.indexof\n  indexOf: createMethod(false)\n};\n","'use strict';\nvar DESCRIPTORS = require('../internals/descriptors');\nvar isArray = require('../internals/is-array');\n\nvar $TypeError = TypeError;\n// eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe\nvar getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n// Safari < 13 does not throw an error in this case\nvar SILENT_ON_NON_WRITABLE_LENGTH_SET = DESCRIPTORS && !function () {\n  // makes no sense without proper strict mode support\n  if (this !== undefined) return true;\n  try {\n    // eslint-disable-next-line es/no-object-defineproperty -- safe\n    Object.defineProperty([], 'length', { writable: false }).length = 1;\n  } catch (error) {\n    return error instanceof TypeError;\n  }\n}();\n\nmodule.exports = SILENT_ON_NON_WRITABLE_LENGTH_SET ? function (O, length) {\n  if (isArray(O) && !getOwnPropertyDescriptor(O, 'length').writable) {\n    throw new $TypeError('Cannot set read only .length');\n  } return O.length = length;\n} : function (O, length) {\n  return O.length = length;\n};\n","'use strict';\nvar lengthOfArrayLike = require('../internals/length-of-array-like');\n\n// https://tc39.es/proposal-change-array-by-copy/#sec-array.prototype.toReversed\n// https://tc39.es/proposal-change-array-by-copy/#sec-%typedarray%.prototype.toReversed\nmodule.exports = function (O, C) {\n  var len = lengthOfArrayLike(O);\n  var A = new C(len);\n  var k = 0;\n  for (; k < len; k++) A[k] = O[len - k - 1];\n  return A;\n};\n","'use strict';\nvar lengthOfArrayLike = require('../internals/length-of-array-like');\nvar toIntegerOrInfinity = require('../internals/to-integer-or-infinity');\n\nvar $RangeError = RangeError;\n\n// https://tc39.es/proposal-change-array-by-copy/#sec-array.prototype.with\n// https://tc39.es/proposal-change-array-by-copy/#sec-%typedarray%.prototype.with\nmodule.exports = function (O, C, index, value) {\n  var len = lengthOfArrayLike(O);\n  var relativeIndex = toIntegerOrInfinity(index);\n  var actualIndex = relativeIndex < 0 ? len + relativeIndex : relativeIndex;\n  if (actualIndex >= len || actualIndex < 0) throw new $RangeError('Incorrect index');\n  var A = new C(len);\n  var k = 0;\n  for (; k < len; k++) A[k] = k === actualIndex ? value : O[k];\n  return A;\n};\n","'use strict';\nvar uncurryThis = require('../internals/function-uncurry-this');\n\nvar toString = uncurryThis({}.toString);\nvar stringSlice = uncurryThis(''.slice);\n\nmodule.exports = function (it) {\n  return stringSlice(toString(it), 8, -1);\n};\n","'use strict';\nvar TO_STRING_TAG_SUPPORT = require('../internals/to-string-tag-support');\nvar isCallable = require('../internals/is-callable');\nvar classofRaw = require('../internals/classof-raw');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\nvar $Object = Object;\n\n// ES3 wrong here\nvar CORRECT_ARGUMENTS = classofRaw(function () { return arguments; }()) === 'Arguments';\n\n// fallback for IE11 Script Access Denied error\nvar tryGet = function (it, key) {\n  try {\n    return it[key];\n  } catch (error) { /* empty */ }\n};\n\n// getting tag from ES6+ `Object.prototype.toString`\nmodule.exports = TO_STRING_TAG_SUPPORT ? classofRaw : function (it) {\n  var O, tag, result;\n  return it === undefined ? 'Undefined' : it === null ? 'Null'\n    // @@toStringTag case\n    : typeof (tag = tryGet(O = $Object(it), TO_STRING_TAG)) == 'string' ? tag\n    // builtinTag case\n    : CORRECT_ARGUMENTS ? classofRaw(O)\n    // ES3 arguments fallback\n    : (result = classofRaw(O)) === 'Object' && isCallable(O.callee) ? 'Arguments' : result;\n};\n","'use strict';\nvar hasOwn = require('../internals/has-own-property');\nvar ownKeys = require('../internals/own-keys');\nvar getOwnPropertyDescriptorModule = require('../internals/object-get-own-property-descriptor');\nvar definePropertyModule = require('../internals/object-define-property');\n\nmodule.exports = function (target, source, exceptions) {\n  var keys = ownKeys(source);\n  var defineProperty = definePropertyModule.f;\n  var getOwnPropertyDescriptor = getOwnPropertyDescriptorModule.f;\n  for (var i = 0; i < keys.length; i++) {\n    var key = keys[i];\n    if (!hasOwn(target, key) && !(exceptions && hasOwn(exceptions, key))) {\n      defineProperty(target, key, getOwnPropertyDescriptor(source, key));\n    }\n  }\n};\n","'use strict';\nvar fails = require('../internals/fails');\n\nmodule.exports = !fails(function () {\n  function F() { /* empty */ }\n  F.prototype.constructor = null;\n  // eslint-disable-next-line es/no-object-getprototypeof -- required for testing\n  return Object.getPrototypeOf(new F()) !== F.prototype;\n});\n","'use strict';\nvar DESCRIPTORS = require('../internals/descriptors');\nvar definePropertyModule = require('../internals/object-define-property');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\n\nmodule.exports = DESCRIPTORS ? function (object, key, value) {\n  return definePropertyModule.f(object, key, createPropertyDescriptor(1, value));\n} : function (object, key, value) {\n  object[key] = value;\n  return object;\n};\n","'use strict';\nmodule.exports = function (bitmap, value) {\n  return {\n    enumerable: !(bitmap & 1),\n    configurable: !(bitmap & 2),\n    writable: !(bitmap & 4),\n    value: value\n  };\n};\n","'use strict';\nvar makeBuiltIn = require('../internals/make-built-in');\nvar defineProperty = require('../internals/object-define-property');\n\nmodule.exports = function (target, name, descriptor) {\n  if (descriptor.get) makeBuiltIn(descriptor.get, name, { getter: true });\n  if (descriptor.set) makeBuiltIn(descriptor.set, name, { setter: true });\n  return defineProperty.f(target, name, descriptor);\n};\n","'use strict';\nvar isCallable = require('../internals/is-callable');\nvar definePropertyModule = require('../internals/object-define-property');\nvar makeBuiltIn = require('../internals/make-built-in');\nvar defineGlobalProperty = require('../internals/define-global-property');\n\nmodule.exports = function (O, key, value, options) {\n  if (!options) options = {};\n  var simple = options.enumerable;\n  var name = options.name !== undefined ? options.name : key;\n  if (isCallable(value)) makeBuiltIn(value, name, options);\n  if (options.global) {\n    if (simple) O[key] = value;\n    else defineGlobalProperty(key, value);\n  } else {\n    try {\n      if (!options.unsafe) delete O[key];\n      else if (O[key]) simple = true;\n    } catch (error) { /* empty */ }\n    if (simple) O[key] = value;\n    else definePropertyModule.f(O, key, {\n      value: value,\n      enumerable: false,\n      configurable: !options.nonConfigurable,\n      writable: !options.nonWritable\n    });\n  } return O;\n};\n","'use strict';\nvar global = require('../internals/global');\n\n// eslint-disable-next-line es/no-object-defineproperty -- safe\nvar defineProperty = Object.defineProperty;\n\nmodule.exports = function (key, value) {\n  try {\n    defineProperty(global, key, { value: value, configurable: true, writable: true });\n  } catch (error) {\n    global[key] = value;\n  } return value;\n};\n","'use strict';\nvar fails = require('../internals/fails');\n\n// Detect IE8's incomplete defineProperty implementation\nmodule.exports = !fails(function () {\n  // eslint-disable-next-line es/no-object-defineproperty -- required for testing\n  return Object.defineProperty({}, 1, { get: function () { return 7; } })[1] !== 7;\n});\n","'use strict';\nvar global = require('../internals/global');\nvar isObject = require('../internals/is-object');\n\nvar document = global.document;\n// typeof document.createElement is 'object' in old IE\nvar EXISTS = isObject(document) && isObject(document.createElement);\n\nmodule.exports = function (it) {\n  return EXISTS ? document.createElement(it) : {};\n};\n","'use strict';\nvar $TypeError = TypeError;\nvar MAX_SAFE_INTEGER = 0x1FFFFFFFFFFFFF; // 2 ** 53 - 1 == 9007199254740991\n\nmodule.exports = function (it) {\n  if (it > MAX_SAFE_INTEGER) throw $TypeError('Maximum allowed index exceeded');\n  return it;\n};\n","'use strict';\nmodule.exports = {\n  IndexSizeError: { s: 'INDEX_SIZE_ERR', c: 1, m: 1 },\n  DOMStringSizeError: { s: 'DOMSTRING_SIZE_ERR', c: 2, m: 0 },\n  HierarchyRequestError: { s: 'HIERARCHY_REQUEST_ERR', c: 3, m: 1 },\n  WrongDocumentError: { s: 'WRONG_DOCUMENT_ERR', c: 4, m: 1 },\n  InvalidCharacterError: { s: 'INVALID_CHARACTER_ERR', c: 5, m: 1 },\n  NoDataAllowedError: { s: 'NO_DATA_ALLOWED_ERR', c: 6, m: 0 },\n  NoModificationAllowedError: { s: 'NO_MODIFICATION_ALLOWED_ERR', c: 7, m: 1 },\n  NotFoundError: { s: 'NOT_FOUND_ERR', c: 8, m: 1 },\n  NotSupportedError: { s: 'NOT_SUPPORTED_ERR', c: 9, m: 1 },\n  InUseAttributeError: { s: 'INUSE_ATTRIBUTE_ERR', c: 10, m: 1 },\n  InvalidStateError: { s: 'INVALID_STATE_ERR', c: 11, m: 1 },\n  SyntaxError: { s: 'SYNTAX_ERR', c: 12, m: 1 },\n  InvalidModificationError: { s: 'INVALID_MODIFICATION_ERR', c: 13, m: 1 },\n  NamespaceError: { s: 'NAMESPACE_ERR', c: 14, m: 1 },\n  InvalidAccessError: { s: 'INVALID_ACCESS_ERR', c: 15, m: 1 },\n  ValidationError: { s: 'VALIDATION_ERR', c: 16, m: 0 },\n  TypeMismatchError: { s: 'TYPE_MISMATCH_ERR', c: 17, m: 1 },\n  SecurityError: { s: 'SECURITY_ERR', c: 18, m: 1 },\n  NetworkError: { s: 'NETWORK_ERR', c: 19, m: 1 },\n  AbortError: { s: 'ABORT_ERR', c: 20, m: 1 },\n  URLMismatchError: { s: 'URL_MISMATCH_ERR', c: 21, m: 1 },\n  QuotaExceededError: { s: 'QUOTA_EXCEEDED_ERR', c: 22, m: 1 },\n  TimeoutError: { s: 'TIMEOUT_ERR', c: 23, m: 1 },\n  InvalidNodeTypeError: { s: 'INVALID_NODE_TYPE_ERR', c: 24, m: 1 },\n  DataCloneError: { s: 'DATA_CLONE_ERR', c: 25, m: 1 }\n};\n","'use strict';\nmodule.exports = typeof navigator != 'undefined' && String(navigator.userAgent) || '';\n","'use strict';\nvar global = require('../internals/global');\nvar userAgent = require('../internals/engine-user-agent');\n\nvar process = global.process;\nvar Deno = global.Deno;\nvar versions = process && process.versions || Deno && Deno.version;\nvar v8 = versions && versions.v8;\nvar match, version;\n\nif (v8) {\n  match = v8.split('.');\n  // in old Chrome, versions of V8 isn't V8 = Chrome / 10\n  // but their correct versions are not interesting for us\n  version = match[0] > 0 && match[0] < 4 ? 1 : +(match[0] + match[1]);\n}\n\n// BrowserFS NodeJS `process` polyfill incorrectly set `.v8` to `0.0`\n// so check `userAgent` even if `.v8` exists, but 0\nif (!version && userAgent) {\n  match = userAgent.match(/Edge\\/(\\d+)/);\n  if (!match || match[1] >= 74) {\n    match = userAgent.match(/Chrome\\/(\\d+)/);\n    if (match) version = +match[1];\n  }\n}\n\nmodule.exports = version;\n","'use strict';\n// IE8- don't enum bug keys\nmodule.exports = [\n  'constructor',\n  'hasOwnProperty',\n  'isPrototypeOf',\n  'propertyIsEnumerable',\n  'toLocaleString',\n  'toString',\n  'valueOf'\n];\n","'use strict';\nvar uncurryThis = require('../internals/function-uncurry-this');\n\nvar $Error = Error;\nvar replace = uncurryThis(''.replace);\n\nvar TEST = (function (arg) { return String(new $Error(arg).stack); })('zxcasd');\n// eslint-disable-next-line redos/no-vulnerable -- safe\nvar V8_OR_CHAKRA_STACK_ENTRY = /\\n\\s*at [^:]*:[^\\n]*/;\nvar IS_V8_OR_CHAKRA_STACK = V8_OR_CHAKRA_STACK_ENTRY.test(TEST);\n\nmodule.exports = function (stack, dropEntries) {\n  if (IS_V8_OR_CHAKRA_STACK && typeof stack == 'string' && !$Error.prepareStackTrace) {\n    while (dropEntries--) stack = replace(stack, V8_OR_CHAKRA_STACK_ENTRY, '');\n  } return stack;\n};\n","'use strict';\nvar global = require('../internals/global');\nvar getOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar defineBuiltIn = require('../internals/define-built-in');\nvar defineGlobalProperty = require('../internals/define-global-property');\nvar copyConstructorProperties = require('../internals/copy-constructor-properties');\nvar isForced = require('../internals/is-forced');\n\n/*\n  options.target         - name of the target object\n  options.global         - target is the global object\n  options.stat           - export as static methods of target\n  options.proto          - export as prototype methods of target\n  options.real           - real prototype method for the `pure` version\n  options.forced         - export even if the native feature is available\n  options.bind           - bind methods to the target, required for the `pure` version\n  options.wrap           - wrap constructors to preventing global pollution, required for the `pure` version\n  options.unsafe         - use the simple assignment of property instead of delete + defineProperty\n  options.sham           - add a flag to not completely full polyfills\n  options.enumerable     - export as enumerable property\n  options.dontCallGetSet - prevent calling a getter on target\n  options.name           - the .name of the function if it does not match the key\n*/\nmodule.exports = function (options, source) {\n  var TARGET = options.target;\n  var GLOBAL = options.global;\n  var STATIC = options.stat;\n  var FORCED, target, key, targetProperty, sourceProperty, descriptor;\n  if (GLOBAL) {\n    target = global;\n  } else if (STATIC) {\n    target = global[TARGET] || defineGlobalProperty(TARGET, {});\n  } else {\n    target = global[TARGET] && global[TARGET].prototype;\n  }\n  if (target) for (key in source) {\n    sourceProperty = source[key];\n    if (options.dontCallGetSet) {\n      descriptor = getOwnPropertyDescriptor(target, key);\n      targetProperty = descriptor && descriptor.value;\n    } else targetProperty = target[key];\n    FORCED = isForced(GLOBAL ? key : TARGET + (STATIC ? '.' : '#') + key, options.forced);\n    // contained in target\n    if (!FORCED && targetProperty !== undefined) {\n      if (typeof sourceProperty == typeof targetProperty) continue;\n      copyConstructorProperties(sourceProperty, targetProperty);\n    }\n    // add a flag to not completely full polyfills\n    if (options.sham || (targetProperty && targetProperty.sham)) {\n      createNonEnumerableProperty(sourceProperty, 'sham', true);\n    }\n    defineBuiltIn(target, key, sourceProperty, options);\n  }\n};\n","'use strict';\nmodule.exports = function (exec) {\n  try {\n    return !!exec();\n  } catch (error) {\n    return true;\n  }\n};\n","'use strict';\nvar fails = require('../internals/fails');\n\nmodule.exports = !fails(function () {\n  // eslint-disable-next-line es/no-function-prototype-bind -- safe\n  var test = (function () { /* empty */ }).bind();\n  // eslint-disable-next-line no-prototype-builtins -- safe\n  return typeof test != 'function' || test.hasOwnProperty('prototype');\n});\n","'use strict';\nvar NATIVE_BIND = require('../internals/function-bind-native');\n\nvar call = Function.prototype.call;\n\nmodule.exports = NATIVE_BIND ? call.bind(call) : function () {\n  return call.apply(call, arguments);\n};\n","'use strict';\nvar DESCRIPTORS = require('../internals/descriptors');\nvar hasOwn = require('../internals/has-own-property');\n\nvar FunctionPrototype = Function.prototype;\n// eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe\nvar getDescriptor = DESCRIPTORS && Object.getOwnPropertyDescriptor;\n\nvar EXISTS = hasOwn(FunctionPrototype, 'name');\n// additional protection from minified / mangled / dropped function names\nvar PROPER = EXISTS && (function something() { /* empty */ }).name === 'something';\nvar CONFIGURABLE = EXISTS && (!DESCRIPTORS || (DESCRIPTORS && getDescriptor(FunctionPrototype, 'name').configurable));\n\nmodule.exports = {\n  EXISTS: EXISTS,\n  PROPER: PROPER,\n  CONFIGURABLE: CONFIGURABLE\n};\n","'use strict';\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar aCallable = require('../internals/a-callable');\n\nmodule.exports = function (object, key, method) {\n  try {\n    // eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe\n    return uncurryThis(aCallable(Object.getOwnPropertyDescriptor(object, key)[method]));\n  } catch (error) { /* empty */ }\n};\n","'use strict';\nvar NATIVE_BIND = require('../internals/function-bind-native');\n\nvar FunctionPrototype = Function.prototype;\nvar call = FunctionPrototype.call;\nvar uncurryThisWithBind = NATIVE_BIND && FunctionPrototype.bind.bind(call, call);\n\nmodule.exports = NATIVE_BIND ? uncurryThisWithBind : function (fn) {\n  return function () {\n    return call.apply(fn, arguments);\n  };\n};\n","'use strict';\nvar global = require('../internals/global');\nvar isCallable = require('../internals/is-callable');\n\nvar aFunction = function (argument) {\n  return isCallable(argument) ? argument : undefined;\n};\n\nmodule.exports = function (namespace, method) {\n  return arguments.length < 2 ? aFunction(global[namespace]) : global[namespace] && global[namespace][method];\n};\n","'use strict';\nvar aCallable = require('../internals/a-callable');\nvar isNullOrUndefined = require('../internals/is-null-or-undefined');\n\n// `GetMethod` abstract operation\n// https://tc39.es/ecma262/#sec-getmethod\nmodule.exports = function (V, P) {\n  var func = V[P];\n  return isNullOrUndefined(func) ? undefined : aCallable(func);\n};\n","'use strict';\nvar check = function (it) {\n  return it && it.Math === Math && it;\n};\n\n// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\nmodule.exports =\n  // eslint-disable-next-line es/no-global-this -- safe\n  check(typeof globalThis == 'object' && globalThis) ||\n  check(typeof window == 'object' && window) ||\n  // eslint-disable-next-line no-restricted-globals -- safe\n  check(typeof self == 'object' && self) ||\n  check(typeof global == 'object' && global) ||\n  check(typeof this == 'object' && this) ||\n  // eslint-disable-next-line no-new-func -- fallback\n  (function () { return this; })() || Function('return this')();\n","'use strict';\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar toObject = require('../internals/to-object');\n\nvar hasOwnProperty = uncurryThis({}.hasOwnProperty);\n\n// `HasOwnProperty` abstract operation\n// https://tc39.es/ecma262/#sec-hasownproperty\n// eslint-disable-next-line es/no-object-hasown -- safe\nmodule.exports = Object.hasOwn || function hasOwn(it, key) {\n  return hasOwnProperty(toObject(it), key);\n};\n","'use strict';\nmodule.exports = {};\n","'use strict';\nvar DESCRIPTORS = require('../internals/descriptors');\nvar fails = require('../internals/fails');\nvar createElement = require('../internals/document-create-element');\n\n// Thanks to IE8 for its funny defineProperty\nmodule.exports = !DESCRIPTORS && !fails(function () {\n  // eslint-disable-next-line es/no-object-defineproperty -- required for testing\n  return Object.defineProperty(createElement('div'), 'a', {\n    get: function () { return 7; }\n  }).a !== 7;\n});\n","'use strict';\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar fails = require('../internals/fails');\nvar classof = require('../internals/classof-raw');\n\nvar $Object = Object;\nvar split = uncurryThis(''.split);\n\n// fallback for non-array-like ES3 and non-enumerable old V8 strings\nmodule.exports = fails(function () {\n  // throws an error in rhino, see https://github.com/mozilla/rhino/issues/346\n  // eslint-disable-next-line no-prototype-builtins -- safe\n  return !$Object('z').propertyIsEnumerable(0);\n}) ? function (it) {\n  return classof(it) === 'String' ? split(it, '') : $Object(it);\n} : $Object;\n","'use strict';\nvar isCallable = require('../internals/is-callable');\nvar isObject = require('../internals/is-object');\nvar setPrototypeOf = require('../internals/object-set-prototype-of');\n\n// makes subclassing work correct for wrapped built-ins\nmodule.exports = function ($this, dummy, Wrapper) {\n  var NewTarget, NewTargetPrototype;\n  if (\n    // it can work only with native `setPrototypeOf`\n    setPrototypeOf &&\n    // we haven't completely correct pre-ES6 way for getting `new.target`, so use this\n    isCallable(NewTarget = dummy.constructor) &&\n    NewTarget !== Wrapper &&\n    isObject(NewTargetPrototype = NewTarget.prototype) &&\n    NewTargetPrototype !== Wrapper.prototype\n  ) setPrototypeOf($this, NewTargetPrototype);\n  return $this;\n};\n","'use strict';\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar isCallable = require('../internals/is-callable');\nvar store = require('../internals/shared-store');\n\nvar functionToString = uncurryThis(Function.toString);\n\n// this helper broken in `core-js@3.4.1-3.4.4`, so we can't use `shared` helper\nif (!isCallable(store.inspectSource)) {\n  store.inspectSource = function (it) {\n    return functionToString(it);\n  };\n}\n\nmodule.exports = store.inspectSource;\n","'use strict';\nvar NATIVE_WEAK_MAP = require('../internals/weak-map-basic-detection');\nvar global = require('../internals/global');\nvar isObject = require('../internals/is-object');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar hasOwn = require('../internals/has-own-property');\nvar shared = require('../internals/shared-store');\nvar sharedKey = require('../internals/shared-key');\nvar hiddenKeys = require('../internals/hidden-keys');\n\nvar OBJECT_ALREADY_INITIALIZED = 'Object already initialized';\nvar TypeError = global.TypeError;\nvar WeakMap = global.WeakMap;\nvar set, get, has;\n\nvar enforce = function (it) {\n  return has(it) ? get(it) : set(it, {});\n};\n\nvar getterFor = function (TYPE) {\n  return function (it) {\n    var state;\n    if (!isObject(it) || (state = get(it)).type !== TYPE) {\n      throw new TypeError('Incompatible receiver, ' + TYPE + ' required');\n    } return state;\n  };\n};\n\nif (NATIVE_WEAK_MAP || shared.state) {\n  var store = shared.state || (shared.state = new WeakMap());\n  /* eslint-disable no-self-assign -- prototype methods protection */\n  store.get = store.get;\n  store.has = store.has;\n  store.set = store.set;\n  /* eslint-enable no-self-assign -- prototype methods protection */\n  set = function (it, metadata) {\n    if (store.has(it)) throw new TypeError(OBJECT_ALREADY_INITIALIZED);\n    metadata.facade = it;\n    store.set(it, metadata);\n    return metadata;\n  };\n  get = function (it) {\n    return store.get(it) || {};\n  };\n  has = function (it) {\n    return store.has(it);\n  };\n} else {\n  var STATE = sharedKey('state');\n  hiddenKeys[STATE] = true;\n  set = function (it, metadata) {\n    if (hasOwn(it, STATE)) throw new TypeError(OBJECT_ALREADY_INITIALIZED);\n    metadata.facade = it;\n    createNonEnumerableProperty(it, STATE, metadata);\n    return metadata;\n  };\n  get = function (it) {\n    return hasOwn(it, STATE) ? it[STATE] : {};\n  };\n  has = function (it) {\n    return hasOwn(it, STATE);\n  };\n}\n\nmodule.exports = {\n  set: set,\n  get: get,\n  has: has,\n  enforce: enforce,\n  getterFor: getterFor\n};\n","'use strict';\nvar classof = require('../internals/classof-raw');\n\n// `IsArray` abstract operation\n// https://tc39.es/ecma262/#sec-isarray\n// eslint-disable-next-line es/no-array-isarray -- safe\nmodule.exports = Array.isArray || function isArray(argument) {\n  return classof(argument) === 'Array';\n};\n","'use strict';\nvar classof = require('../internals/classof');\n\nmodule.exports = function (it) {\n  var klass = classof(it);\n  return klass === 'BigInt64Array' || klass === 'BigUint64Array';\n};\n","'use strict';\n// https://tc39.es/ecma262/#sec-IsHTMLDDA-internal-slot\nvar documentAll = typeof document == 'object' && document.all;\n\n// `IsCallable` abstract operation\n// https://tc39.es/ecma262/#sec-iscallable\n// eslint-disable-next-line unicorn/no-typeof-undefined -- required for testing\nmodule.exports = typeof documentAll == 'undefined' && documentAll !== undefined ? function (argument) {\n  return typeof argument == 'function' || argument === documentAll;\n} : function (argument) {\n  return typeof argument == 'function';\n};\n","'use strict';\nvar fails = require('../internals/fails');\nvar isCallable = require('../internals/is-callable');\n\nvar replacement = /#|\\.prototype\\./;\n\nvar isForced = function (feature, detection) {\n  var value = data[normalize(feature)];\n  return value === POLYFILL ? true\n    : value === NATIVE ? false\n    : isCallable(detection) ? fails(detection)\n    : !!detection;\n};\n\nvar normalize = isForced.normalize = function (string) {\n  return String(string).replace(replacement, '.').toLowerCase();\n};\n\nvar data = isForced.data = {};\nvar NATIVE = isForced.NATIVE = 'N';\nvar POLYFILL = isForced.POLYFILL = 'P';\n\nmodule.exports = isForced;\n","'use strict';\n// we can't use just `it == null` since of `document.all` special case\n// https://tc39.es/ecma262/#sec-IsHTMLDDA-internal-slot-aec\nmodule.exports = function (it) {\n  return it === null || it === undefined;\n};\n","'use strict';\nvar isCallable = require('../internals/is-callable');\n\nmodule.exports = function (it) {\n  return typeof it == 'object' ? it !== null : isCallable(it);\n};\n","'use strict';\nvar isObject = require('../internals/is-object');\n\nmodule.exports = function (argument) {\n  return isObject(argument) || argument === null;\n};\n","'use strict';\nmodule.exports = false;\n","'use strict';\nvar getBuiltIn = require('../internals/get-built-in');\nvar isCallable = require('../internals/is-callable');\nvar isPrototypeOf = require('../internals/object-is-prototype-of');\nvar USE_SYMBOL_AS_UID = require('../internals/use-symbol-as-uid');\n\nvar $Object = Object;\n\nmodule.exports = USE_SYMBOL_AS_UID ? function (it) {\n  return typeof it == 'symbol';\n} : function (it) {\n  var $Symbol = getBuiltIn('Symbol');\n  return isCallable($Symbol) && isPrototypeOf($Symbol.prototype, $Object(it));\n};\n","'use strict';\nvar toLength = require('../internals/to-length');\n\n// `LengthOfArrayLike` abstract operation\n// https://tc39.es/ecma262/#sec-lengthofarraylike\nmodule.exports = function (obj) {\n  return toLength(obj.length);\n};\n","'use strict';\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar fails = require('../internals/fails');\nvar isCallable = require('../internals/is-callable');\nvar hasOwn = require('../internals/has-own-property');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar CONFIGURABLE_FUNCTION_NAME = require('../internals/function-name').CONFIGURABLE;\nvar inspectSource = require('../internals/inspect-source');\nvar InternalStateModule = require('../internals/internal-state');\n\nvar enforceInternalState = InternalStateModule.enforce;\nvar getInternalState = InternalStateModule.get;\nvar $String = String;\n// eslint-disable-next-line es/no-object-defineproperty -- safe\nvar defineProperty = Object.defineProperty;\nvar stringSlice = uncurryThis(''.slice);\nvar replace = uncurryThis(''.replace);\nvar join = uncurryThis([].join);\n\nvar CONFIGURABLE_LENGTH = DESCRIPTORS && !fails(function () {\n  return defineProperty(function () { /* empty */ }, 'length', { value: 8 }).length !== 8;\n});\n\nvar TEMPLATE = String(String).split('String');\n\nvar makeBuiltIn = module.exports = function (value, name, options) {\n  if (stringSlice($String(name), 0, 7) === 'Symbol(') {\n    name = '[' + replace($String(name), /^Symbol\\(([^)]*)\\).*$/, '$1') + ']';\n  }\n  if (options && options.getter) name = 'get ' + name;\n  if (options && options.setter) name = 'set ' + name;\n  if (!hasOwn(value, 'name') || (CONFIGURABLE_FUNCTION_NAME && value.name !== name)) {\n    if (DESCRIPTORS) defineProperty(value, 'name', { value: name, configurable: true });\n    else value.name = name;\n  }\n  if (CONFIGURABLE_LENGTH && options && hasOwn(options, 'arity') && value.length !== options.arity) {\n    defineProperty(value, 'length', { value: options.arity });\n  }\n  try {\n    if (options && hasOwn(options, 'constructor') && options.constructor) {\n      if (DESCRIPTORS) defineProperty(value, 'prototype', { writable: false });\n    // in V8 ~ Chrome 53, prototypes of some methods, like `Array.prototype.values`, are non-writable\n    } else if (value.prototype) value.prototype = undefined;\n  } catch (error) { /* empty */ }\n  var state = enforceInternalState(value);\n  if (!hasOwn(state, 'source')) {\n    state.source = join(TEMPLATE, typeof name == 'string' ? name : '');\n  } return value;\n};\n\n// add fake Function#toString for correct work wrapped methods / constructors with methods like LoDash isNative\n// eslint-disable-next-line no-extend-native -- required\nFunction.prototype.toString = makeBuiltIn(function toString() {\n  return isCallable(this) && getInternalState(this).source || inspectSource(this);\n}, 'toString');\n","'use strict';\nvar ceil = Math.ceil;\nvar floor = Math.floor;\n\n// `Math.trunc` method\n// https://tc39.es/ecma262/#sec-math.trunc\n// eslint-disable-next-line es/no-math-trunc -- safe\nmodule.exports = Math.trunc || function trunc(x) {\n  var n = +x;\n  return (n > 0 ? floor : ceil)(n);\n};\n","'use strict';\nvar toString = require('../internals/to-string');\n\nmodule.exports = function (argument, $default) {\n  return argument === undefined ? arguments.length < 2 ? '' : $default : toString(argument);\n};\n","'use strict';\nvar DESCRIPTORS = require('../internals/descriptors');\nvar IE8_DOM_DEFINE = require('../internals/ie8-dom-define');\nvar V8_PROTOTYPE_DEFINE_BUG = require('../internals/v8-prototype-define-bug');\nvar anObject = require('../internals/an-object');\nvar toPropertyKey = require('../internals/to-property-key');\n\nvar $TypeError = TypeError;\n// eslint-disable-next-line es/no-object-defineproperty -- safe\nvar $defineProperty = Object.defineProperty;\n// eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe\nvar $getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\nvar ENUMERABLE = 'enumerable';\nvar CONFIGURABLE = 'configurable';\nvar WRITABLE = 'writable';\n\n// `Object.defineProperty` method\n// https://tc39.es/ecma262/#sec-object.defineproperty\nexports.f = DESCRIPTORS ? V8_PROTOTYPE_DEFINE_BUG ? function defineProperty(O, P, Attributes) {\n  anObject(O);\n  P = toPropertyKey(P);\n  anObject(Attributes);\n  if (typeof O === 'function' && P === 'prototype' && 'value' in Attributes && WRITABLE in Attributes && !Attributes[WRITABLE]) {\n    var current = $getOwnPropertyDescriptor(O, P);\n    if (current && current[WRITABLE]) {\n      O[P] = Attributes.value;\n      Attributes = {\n        configurable: CONFIGURABLE in Attributes ? Attributes[CONFIGURABLE] : current[CONFIGURABLE],\n        enumerable: ENUMERABLE in Attributes ? Attributes[ENUMERABLE] : current[ENUMERABLE],\n        writable: false\n      };\n    }\n  } return $defineProperty(O, P, Attributes);\n} : $defineProperty : function defineProperty(O, P, Attributes) {\n  anObject(O);\n  P = toPropertyKey(P);\n  anObject(Attributes);\n  if (IE8_DOM_DEFINE) try {\n    return $defineProperty(O, P, Attributes);\n  } catch (error) { /* empty */ }\n  if ('get' in Attributes || 'set' in Attributes) throw new $TypeError('Accessors not supported');\n  if ('value' in Attributes) O[P] = Attributes.value;\n  return O;\n};\n","'use strict';\nvar DESCRIPTORS = require('../internals/descriptors');\nvar call = require('../internals/function-call');\nvar propertyIsEnumerableModule = require('../internals/object-property-is-enumerable');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar toPropertyKey = require('../internals/to-property-key');\nvar hasOwn = require('../internals/has-own-property');\nvar IE8_DOM_DEFINE = require('../internals/ie8-dom-define');\n\n// eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe\nvar $getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n// `Object.getOwnPropertyDescriptor` method\n// https://tc39.es/ecma262/#sec-object.getownpropertydescriptor\nexports.f = DESCRIPTORS ? $getOwnPropertyDescriptor : function getOwnPropertyDescriptor(O, P) {\n  O = toIndexedObject(O);\n  P = toPropertyKey(P);\n  if (IE8_DOM_DEFINE) try {\n    return $getOwnPropertyDescriptor(O, P);\n  } catch (error) { /* empty */ }\n  if (hasOwn(O, P)) return createPropertyDescriptor(!call(propertyIsEnumerableModule.f, O, P), O[P]);\n};\n","'use strict';\nvar internalObjectKeys = require('../internals/object-keys-internal');\nvar enumBugKeys = require('../internals/enum-bug-keys');\n\nvar hiddenKeys = enumBugKeys.concat('length', 'prototype');\n\n// `Object.getOwnPropertyNames` method\n// https://tc39.es/ecma262/#sec-object.getownpropertynames\n// eslint-disable-next-line es/no-object-getownpropertynames -- safe\nexports.f = Object.getOwnPropertyNames || function getOwnPropertyNames(O) {\n  return internalObjectKeys(O, hiddenKeys);\n};\n","'use strict';\n// eslint-disable-next-line es/no-object-getownpropertysymbols -- safe\nexports.f = Object.getOwnPropertySymbols;\n","'use strict';\nvar hasOwn = require('../internals/has-own-property');\nvar isCallable = require('../internals/is-callable');\nvar toObject = require('../internals/to-object');\nvar sharedKey = require('../internals/shared-key');\nvar CORRECT_PROTOTYPE_GETTER = require('../internals/correct-prototype-getter');\n\nvar IE_PROTO = sharedKey('IE_PROTO');\nvar $Object = Object;\nvar ObjectPrototype = $Object.prototype;\n\n// `Object.getPrototypeOf` method\n// https://tc39.es/ecma262/#sec-object.getprototypeof\n// eslint-disable-next-line es/no-object-getprototypeof -- safe\nmodule.exports = CORRECT_PROTOTYPE_GETTER ? $Object.getPrototypeOf : function (O) {\n  var object = toObject(O);\n  if (hasOwn(object, IE_PROTO)) return object[IE_PROTO];\n  var constructor = object.constructor;\n  if (isCallable(constructor) && object instanceof constructor) {\n    return constructor.prototype;\n  } return object instanceof $Object ? ObjectPrototype : null;\n};\n","'use strict';\nvar uncurryThis = require('../internals/function-uncurry-this');\n\nmodule.exports = uncurryThis({}.isPrototypeOf);\n","'use strict';\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar hasOwn = require('../internals/has-own-property');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar indexOf = require('../internals/array-includes').indexOf;\nvar hiddenKeys = require('../internals/hidden-keys');\n\nvar push = uncurryThis([].push);\n\nmodule.exports = function (object, names) {\n  var O = toIndexedObject(object);\n  var i = 0;\n  var result = [];\n  var key;\n  for (key in O) !hasOwn(hiddenKeys, key) && hasOwn(O, key) && push(result, key);\n  // Don't enum bug & hidden keys\n  while (names.length > i) if (hasOwn(O, key = names[i++])) {\n    ~indexOf(result, key) || push(result, key);\n  }\n  return result;\n};\n","'use strict';\nvar $propertyIsEnumerable = {}.propertyIsEnumerable;\n// eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe\nvar getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n// Nashorn ~ JDK8 bug\nvar NASHORN_BUG = getOwnPropertyDescriptor && !$propertyIsEnumerable.call({ 1: 2 }, 1);\n\n// `Object.prototype.propertyIsEnumerable` method implementation\n// https://tc39.es/ecma262/#sec-object.prototype.propertyisenumerable\nexports.f = NASHORN_BUG ? function propertyIsEnumerable(V) {\n  var descriptor = getOwnPropertyDescriptor(this, V);\n  return !!descriptor && descriptor.enumerable;\n} : $propertyIsEnumerable;\n","'use strict';\n/* eslint-disable no-proto -- safe */\nvar uncurryThisAccessor = require('../internals/function-uncurry-this-accessor');\nvar anObject = require('../internals/an-object');\nvar aPossiblePrototype = require('../internals/a-possible-prototype');\n\n// `Object.setPrototypeOf` method\n// https://tc39.es/ecma262/#sec-object.setprototypeof\n// Works with __proto__ only. Old v8 can't work with null proto objects.\n// eslint-disable-next-line es/no-object-setprototypeof -- safe\nmodule.exports = Object.setPrototypeOf || ('__proto__' in {} ? function () {\n  var CORRECT_SETTER = false;\n  var test = {};\n  var setter;\n  try {\n    setter = uncurryThisAccessor(Object.prototype, '__proto__', 'set');\n    setter(test, []);\n    CORRECT_SETTER = test instanceof Array;\n  } catch (error) { /* empty */ }\n  return function setPrototypeOf(O, proto) {\n    anObject(O);\n    aPossiblePrototype(proto);\n    if (CORRECT_SETTER) setter(O, proto);\n    else O.__proto__ = proto;\n    return O;\n  };\n}() : undefined);\n","'use strict';\nvar call = require('../internals/function-call');\nvar isCallable = require('../internals/is-callable');\nvar isObject = require('../internals/is-object');\n\nvar $TypeError = TypeError;\n\n// `OrdinaryToPrimitive` abstract operation\n// https://tc39.es/ecma262/#sec-ordinarytoprimitive\nmodule.exports = function (input, pref) {\n  var fn, val;\n  if (pref === 'string' && isCallable(fn = input.toString) && !isObject(val = call(fn, input))) return val;\n  if (isCallable(fn = input.valueOf) && !isObject(val = call(fn, input))) return val;\n  if (pref !== 'string' && isCallable(fn = input.toString) && !isObject(val = call(fn, input))) return val;\n  throw new $TypeError(\"Can't convert object to primitive value\");\n};\n","'use strict';\nvar getBuiltIn = require('../internals/get-built-in');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar getOwnPropertyNamesModule = require('../internals/object-get-own-property-names');\nvar getOwnPropertySymbolsModule = require('../internals/object-get-own-property-symbols');\nvar anObject = require('../internals/an-object');\n\nvar concat = uncurryThis([].concat);\n\n// all object keys, includes non-enumerable and symbols\nmodule.exports = getBuiltIn('Reflect', 'ownKeys') || function ownKeys(it) {\n  var keys = getOwnPropertyNamesModule.f(anObject(it));\n  var getOwnPropertySymbols = getOwnPropertySymbolsModule.f;\n  return getOwnPropertySymbols ? concat(keys, getOwnPropertySymbols(it)) : keys;\n};\n","'use strict';\nvar isNullOrUndefined = require('../internals/is-null-or-undefined');\n\nvar $TypeError = TypeError;\n\n// `RequireObjectCoercible` abstract operation\n// https://tc39.es/ecma262/#sec-requireobjectcoercible\nmodule.exports = function (it) {\n  if (isNullOrUndefined(it)) throw new $TypeError(\"Can't call method on \" + it);\n  return it;\n};\n","'use strict';\nvar shared = require('../internals/shared');\nvar uid = require('../internals/uid');\n\nvar keys = shared('keys');\n\nmodule.exports = function (key) {\n  return keys[key] || (keys[key] = uid(key));\n};\n","'use strict';\nvar global = require('../internals/global');\nvar defineGlobalProperty = require('../internals/define-global-property');\n\nvar SHARED = '__core-js_shared__';\nvar store = global[SHARED] || defineGlobalProperty(SHARED, {});\n\nmodule.exports = store;\n","'use strict';\nvar IS_PURE = require('../internals/is-pure');\nvar store = require('../internals/shared-store');\n\n(module.exports = function (key, value) {\n  return store[key] || (store[key] = value !== undefined ? value : {});\n})('versions', []).push({\n  version: '3.35.1',\n  mode: IS_PURE ? 'pure' : 'global',\n  copyright: '© 2014-2024 Denis Pushkarev (zloirock.ru)',\n  license: 'https://github.com/zloirock/core-js/blob/v3.35.1/LICENSE',\n  source: 'https://github.com/zloirock/core-js'\n});\n","'use strict';\n/* eslint-disable es/no-symbol -- required for testing */\nvar V8_VERSION = require('../internals/engine-v8-version');\nvar fails = require('../internals/fails');\nvar global = require('../internals/global');\n\nvar $String = global.String;\n\n// eslint-disable-next-line es/no-object-getownpropertysymbols -- required for testing\nmodule.exports = !!Object.getOwnPropertySymbols && !fails(function () {\n  var symbol = Symbol('symbol detection');\n  // Chrome 38 Symbol has incorrect toString conversion\n  // `get-own-property-symbols` polyfill symbols converted to object are not Symbol instances\n  // nb: Do not call `String` directly to avoid this being optimized out to `symbol+''` which will,\n  // of course, fail.\n  return !$String(symbol) || !(Object(symbol) instanceof Symbol) ||\n    // Chrome 38-40 symbols are not inherited from DOM collections prototypes to instances\n    !Symbol.sham && V8_VERSION && V8_VERSION < 41;\n});\n","'use strict';\nvar toIntegerOrInfinity = require('../internals/to-integer-or-infinity');\n\nvar max = Math.max;\nvar min = Math.min;\n\n// Helper for a popular repeating case of the spec:\n// Let integer be ? ToInteger(index).\n// If integer < 0, let result be max((length + integer), 0); else let result be min(integer, length).\nmodule.exports = function (index, length) {\n  var integer = toIntegerOrInfinity(index);\n  return integer < 0 ? max(integer + length, 0) : min(integer, length);\n};\n","'use strict';\nvar toPrimitive = require('../internals/to-primitive');\n\nvar $TypeError = TypeError;\n\n// `ToBigInt` abstract operation\n// https://tc39.es/ecma262/#sec-tobigint\nmodule.exports = function (argument) {\n  var prim = toPrimitive(argument, 'number');\n  if (typeof prim == 'number') throw new $TypeError(\"Can't convert number to bigint\");\n  // eslint-disable-next-line es/no-bigint -- safe\n  return BigInt(prim);\n};\n","'use strict';\n// toObject with fallback for non-array-like ES3 strings\nvar IndexedObject = require('../internals/indexed-object');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\n\nmodule.exports = function (it) {\n  return IndexedObject(requireObjectCoercible(it));\n};\n","'use strict';\nvar trunc = require('../internals/math-trunc');\n\n// `ToIntegerOrInfinity` abstract operation\n// https://tc39.es/ecma262/#sec-tointegerorinfinity\nmodule.exports = function (argument) {\n  var number = +argument;\n  // eslint-disable-next-line no-self-compare -- NaN check\n  return number !== number || number === 0 ? 0 : trunc(number);\n};\n","'use strict';\nvar toIntegerOrInfinity = require('../internals/to-integer-or-infinity');\n\nvar min = Math.min;\n\n// `ToLength` abstract operation\n// https://tc39.es/ecma262/#sec-tolength\nmodule.exports = function (argument) {\n  var len = toIntegerOrInfinity(argument);\n  return len > 0 ? min(len, 0x1FFFFFFFFFFFFF) : 0; // 2 ** 53 - 1 == 9007199254740991\n};\n","'use strict';\nvar requireObjectCoercible = require('../internals/require-object-coercible');\n\nvar $Object = Object;\n\n// `ToObject` abstract operation\n// https://tc39.es/ecma262/#sec-toobject\nmodule.exports = function (argument) {\n  return $Object(requireObjectCoercible(argument));\n};\n","'use strict';\nvar call = require('../internals/function-call');\nvar isObject = require('../internals/is-object');\nvar isSymbol = require('../internals/is-symbol');\nvar getMethod = require('../internals/get-method');\nvar ordinaryToPrimitive = require('../internals/ordinary-to-primitive');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar $TypeError = TypeError;\nvar TO_PRIMITIVE = wellKnownSymbol('toPrimitive');\n\n// `ToPrimitive` abstract operation\n// https://tc39.es/ecma262/#sec-toprimitive\nmodule.exports = function (input, pref) {\n  if (!isObject(input) || isSymbol(input)) return input;\n  var exoticToPrim = getMethod(input, TO_PRIMITIVE);\n  var result;\n  if (exoticToPrim) {\n    if (pref === undefined) pref = 'default';\n    result = call(exoticToPrim, input, pref);\n    if (!isObject(result) || isSymbol(result)) return result;\n    throw new $TypeError(\"Can't convert object to primitive value\");\n  }\n  if (pref === undefined) pref = 'number';\n  return ordinaryToPrimitive(input, pref);\n};\n","'use strict';\nvar toPrimitive = require('../internals/to-primitive');\nvar isSymbol = require('../internals/is-symbol');\n\n// `ToPropertyKey` abstract operation\n// https://tc39.es/ecma262/#sec-topropertykey\nmodule.exports = function (argument) {\n  var key = toPrimitive(argument, 'string');\n  return isSymbol(key) ? key : key + '';\n};\n","'use strict';\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\nvar test = {};\n\ntest[TO_STRING_TAG] = 'z';\n\nmodule.exports = String(test) === '[object z]';\n","'use strict';\nvar classof = require('../internals/classof');\n\nvar $String = String;\n\nmodule.exports = function (argument) {\n  if (classof(argument) === 'Symbol') throw new TypeError('Cannot convert a Symbol value to a string');\n  return $String(argument);\n};\n","'use strict';\nvar $String = String;\n\nmodule.exports = function (argument) {\n  try {\n    return $String(argument);\n  } catch (error) {\n    return 'Object';\n  }\n};\n","'use strict';\nvar uncurryThis = require('../internals/function-uncurry-this');\n\nvar id = 0;\nvar postfix = Math.random();\nvar toString = uncurryThis(1.0.toString);\n\nmodule.exports = function (key) {\n  return 'Symbol(' + (key === undefined ? '' : key) + ')_' + toString(++id + postfix, 36);\n};\n","'use strict';\n/* eslint-disable es/no-symbol -- required for testing */\nvar NATIVE_SYMBOL = require('../internals/symbol-constructor-detection');\n\nmodule.exports = NATIVE_SYMBOL\n  && !Symbol.sham\n  && typeof Symbol.iterator == 'symbol';\n","'use strict';\nvar DESCRIPTORS = require('../internals/descriptors');\nvar fails = require('../internals/fails');\n\n// V8 ~ Chrome 36-\n// https://bugs.chromium.org/p/v8/issues/detail?id=3334\nmodule.exports = DESCRIPTORS && fails(function () {\n  // eslint-disable-next-line es/no-object-defineproperty -- required for testing\n  return Object.defineProperty(function () { /* empty */ }, 'prototype', {\n    value: 42,\n    writable: false\n  }).prototype !== 42;\n});\n","'use strict';\nvar global = require('../internals/global');\nvar isCallable = require('../internals/is-callable');\n\nvar WeakMap = global.WeakMap;\n\nmodule.exports = isCallable(WeakMap) && /native code/.test(String(WeakMap));\n","'use strict';\nvar global = require('../internals/global');\nvar shared = require('../internals/shared');\nvar hasOwn = require('../internals/has-own-property');\nvar uid = require('../internals/uid');\nvar NATIVE_SYMBOL = require('../internals/symbol-constructor-detection');\nvar USE_SYMBOL_AS_UID = require('../internals/use-symbol-as-uid');\n\nvar Symbol = global.Symbol;\nvar WellKnownSymbolsStore = shared('wks');\nvar createWellKnownSymbol = USE_SYMBOL_AS_UID ? Symbol['for'] || Symbol : Symbol && Symbol.withoutSetter || uid;\n\nmodule.exports = function (name) {\n  if (!hasOwn(WellKnownSymbolsStore, name)) {\n    WellKnownSymbolsStore[name] = NATIVE_SYMBOL && hasOwn(Symbol, name)\n      ? Symbol[name]\n      : createWellKnownSymbol('Symbol.' + name);\n  } return WellKnownSymbolsStore[name];\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar toObject = require('../internals/to-object');\nvar lengthOfArrayLike = require('../internals/length-of-array-like');\nvar setArrayLength = require('../internals/array-set-length');\nvar doesNotExceedSafeInteger = require('../internals/does-not-exceed-safe-integer');\nvar fails = require('../internals/fails');\n\nvar INCORRECT_TO_LENGTH = fails(function () {\n  return [].push.call({ length: 0x100000000 }, 1) !== 4294967297;\n});\n\n// V8 <= 121 and Safari <= 15.4; FF < 23 throws InternalError\n// https://bugs.chromium.org/p/v8/issues/detail?id=12681\nvar properErrorOnNonWritableLength = function () {\n  try {\n    // eslint-disable-next-line es/no-object-defineproperty -- safe\n    Object.defineProperty([], 'length', { writable: false }).push();\n  } catch (error) {\n    return error instanceof TypeError;\n  }\n};\n\nvar FORCED = INCORRECT_TO_LENGTH || !properErrorOnNonWritableLength();\n\n// `Array.prototype.push` method\n// https://tc39.es/ecma262/#sec-array.prototype.push\n$({ target: 'Array', proto: true, arity: 1, forced: FORCED }, {\n  // eslint-disable-next-line no-unused-vars -- required for `.length`\n  push: function push(item) {\n    var O = toObject(this);\n    var len = lengthOfArrayLike(O);\n    var argCount = arguments.length;\n    doesNotExceedSafeInteger(len + argCount);\n    for (var i = 0; i < argCount; i++) {\n      O[len] = arguments[i];\n      len++;\n    }\n    setArrayLength(O, len);\n    return len;\n  }\n});\n","'use strict';\nvar arrayToReversed = require('../internals/array-to-reversed');\nvar ArrayBufferViewCore = require('../internals/array-buffer-view-core');\n\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\nvar getTypedArrayConstructor = ArrayBufferViewCore.getTypedArrayConstructor;\n\n// `%TypedArray%.prototype.toReversed` method\n// https://tc39.es/ecma262/#sec-%typedarray%.prototype.toreversed\nexportTypedArrayMethod('toReversed', function toReversed() {\n  return arrayToReversed(aTypedArray(this), getTypedArrayConstructor(this));\n});\n","'use strict';\nvar ArrayBufferViewCore = require('../internals/array-buffer-view-core');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar aCallable = require('../internals/a-callable');\nvar arrayFromConstructorAndList = require('../internals/array-from-constructor-and-list');\n\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar getTypedArrayConstructor = ArrayBufferViewCore.getTypedArrayConstructor;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\nvar sort = uncurryThis(ArrayBufferViewCore.TypedArrayPrototype.sort);\n\n// `%TypedArray%.prototype.toSorted` method\n// https://tc39.es/ecma262/#sec-%typedarray%.prototype.tosorted\nexportTypedArrayMethod('toSorted', function toSorted(compareFn) {\n  if (compareFn !== undefined) aCallable(compareFn);\n  var O = aTypedArray(this);\n  var A = arrayFromConstructorAndList(getTypedArrayConstructor(O), O);\n  return sort(A, compareFn);\n});\n","'use strict';\nvar arrayWith = require('../internals/array-with');\nvar ArrayBufferViewCore = require('../internals/array-buffer-view-core');\nvar isBigIntArray = require('../internals/is-big-int-array');\nvar toIntegerOrInfinity = require('../internals/to-integer-or-infinity');\nvar toBigInt = require('../internals/to-big-int');\n\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar getTypedArrayConstructor = ArrayBufferViewCore.getTypedArrayConstructor;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\n\nvar PROPER_ORDER = !!function () {\n  try {\n    // eslint-disable-next-line no-throw-literal, es/no-typed-arrays, es/no-array-prototype-with -- required for testing\n    new Int8Array(1)['with'](2, { valueOf: function () { throw 8; } });\n  } catch (error) {\n    // some early implementations, like WebKit, does not follow the final semantic\n    // https://github.com/tc39/proposal-change-array-by-copy/pull/86\n    return error === 8;\n  }\n}();\n\n// `%TypedArray%.prototype.with` method\n// https://tc39.es/ecma262/#sec-%typedarray%.prototype.with\nexportTypedArrayMethod('with', { 'with': function (index, value) {\n  var O = aTypedArray(this);\n  var relativeIndex = toIntegerOrInfinity(index);\n  var actualValue = isBigIntArray(O) ? toBigInt(value) : +value;\n  return arrayWith(O, getTypedArrayConstructor(O), relativeIndex, actualValue);\n} }['with'], !PROPER_ORDER);\n","'use strict';\nvar $ = require('../internals/export');\nvar global = require('../internals/global');\nvar getBuiltIn = require('../internals/get-built-in');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\nvar defineProperty = require('../internals/object-define-property').f;\nvar hasOwn = require('../internals/has-own-property');\nvar anInstance = require('../internals/an-instance');\nvar inheritIfRequired = require('../internals/inherit-if-required');\nvar normalizeStringArgument = require('../internals/normalize-string-argument');\nvar DOMExceptionConstants = require('../internals/dom-exception-constants');\nvar clearErrorStack = require('../internals/error-stack-clear');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar IS_PURE = require('../internals/is-pure');\n\nvar DOM_EXCEPTION = 'DOMException';\nvar Error = getBuiltIn('Error');\nvar NativeDOMException = getBuiltIn(DOM_EXCEPTION);\n\nvar $DOMException = function DOMException() {\n  anInstance(this, DOMExceptionPrototype);\n  var argumentsLength = arguments.length;\n  var message = normalizeStringArgument(argumentsLength < 1 ? undefined : arguments[0]);\n  var name = normalizeStringArgument(argumentsLength < 2 ? undefined : arguments[1], 'Error');\n  var that = new NativeDOMException(message, name);\n  var error = new Error(message);\n  error.name = DOM_EXCEPTION;\n  defineProperty(that, 'stack', createPropertyDescriptor(1, clearErrorStack(error.stack, 1)));\n  inheritIfRequired(that, this, $DOMException);\n  return that;\n};\n\nvar DOMExceptionPrototype = $DOMException.prototype = NativeDOMException.prototype;\n\nvar ERROR_HAS_STACK = 'stack' in new Error(DOM_EXCEPTION);\nvar DOM_EXCEPTION_HAS_STACK = 'stack' in new NativeDOMException(1, 2);\n\n// eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe\nvar descriptor = NativeDOMException && DESCRIPTORS && Object.getOwnPropertyDescriptor(global, DOM_EXCEPTION);\n\n// Bun ~ 0.1.1 DOMException have incorrect descriptor and we can't redefine it\n// https://github.com/Jarred-Sumner/bun/issues/399\nvar BUGGY_DESCRIPTOR = !!descriptor && !(descriptor.writable && descriptor.configurable);\n\nvar FORCED_CONSTRUCTOR = ERROR_HAS_STACK && !BUGGY_DESCRIPTOR && !DOM_EXCEPTION_HAS_STACK;\n\n// `DOMException` constructor patch for `.stack` where it's required\n// https://webidl.spec.whatwg.org/#es-DOMException-specialness\n$({ global: true, constructor: true, forced: IS_PURE || FORCED_CONSTRUCTOR }, { // TODO: fix export logic\n  DOMException: FORCED_CONSTRUCTOR ? $DOMException : NativeDOMException\n});\n\nvar PolyfilledDOMException = getBuiltIn(DOM_EXCEPTION);\nvar PolyfilledDOMExceptionPrototype = PolyfilledDOMException.prototype;\n\nif (PolyfilledDOMExceptionPrototype.constructor !== PolyfilledDOMException) {\n  if (!IS_PURE) {\n    defineProperty(PolyfilledDOMExceptionPrototype, 'constructor', createPropertyDescriptor(1, PolyfilledDOMException));\n  }\n\n  for (var key in DOMExceptionConstants) if (hasOwn(DOMExceptionConstants, key)) {\n    var constant = DOMExceptionConstants[key];\n    var constantName = constant.s;\n    if (!hasOwn(PolyfilledDOMException, constantName)) {\n      defineProperty(PolyfilledDOMException, constantName, createPropertyDescriptor(6, constant.c));\n    }\n  }\n}\n"],"names":["root","factory","module","exports","window","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","INVALID_BYTE","Coder","_paddingCharacter","encodedLength","length","this","encode","data","out","_encodeByte","left","maxDecodedLength","decodedLength","_getPaddingLength","decode","Uint8Array","paddingLength","op","haveBad","v0","v1","v2","v3","_decodeChar","charCodeAt","Error","b","result","String","fromCharCode","stdCoder","URLSafeCoder","_super","__extends","urlSafeCoder","encodeURLSafe","decodeURLSafe","INVALID_UTF16","INVALID_UTF8","arr","pos","chars","min","n1","n2","n3","push","join","default","AuthRequestType","ScriptReceiverFactory","prefix","lastId","callback","number","id","called","callbackWrapper","apply","arguments","remove","receiver","ScriptReceivers","Defaults","VERSION","PROTOCOL","wsPort","wssPort","wsPath","httpHost","httpPort","httpsPort","httpPath","stats_host","authEndpoint","authTransport","activityTimeout","pongTimeout","unavailableTimeout","cluster","userAuthentication","endpoint","transport","channelAuthorization","cdn_http","cdn_https","dependency_suffix","defaults","dependency_loader_DependencyLoader","DependencyLoader","options","receivers","loading","load","self","request","runtime","createScriptRequest","getPath","error","callbacks","successCallback","wasSuccessful","cleanup","send","getRoot","cdn","protocol","getDocument","location","useTLS","replace","version","suffix","DependenciesReceivers","Dependencies","dependency_loader","urlStore","baseUrl","urls","authenticationEndpoint","path","authorizationEndpoint","javascriptQuickStart","triggeringClientEvents","encryptedChannelSupport","fullUrl","buildLogSuffix","url","urlPrefix","urlObj","url_store","BadEventName","msg","_this","setPrototypeOf","_newTarget","BadChannelName","RequestTimedOut","TransportPriorityTooLow","TransportClosed","UnsupportedFeature","UnsupportedTransport","UnsupportedStrategy","HTTPAuthError","status","ajax","context","query","authOptions","authRequestType","xhr","createXHR","headerName","open","setRequestHeader","headers","headersProvider","dynamicHeaders","onreadystatechange","readyState","parsed","JSON","parse","responseText","e","toString","UserAuthentication","ChannelAuthorization","xhr_auth","btoa","utob","b64chars","b64tab","base64_i","charAt","cb_utob","cc","u","cb_encode","ccc","padlen","ord","Timer","set","clear","delay","timer","isRunning","ensureAborted","abstract_timer","timers_clearTimeout","clearTimeout","timers_clearInterval","clearInterval","OneOffTimer","setTimeout","timers_extends","PeriodicTimer","setInterval","Util","now","Date","valueOf","defer","method","args","_i","boundArguments","Array","slice","concat","util","extend","target","sources","extensions","constructor","stringify","safeJSONStringify","arrayIndexOf","array","item","nativeIndexOf","indexOf","objectApply","f","keys","_","values","map","mapObject","filter","test","filterObject","Boolean","flatten","any","collections_all","encodeParamsObject","encodeURIComponent","buildQueryString","params","undefined","decycleObject","objects","paths","derez","nu","$ref","source","logger_Logger","Logger","globalLog","message","console","log","debug","warn","globalLogWarn","globalLogError","defaultLoggingFunction","core_pusher","logToConsole","logger","jsonp","callbackName","nextAuthCallbackID","document","script","createElement","auth_callbacks","callback_name","src","head","getElementsByTagName","documentElement","insertBefore","firstChild","jsonp_auth","ScriptRequest","errorString","type","charset","addEventListener","onerror","onload","async","attachEvent","navigator","userAgent","errorScript","text","nextSibling","parentNode","removeChild","jsonp_request_JSONPRequest","JSONPRequest","getAgent","sender","scheme","host","createJSONPRequest","jsonp_timeline_jsonp","jsonp_timeline","getGenericURL","baseScheme","hostTLS","hostNonTLS","getGenericPath","queryString","ws","getInitial","http","sockjs","callback_registry_CallbackRegistry","CallbackRegistry","_callbacks","add","prefixedEventName","fn","names","removeCallback","removeAllCallbacks","binding","dispatcher_Dispatcher","Dispatcher","failThrough","callback_registry","global_callbacks","eventName","bind_global","unbind","unbind_global","unbind_all","emit","metadata","transport_connection_TransportConnection","TransportConnection","hooks","priority","initialize","transportConnectionInitializer","state","timeline","generateUniqueID","transport_connection_extends","handlesActivityChecks","supportsPing","connect","socket","getSocket","onError","changeState","bindListeners","close","ping","onOpen","beforeOpen","onopen","buildTimelineMessage","onClose","closeEvent","code","reason","wasClean","unbindListeners","onMessage","onActivity","onclose","onmessage","onactivity","info","cid","dispatcher","transport_Transport","Transport","isSupported","environment","createConnection","transport_connection","WSTransport","transports_transport","isInitialized","getWebSocketAPI","createWebSocket","httpConfiguration","streamingConfiguration","HTTPFactory","createStreamingSocket","pollingConfiguration","createPollingSocket","xhrConfiguration","isXHRSupported","XHRStreamingTransport","XHRPollingTransport","Transports","xhr_streaming","xhr_polling","transports","SockJSTransport","file","SockJS","js_path","ignore_null_origin","ignoreNullOrigin","xdrConfiguration","yes","isXDRSupported","XDRStreamingTransport","XDRPollingTransport","xdr_streaming","xdr_polling","transports_transports","NetInfo","net_info_extends","isOnline","onLine","net_info_Network","assistant_to_the_transport_manager_AssistantToTheTransportManager","AssistantToTheTransportManager","manager","minPingDelay","maxPingDelay","pingDelay","connection","openTimestamp","onClosed","reportDeath","lifespan","Math","max","isAlive","Protocol","decodeMessage","messageEvent","messageData","pusherEventData","pusherEvent","event","channel","user_id","encodeMessage","processHandshake","activity_timeout","action","socket_id","getCloseAction","getCloseError","protocol_protocol","connection_Connection","Connection","connection_extends","send_event","listeners","activity","closed","handleCloseEvent","listener","handshake_Handshake","Handshake","finish","connection_connection","timeline_sender_TimelineSender","TimelineSender","isEmpty","TimelineTransport","channel_Channel","Channel","pusher","subscribed","subscriptionPending","subscriptionCancelled","channel_extends","authorize","socketId","auth","trigger","disconnect","handleEvent","handleSubscriptionSucceededEvent","handleSubscriptionCountEvent","unsubscribe","subscription_count","subscriptionCount","subscribe","assign","channel_data","cancelSubscription","reinstateSubscription","PrivateChannel","private_channel_extends","config","channelAuthorizer","channelName","channels_channel","members_Members","Members","reset","members","each","member","setMyID","myID","onSubscription","subscriptionData","presence","hash","count","me","addMember","memberData","user_info","removeMember","presence_channel_PresenceChannel","PresenceChannel","presence_channel_extends","authData","__awaiter","channelData","user","signinDonePromise","_a","sent","user_data","handleInternalEvent","addedMember","removedMember","private_channel","encrypted_channel_EncryptedChannel","EncryptedChannel","nacl","encrypted_channel_extends","sharedSecret","base64","handleEncryptedEvent","ciphertext","nonce","cipherText","secretbox","overheadLength","nonceLength","bytes","getDataToEmit","raw","utf8","connection_manager_ConnectionManager","ConnectionManager","usingTLS","errorCallbacks","buildErrorCallbacks","connectionCallbacks","buildConnectionCallbacks","handshakeCallbacks","buildHandshakeCallbacks","Network","getNetwork","netinfo","retryIn","sendActivityCheck","updateStrategy","connection_manager_extends","runner","strategy","updateState","startConnecting","setUnavailableTimer","disconnectInternally","isUsingTLS","handshake","handshakeError","abortConnecting","abort","clearRetryTimer","clearUnavailableTimer","abandonConnection","getStrategy","round","retryTimer","unavailableTimer","stopActivityCheck","activityTimer","pong_timed_out","resetActivityCheck","shouldRetry","connected","Infinity","setConnection","withErrorEmitted","tls_only","refused","backoff","retry","newState","previousState","newStateDescription","previous","current","channels_Channels","Channels","channels","createChannel","all","find","createEncryptedChannel","errMsg","createPrivateChannel","createPresenceChannel","Factory","createChannels","createConnectionManager","connection_manager","presence_channel","encrypted_channel","createTimelineSender","timeline_sender","createHandshake","connection_handshake","createAssistantToTheTransportManager","assistant_to_the_transport_manager","transport_manager_TransportManager","TransportManager","livesLeft","lives","getAssistant","sequential_strategy_SequentialStrategy","SequentialStrategy","strategies","loop","failFast","timeout","timeoutLimit","minPriority","tryNextStrategy","tryStrategy","forceMinPriority","best_connected_ever_strategy_BestConnectedEverStrategy","BestConnectedEverStrategy","runners","allRunnersFailed","callbackBuilder","rs","abortRunner","aborted","cached_strategy_CachedStrategy","CachedStrategy","ttl","fetchTransportCache","timestamp","cached","latency","sequential_strategy","startTimestamp","pop","cb","flushTransportCache","storeTransportCache","getTransportCacheKey","storage","getLocalStorage","serializedCache","delayed_strategy_DelayedStrategy","DelayedStrategy","IfStrategy","trueBranch","falseBranch","branch","FirstConnectedStrategy","testSupportsStrategy","State","getDefaultStrategy","baseOptions","defineTransport","definedTransports","defineTransportStrategy","wsStrategy","ws_options","wsHost","wss_options","sockjs_options","timeouts","ws_manager","transport_manager","streaming_manager","ws_transport","wss_transport","sockjs_transport","xhr_streaming_transport","xdr_streaming_transport","xhr_polling_transport","xdr_polling_transport","ws_loop","wss_loop","sockjs_loop","streaming_loop","if_strategy","polling_loop","http_loop","best_connected_ever_strategy","delayed_strategy","http_fallback_loop","cached_strategy","first_connected_strategy","default_strategy","transport_connection_initializer","http_xdomain_request_hooks","getRequest","xdr","XDomainRequest","ontimeout","onprogress","onChunk","abortRequest","http_xdomain_request","MAX_BUFFER_LENGTH","http_request_HTTPRequest","HTTPRequest","http_request_extends","start","payload","position","unloader","addUnloadListener","removeUnloadListener","chunk","advanceBuffer","isBufferTooLong","buffer","unreadData","endOfLinePosition","autoIncrement","http_socket_HTTPSocket","HTTPSocket","session","randomNumber","randomString","getLocation","CONNECTING","openStream","sendRaw","sendHeartbeat","OPEN","createSocketRequest","getUniqueURL","getSendURL","reconnect","closeStream","CLOSED","onEvent","onHeartbeat","hostname","base","replaceHost","stream","getReceiveURL","onFinished","parts","exec","separator","urlParts","randomInt","http_socket","http_streaming_socket_hooks","http_streaming_socket","http_polling_socket_hooks","http_polling_socket","http_xhr_request_hooks","Constructor","getXHRAPI","http_xhr_request","HTTP","createSocket","createRequest","http_request","http_http","createXDR","TimelineLevel","web_http_http","Runtime","XMLHttpRequest","WebSocket","MozWebSocket","setup","PusherClass","Pusher","initializeOnDocumentBody","onDocumentBody","ready","getProtocol","getAuthorizers","body","jsonp_request","script_request","localStorage","createXMLHttpRequest","createMicrosoftXHR","ActiveXObject","withCredentials","documentProtocol","removeEventListener","detachEvent","random","crypto","getRandomValues","Uint32Array","pow","floor","timeline_level","timeline_Timeline","Timeline","events","uniqueID","level","limit","shift","ERROR","INFO","DEBUG","sendfn","bundle","lib","features","transport_strategy_TransportStrategy","TransportStrategy","failAttempt","onInitialized","serializedTransport","strategy_builder_Transports","strategy_builder_defineTransport","transportClass","enabled","enabledTransports","disabledTransports","transport_strategy","strategy_builder_UnsupportedStrategy","deferred","composeChannelQuery","paramsProvider","dynamicParams","UserAuthenticator","user_authenticator","channel_authorizer_composeChannelQuery","ChannelAuthorizer","channel_authorizer","ChannelAuthorizerProxy","channelAuthorizerGenerator","deprecatedAuthorizerOptions","getConfig","opts","statsHost","enableStats","getEnableStatsConfig","getHttpHost","shouldUseTLS","getWebsocketHost","userAuthenticator","buildUserAuthenticator","buildChannelAuthorizer","timelineParams","getWebsocketHostFromCluster","forceTLS","disableStats","__assign","buildChannelAuth","customHandler","authorizer","watchlist_WatchlistFacade","WatchlistFacade","bindWatchlistInternalEvent","watchlist_extends","forEach","watchlistEvent","flatPromise","resolve","reject","promise","Promise","res","rej","flat_promise","user_UserFacade","UserFacade","signin_requested","serverToUserChannel","_signinDoneResolve","_onAuthorize","err","_cleanup","_signin","_newSigninPromiseIfNeeded","watchlist","_onSigninSuccess","user_extends","signin","_subscribeChannels","ensure_subscribed","done","setDone","then","pusher_Pusher","app_key","checkAppKey","global_emitter","sessionID","timeline_timeline","getClientFeatures","timelineSender","subscribeAll","internal","instances","isReady","allChannels","timelineSenderTimer","event_name","channel_name","__webpack_exports__","_createStaticVNode","_createElementBlock","_Fragment","_hoisted_1","_renderSlot","_ctx","$slots","_typeof","obj","iterator","_classCallCheck","instance","TypeError","_defineProperties","props","descriptor","configurable","writable","_createClass","protoProps","staticProps","_extends","_inherits","subClass","superClass","_setPrototypeOf","_getPrototypeOf","getPrototypeOf","__proto__","_isNativeReflectConstruct","Reflect","construct","sham","Proxy","_assertThisInitialized","ReferenceError","_possibleConstructorReturn","_createSuper","Derived","hasNativeReflectConstruct","Super","NewTarget","listen","stopListening","EventFormatter","namespace","substr","PusherChannel","_Channel","eventFormatter","subscription","on","format","_this2","startsWith","formattedEvent","substring","PusherPrivateChannel","_PusherChannel","PusherEncryptedPrivateChannel","PusherPresenceChannel","k","SocketIoChannel","unbindEvent","_this3","removeListener","SocketIoPrivateChannel","_SocketIoChannel","SocketIoPresenceChannel","_SocketIoPrivateChann","NullChannel","NullPrivateChannel","_NullChannel","NullPresenceChannel","Connector","_defaultOptions","broadcaster","csrfToken","bearerToken","setOptions","token","selector","querySelector","getAttribute","PusherConnector","_Connector","client","index","leaveChannel","SocketIoConnector","io","getSocketIO","NullConnector","Echo","withoutInterceptors","registerInterceptors","_channel","connector","presenceChannel","leave","privateChannel","encryptedPrivateChannel","Vue","registerVueRequestInterceptor","axios","registerAxiosRequestInterceptor","jQuery","registerjQueryAjaxSetup","Turbo","registerTurboRequestInterceptor","interceptors","next","use","ajaxPrefilter","originalOptions","_this4","detail","fetchOptions","require","process","httpsHost","wssHost","encrypted","authProfileSubscribe","getItem","profile","private","el","getElementById","innerHTML","authProfileDisconnect","leaveAllChannels","__exports__","render","isCallable","tryToString","$TypeError","argument","isPossiblePrototype","$String","isPrototypeOf","it","Prototype","isObject","ArrayBuffer","DataView","NAME","NATIVE_ARRAY_BUFFER","DESCRIPTORS","global","hasOwn","classof","createNonEnumerableProperty","defineBuiltIn","defineBuiltInAccessor","wellKnownSymbol","uid","InternalStateModule","enforceInternalState","enforce","getInternalState","Int8Array","Int8ArrayPrototype","Uint8ClampedArray","Uint8ClampedArrayPrototype","TypedArray","TypedArrayPrototype","ObjectPrototype","TO_STRING_TAG","TYPED_ARRAY_TAG","TYPED_ARRAY_CONSTRUCTOR","NATIVE_ARRAY_BUFFER_VIEWS","opera","TYPED_ARRAY_TAG_REQUIRED","TypedArrayConstructorsList","Int16Array","Uint16Array","Int32Array","Float32Array","Float64Array","BigIntArrayConstructorsList","BigInt64Array","BigUint64Array","isView","klass","getTypedArrayConstructor","proto","isTypedArray","aTypedArray","aTypedArrayConstructor","C","exportTypedArrayMethod","KEY","forced","ARRAY","TypedArrayConstructor","error2","exportTypedArrayStaticMethod","Function","lengthOfArrayLike","list","$length","toIndexedObject","toAbsoluteIndex","createMethod","IS_INCLUDES","$this","fromIndex","O","includes","isArray","getOwnPropertyDescriptor","SILENT_ON_NON_WRITABLE_LENGTH_SET","len","A","toIntegerOrInfinity","$RangeError","RangeError","relativeIndex","actualIndex","uncurryThis","stringSlice","TO_STRING_TAG_SUPPORT","classofRaw","$Object","CORRECT_ARGUMENTS","tryGet","tag","callee","ownKeys","getOwnPropertyDescriptorModule","definePropertyModule","exceptions","fails","F","createPropertyDescriptor","bitmap","makeBuiltIn","setter","defineGlobalProperty","simple","unsafe","nonConfigurable","nonWritable","EXISTS","MAX_SAFE_INTEGER","IndexSizeError","DOMStringSizeError","HierarchyRequestError","WrongDocumentError","InvalidCharacterError","NoDataAllowedError","NoModificationAllowedError","NotFoundError","NotSupportedError","InUseAttributeError","InvalidStateError","SyntaxError","InvalidModificationError","NamespaceError","InvalidAccessError","ValidationError","TypeMismatchError","SecurityError","NetworkError","AbortError","URLMismatchError","QuotaExceededError","TimeoutError","InvalidNodeTypeError","DataCloneError","match","Deno","versions","v8","split","$Error","TEST","arg","stack","V8_OR_CHAKRA_STACK_ENTRY","IS_V8_OR_CHAKRA_STACK","dropEntries","prepareStackTrace","copyConstructorProperties","isForced","FORCED","targetProperty","sourceProperty","TARGET","GLOBAL","STATIC","stat","dontCallGetSet","NATIVE_BIND","FunctionPrototype","getDescriptor","PROPER","CONFIGURABLE","aCallable","uncurryThisWithBind","aFunction","isNullOrUndefined","V","P","func","check","globalThis","g","toObject","a","propertyIsEnumerable","dummy","Wrapper","NewTargetPrototype","store","functionToString","inspectSource","has","NATIVE_WEAK_MAP","shared","sharedKey","hiddenKeys","OBJECT_ALREADY_INITIALIZED","WeakMap","getterFor","TYPE","facade","STATE","documentAll","replacement","feature","detection","normalize","POLYFILL","NATIVE","string","toLowerCase","getBuiltIn","USE_SYMBOL_AS_UID","$Symbol","toLength","CONFIGURABLE_FUNCTION_NAME","CONFIGURABLE_LENGTH","TEMPLATE","arity","ceil","trunc","x","$default","IE8_DOM_DEFINE","V8_PROTOTYPE_DEFINE_BUG","anObject","toPropertyKey","$defineProperty","$getOwnPropertyDescriptor","ENUMERABLE","WRITABLE","Attributes","propertyIsEnumerableModule","internalObjectKeys","enumBugKeys","getOwnPropertyNames","getOwnPropertySymbols","CORRECT_PROTOTYPE_GETTER","IE_PROTO","$propertyIsEnumerable","NASHORN_BUG","uncurryThisAccessor","aPossiblePrototype","CORRECT_SETTER","input","pref","val","getOwnPropertyNamesModule","getOwnPropertySymbolsModule","SHARED","IS_PURE","copyright","license","V8_VERSION","symbol","integer","toPrimitive","prim","BigInt","IndexedObject","requireObjectCoercible","isSymbol","getMethod","ordinaryToPrimitive","TO_PRIMITIVE","exoticToPrim","postfix","NATIVE_SYMBOL","WellKnownSymbolsStore","createWellKnownSymbol","withoutSetter","$","setArrayLength","doesNotExceedSafeInteger","INCORRECT_TO_LENGTH","properErrorOnNonWritableLength","argCount","arrayToReversed","ArrayBufferViewCore","arrayFromConstructorAndList","sort","compareFn","arrayWith","isBigIntArray","toBigInt","PROPER_ORDER","actualValue","anInstance","inheritIfRequired","normalizeStringArgument","DOMExceptionConstants","clearErrorStack","DOM_EXCEPTION","NativeDOMException","$DOMException","DOMExceptionPrototype","argumentsLength","that","ERROR_HAS_STACK","DOM_EXCEPTION_HAS_STACK","BUGGY_DESCRIPTOR","FORCED_CONSTRUCTOR","DOMException","PolyfilledDOMException","PolyfilledDOMExceptionPrototype","constant","constantName"],"sourceRoot":""}