<div class="ui-container">
    <div class="create-book__title ui-text-head--2 ui-text--bold">
        Сертификат
    </div>
</div>

<form class="lc-book-text ui-container-fluid wrapper"
      data-request-flash
      data-request="{{ __SELF__ }}::onSave"
      data-request-validate>

    <input type="hidden" name="sender_id" value="{{ sender_id }}">

    <div id="input-authors" style="margin-bottom: 16px">
        <div class="ui-input" style="position: relative">
            <label class="ui-input-label">Имя получателя</label>
            <input class="ui-input-item _size-32 books-autocomplete {{ autofocus ? 'should-focus' : '' }}"
                   type="text"
                   name="recipient_name"
                   placeholder="Поиск"/>
            <div class="ui-select-hitn"></div>
            <div class="ui-select-error" data-validate-for="authors"></div>

        </div>
    </div>

    <div id="recipient_value"></div>

    <div class="wrapper__header _indent-large ui-input">
        <div class="title-counter__container" data-title-counter="">
            <div class="title-counter__top">
                <label class="">Сумма перевода</label>
            </div>
            <input class="title-counter__input ui-input-item _size-32" type="number" name="amount"
                   max="{{ user_amount }}">
            <div class="ui-select-hitn"></div>
            <div class="ui-select-error" data-validate-for="title"></div>
        </div>
    </div>

    <div class="personal-area__wrap _indent-large typographical-block">
        <div class="title-counter__top">
            <label class="">Изображение</label>
        </div>
        {% component 'certificateUploader' %}
    </div>

    <div class="personal-area__wrap _indent-large typographical-block">
        <div class="title-counter__top">
            <label class="">Текст</label>
        </div>
        <script src="https://cdn.ckeditor.com/4.20.1/standard/ckeditor.js"></script>
        <textarea id="description" name="description"></textarea>
        <div class="ui-select-hitn"></div>
        <div class="ui-select-error" data-validate-for="description"></div>
    </div>

    <div class="wrapper__header _indent-large ui-input">
        <label class="personal-area__wrap _indent-medium ui-radio">
            <input type="radio" name="anonymity" value="1" checked hidden>
            <div class="ui-radio-checker"></div>
            <span class="ui-radio-text">Не анонимно</span>
        </label>
    </div>

    <div class="wrapper__header _indent-large ui-input">
        <label class="personal-area__wrap _indent-medium ui-radio">
            <input type="radio" name="anonymity" value="0" hidden>
            <div class="ui-radio-checker"></div>
            <span class="ui-radio-text">Анонимно</span>
        </label>
    </div>

    <div class="wrapper__footer">
        <button type="submit" class="ui-button ui-button-size--32 ui-button-view--2">
            <span>Отправить</span>
        </button>
    </div>

</form>

<style>
    .ck-editor__editable {
        min-height: 200px;
    }

    .wrapper__footer .ui-button span {
        margin: auto;
    }
</style>
<script>
    initEditor('description');


    initAutocomplete({
        container: '#input-authors',
        onRequestHandler: 'CertificateLC::onSearchAuthor',
        options: {
            minLength: 1
        }
    })
</script>

