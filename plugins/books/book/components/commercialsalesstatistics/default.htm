<div class="ui-container-fluid">
    <div class="commerce">

        <div class="commerce__block wrapper">

            {{ form_ajax('onFilterStatistics',{
            'data-request-flash':1,'data-request-validate':'1','data-request-complete':'iniSelect()'}) }}
            <div class="commerce-control">
                <div class="commerce-control__columns _flex-end _indent-large">
                    <div class="commerce-control__input _max-width ui-select">
                        <div class="ui-select-header">
                            <label class="ui-select-label">Книги</label>
                        </div>

                        <div class="ui-select-container">
                            <div class="ui-select-item _size-32">
                                <select class="book-select" name="book_id" style="display: none">
                                    <option
                                        {{ not current_book ? 'selected' : ''  }}
                                    value="">Все произведения</option>
                                    {% for book in books %}
                                    <option  value="{{book.id}}"
                                             {{ current_book.id == book.id ? 'selected' : ''  }}
                                    >{{book.title}}</option>
                                    {% endfor %}

                                </select>
                                <svg class="ui-select-item-icon chevron_up _fake">
                                    <use xlink:href="{{'assets/icon-sprite/svg-sprite.svg#chevron-up-16' | theme }}"></use>
                                </svg>
                                <svg class="ui-select-item-icon chevron_down _fake">
                                    <use xlink:href="{{'assets/icon-sprite/svg-sprite.svg#chevron-down-16' | theme }}"></use>
                                </svg>
                            </div>
                        </div>
                    </div>

                    <div class="commerce-control__input _max-width ui-select">
                        <div class="ui-select-header">
                            <label class="ui-select-label">Период</label>
                        </div>
                        <div class="ui-input-container">
                            <svg class="ui-input-item-icon _fake">
                                <use xlink:href="{{'assets/icon-sprite/svg-sprite.svg#chevron-down-16' | theme}}"></use>
                            </svg>
                            <input type="text" name="dates" class="ui-input-item _size-32" size="32">
                        </div>
                    </div>

                    <div class="commerce-control__input">
                        <button type="submit" class="ui-button ui-button-size--32 ui-button-view--2 ui-text--medium ui-button--full-mobile">Искать</button>
                    </div>
                </div>
            </div>
            {{ form_close() }}

            <div class="commerce__category">
                <div id="statisticsDataTable"></div>
            </div>
        </div>

    </div>
</div>
<script>
    $('input[name="dates"]').daterangepicker({
        startDate:`{{from}}`,
        endDate:'`{{to}}`',
        "locale": {
            "format": "DD.MM.YYYY",
            "separator": " - ",
            "applyLabel": "Применить",
            "cancelLabel": "Отменить",
            "fromLabel": "С",
            "toLabel": "По",
            "customRangeLabel": "Custom",
            "weekLabel": "W",
            "daysOfWeek": ["Вс","Пн","Вт","Ср","Th","Пт","Сб"],
            "monthNames": ["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],
            "firstDay": 1
        },
        'buttonClasses': 'ui-button ui-button-size--32',
        'cancelButtonClasses': 'ui-button-view--3',
        'applyButtonClasses': 'ui-button-view--2'
    });
</script>
